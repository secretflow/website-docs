---
git_download_url: https://github.com/secretflow/kuscia/raw/c4b58da2bec6a73bcbc79bd6cdfb5f2d3c8647d9/docs/reference/apis/datamesh/domaindatagrant_cn.md
git_last_modified_commit: 312299cba3241f8b44a899e1d8bf40a1d2a9bbcc
git_last_modified_time: '2023-11-08T21:07:54+08:00'
git_origin_url: https://github.com/secretflow/kuscia/blob/c4b58da2bec6a73bcbc79bd6cdfb5f2d3c8647d9/docs/reference/apis/datamesh/domaindatagrant_cn.md
git_owner: secretflow
git_repo: kuscia
git_revision_commit: c4b58da2bec6a73bcbc79bd6cdfb5f2d3c8647d9
git_revision_time: '2023-12-15T18:58:59+08:00'
---

:target{#domaindatagrant}

# DomainDataGrant

DomainDataGrant 表示被 Kuscia 管理的数据对象的授权，Data Mesh API 提供了从 Domain 侧的管理 DomainDataGrant
的能力。
请参考 [DomainDataGrant](../../concepts/domaindatagrant_cn.mdx)。
你可以从 [这里](https://github.com/secretflow/kuscia/blob/main/proto/api/v1alpha1/datamesh/domaindatagrant.proto) 找到对应的 protobuf 文件。

:target{#id1}

## 接口总览

<table>
  <thead>
    <tr>
      <td>
        方法名
      </td>

      <td>
        请求类型
      </td>

      <td>
        响应类型
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [CreateDomainDataGrant](#create-domain-data-grant)
      </td>

      <td>
        CreateDomainDataGrantRequest
      </td>

      <td>
        CreateDomainDataGrantResponse
      </td>

      <td>
        创建数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [UpdateDomainDataGrant](#update-domain-data-grant)
      </td>

      <td>
        UpdateDomainDataGrantRequest
      </td>

      <td>
        UpdateDomainDataGrantResponse
      </td>

      <td>
        更新数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [DeleteDomainDataGrant](#delete-domain-data-grant)
      </td>

      <td>
        DeleteDomainDataGrantRequest
      </td>

      <td>
        DeleteDomainDataGrantResponse
      </td>

      <td>
        删除数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [QueryDomainDataGrant](#query-domain-data-grant)
      </td>

      <td>
        QueryDomainDataGrantRequest
      </td>

      <td>
        QueryDomainDataGrantResponse
      </td>

      <td>
        查询数据对象授权
      </td>
    </tr>
  </tbody>
</table>

:target{#id2}

## 接口详情

:target{#create-domain-data-grant}

### 创建数据对象授权

:target{#http}

#### HTTP路径

/api/v1/datamesh/domaindatagrant/create

:target{#create-domain-data-grant-request}

#### 请求（CreateDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#request-header)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        可选
      </td>

      <td>
        数据对象授权ID，如果不填，则会由 datamesh 自动生成，并在 response 中返回。如果填写，则会使用填写的值，请注意需满足 [DNS 子域名规则要求](https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#dns-subdomain-names)
      </td>
    </tr>

    <tr>
      <td>
        domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象ID
      </td>
    </tr>

    <tr>
      <td>
        grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点ID
      </td>
    </tr>

    <tr>
      <td>
        limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        可选
      </td>

      <td>
        自定义描述
      </td>
    </tr>
  </tbody>
</table>

:target{#create-domain-data-grant-response}

#### 响应（CreateDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        CreateDomainDataGrantResponseData
      </td>

      <td>

      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        data.domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>
  </tbody>
</table>

:target{#update-domain-data-grant}

### 更新数据对象授权

:target{#id3}

#### HTTP路径

/api/v1/datamesh/domaindatagrant/update

:target{#updatedomaindatagrantrequest}

#### 请求（UpdateDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#id2)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>

    <tr>
      <td>
        domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象ID
      </td>
    </tr>

    <tr>
      <td>
        grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点ID
      </td>
    </tr>

    <tr>
      <td>
        limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        可选
      </td>

      <td>
        自定义描述
      </td>
    </tr>
  </tbody>
</table>

:target{#updatedomaindatagrantresponse}

#### 响应（UpdateDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>
  </tbody>
</table>

:target{#delete-domain-data-grant}

### 删除数据对象授权

:target{#id4}

#### HTTP路径

/api/v1/datamesh/domaindatagrant/delete

:target{#deletedomaindatagrantrequest}

#### 请求（DeleteDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#request-header)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>
  </tbody>
</table>

:target{#deletedomaindatagrantresponse}

#### 响应（DeleteDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>
  </tbody>
</table>

:target{#query-domain-data-grant}

### 查询数据对象授权

:target{#id5}

#### HTTP路径

/api/v1/datamesh/domaindatagrant/query

:target{#querydomaingrantrequest}

#### 请求（QueryDomainGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#request-header)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>
  </tbody>
</table>

:target{#querydomaindatagrantresponse}

#### 响应（QueryDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        DomainDataGrantData
      </td>

      <td>
        选填
      </td>

      <td>
        查询信息
      </td>
    </tr>

    <tr>
      <td>
        data.domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>

    <tr>
      <td>
        data.domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象ID
      </td>
    </tr>

    <tr>
      <td>
        data.grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点ID
      </td>
    </tr>

    <tr>
      <td>
        data.limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        data.description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        必填
      </td>

      <td>
        自定义描述
      </td>
    </tr>

    <tr>
      <td>
        data.author
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据授权方节点ID
      </td>
    </tr>

    <tr>
      <td>
        data.signature
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        数据授权信息签名（由授权方私钥签名）
      </td>
    </tr>
  </tbody>
</table>

:target{#id6}

## 公共

:target{#grant-limit-entity}

### GrantLimit

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        expiration\_time
      </td>

      <td>
        int64
      </td>

      <td>
        选填
      </td>

      <td>
        授权过期时间，Unix 时间戳，精确到纳秒
      </td>
    </tr>

    <tr>
      <td>
        use\_count
      </td>

      <td>
        int32
      </td>

      <td>
        选填
      </td>

      <td>
        授权使用次数
      </td>
    </tr>

    <tr>
      <td>
        flow\_id
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权对应的任务流ID
      </td>
    </tr>

    <tr>
      <td>
        components
      </td>

      <td>
        string\[]
      </td>

      <td>
        选填
      </td>

      <td>
        授权可用的组件ID
      </td>
    </tr>

    <tr>
      <td>
        initiator
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权指定的发起方
      </td>
    </tr>

    <tr>
      <td>
        input\_config
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权指定的算子输入参数
      </td>
    </tr>
  </tbody>
</table>
