---
git_download_url: https://github.com/secretflow/kuscia/raw/f1d2ebf6f9a4acd68047fa40b5d06b4140206db7/docs/reference/apis/domaindatagrant_cn.md
git_last_modified_commit: 312299cba3241f8b44a899e1d8bf40a1d2a9bbcc
git_last_modified_time: '2023-11-08T21:07:54+08:00'
git_origin_url: https://github.com/secretflow/kuscia/blob/f1d2ebf6f9a4acd68047fa40b5d06b4140206db7/docs/reference/apis/domaindatagrant_cn.md
git_owner: secretflow
git_repo: kuscia
git_revision_commit: f1d2ebf6f9a4acd68047fa40b5d06b4140206db7
git_revision_time: '2023-12-11T11:09:06+08:00'
---

:target{#domaindatagrant}

# DomainDataGrant

DomainDataGrant 表示被 Kuscia 管理的数据授权对象。请参考 [DomainDataGrant](../concepts/domaindatagrant_cn.mdx)。
你可以从 [这里](https://github.com/secretflow/kuscia/tree/main/proto/api/v1alpha1/kusciaapi/domaindatagrant.proto) 找到对应的 protobuf 文件。

:target{#id1}

## 接口总览

<table>
  <thead>
    <tr>
      <td>
        方法名
      </td>

      <td>
        请求类型
      </td>

      <td>
        响应类型
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [CreateDomainDataGrant](#create-domain-data-grant)
      </td>

      <td>
        CreateDomainDataGrantRequest
      </td>

      <td>
        CreateDomainDataGrantResponse
      </td>

      <td>
        创建数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [UpdateDomainDataGrant](#update-domain-data-grant)
      </td>

      <td>
        UpdateDomainDataGrantRequest
      </td>

      <td>
        UpdateDomainDataGrantResponse
      </td>

      <td>
        更新数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [DeleteDomainDataGrant](#delete-domain-data-grant)
      </td>

      <td>
        DeleteDomainDataGrantRequest
      </td>

      <td>
        DeleteDomainDataGrantResponse
      </td>

      <td>
        删除数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [QueryDomainDataGrant](#query-domain-data-grant)
      </td>

      <td>
        QueryDomainDataGrantRequest
      </td>

      <td>
        QueryDomainDataGrantResponse
      </td>

      <td>
        查询数据对象授权
      </td>
    </tr>

    <tr>
      <td>
        [BatchQueryDomainDataGrant](#batch-query-domain-data-grant)
      </td>

      <td>
        BatchQueryDomainDataGrantRequest
      </td>

      <td>
        BatchQueryDomainDataGrantResponse
      </td>

      <td>
        批量查询数据对象授权
      </td>
    </tr>
  </tbody>
</table>

:target{#id2}

## 接口详情

:target{#create-domain-data-grant}

### 创建数据对象授权

:target{#http}

#### HTTP 路径

/api/v1/domaindatagrant/create

:target{#create-domain-data-grant-request}

#### 请求（CreateDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#requestheader)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        可选
      </td>

      <td>
        数据对象授权 ID，如果不填，则会由 kusciaapi 自动生成，并在 response 中返回。如果填写，则会使用填写的值，请注意需满足 [DNS 子域名规则要求](https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#dns-subdomain-names)
      </td>
    </tr>

    <tr>
      <td>
        domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象 ID
      </td>
    </tr>

    <tr>
      <td>
        grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点ID
      </td>
    </tr>

    <tr>
      <td>
        limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        必填
      </td>

      <td>
        自定义描述
      </td>
    </tr>

    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        授权信息所有者节点ID
      </td>
    </tr>
  </tbody>
</table>

:target{#create-domain-data-grant-response}

#### 响应（CreateDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        CreateDomainDataGrantResponseData
      </td>

      <td>
        选填
      </td>

      <td>
        授权信息结果
      </td>
    </tr>

    <tr>
      <td>
        data.domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#update-domain-data-grant}

### 更新数据对象授权

:target{#id3}

#### HTTP 路径

/api/v1/domaindatagrant/update

:target{#updatedomaindatagrantrequest}

#### 请求（UpdateDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#requestheader)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权ID
      </td>
    </tr>

    <tr>
      <td>
        domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象ID
      </td>
    </tr>

    <tr>
      <td>
        grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点ID
      </td>
    </tr>

    <tr>
      <td>
        limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        可选
      </td>

      <td>
        自定义描述
      </td>
    </tr>

    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        授权信息所有者节点ID
      </td>
    </tr>
  </tbody>
</table>

:target{#updatedomaindatagrantresponse}

#### 响应（UpdateDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>
  </tbody>
</table>

:target{#delete-domain-data-grant}

### 删除数据对象授权

:target{#id4}

#### HTTP 路径

/api/v1/domaindatagrant/delete

:target{#deletedomaindatagrantrequest}

#### 请求（DeleteDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#requestheader)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        节点 ID
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#deletedomaindatagrantresponse}

#### 响应（DeleteDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>
  </tbody>
</table>

:target{#query-domain-data-grant}

### 查询数据对象授权

:target{#id5}

#### HTTP 路径

/api/v1/domaindatagrant/query

:target{#querydomaingrantrequest}

#### 请求（QueryDomainGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#requestheader)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        节点 ID
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#querydomaingrantresponse}

#### 响应（QueryDomainGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        [DomainDataGrant](#domain-data-grant-entity)
      </td>

      <td>
        可选
      </td>

      <td>
        授权信息
      </td>
    </tr>
  </tbody>
</table>

:target{#batch-query-domain-data-grant}

### 批量查询数据对象授权

:target{#id6}

#### HTTP 路径

/api/v1/domaindatagrant/batchQuery

:target{#batchquerydomaindatagrantrequest}

#### 请求（BatchQueryDomainDataGrantRequest）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        header
      </td>

      <td>
        [<span>RequestHeader</span>](summary_cn.mdx#requestheader)
      </td>

      <td>
        可选
      </td>

      <td>
        自定义请求内容
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        [QueryDomainDataGrantRequestData](#query-domain-data-grant-request-data)\[]
      </td>

      <td>
        必填
      </td>

      <td>
        查询内容
      </td>
    </tr>
  </tbody>
</table>

:target{#batchquerydomaindatagrantresponse}

#### 响应（BatchQueryDomainDataGrantResponse）

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        status
      </td>

      <td>
        [<span>Status</span>](summary_cn.mdx#status)
      </td>

      <td>
        必填
      </td>

      <td>
        状态信息
      </td>
    </tr>

    <tr>
      <td>
        data
      </td>

      <td>
        [DomainDataGrant](#domain-data-grant-entity)\[]
      </td>

      <td>
        可选
      </td>

      <td>
        授权信息列表
      </td>
    </tr>
  </tbody>
</table>

:target{#list-domain-data-grant}

## 公共

:target{#grant-limit-entity}

### GrantLimit

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        expiration\_time
      </td>

      <td>
        int64
      </td>

      <td>
        选填
      </td>

      <td>
        授权过期时间，Unix 时间戳，精确到纳秒
      </td>
    </tr>

    <tr>
      <td>
        use\_count
      </td>

      <td>
        int32
      </td>

      <td>
        选填
      </td>

      <td>
        授权使用次数
      </td>
    </tr>

    <tr>
      <td>
        flow\_id
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权对应的任务流ID
      </td>
    </tr>

    <tr>
      <td>
        components
      </td>

      <td>
        repeated string
      </td>

      <td>
        选填
      </td>

      <td>
        授权可用的组件ID
      </td>
    </tr>

    <tr>
      <td>
        initiator
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权指定的发起方
      </td>
    </tr>

    <tr>
      <td>
        input\_config
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        授权指定的算子输入参数
      </td>
    </tr>
  </tbody>
</table>

:target{#query-domain-data-grant-request-data}

### QueryDomainDataGrantRequestData

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        节点 ID
      </td>
    </tr>

    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#domain-data-grant-entity}

### DomainDataGrant

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        data
      </td>

      <td>
        [DomainDataGrantData](#domain-data-grant-data-entity)
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象ID
      </td>
    </tr>

    <tr>
      <td>
        status
      </td>

      <td>
        [DomainDataGrantStatus](#domain-data-grant-status-entity)
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#domain-data-grant-data-entity}

### DomainDataGrantData

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        domaindatagrant\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权 ID
      </td>
    </tr>

    <tr>
      <td>
        author
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象授权方节点 ID
      </td>
    </tr>

    <tr>
      <td>
        domaindata\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        数据对象 ID
      </td>
    </tr>

    <tr>
      <td>
        grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        被授权节点 ID
      </td>
    </tr>

    <tr>
      <td>
        limit
      </td>

      <td>
        [GrantLimit](#grant-limit-entity)
      </td>

      <td>
        选填
      </td>

      <td>
        授权限制条件
      </td>
    </tr>

    <tr>
      <td>
        description
      </td>

      <td>
        map\<string, string>
      </td>

      <td>
        可选
      </td>

      <td>
        自定义描述
      </td>
    </tr>

    <tr>
      <td>
        domain\_id
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        授权信息所有者节点 ID
      </td>
    </tr>
  </tbody>
</table>

:target{#domain-data-grant-status-entity}

### DomainDataGrantStatus

<table>
  <thead>
    <tr>
      <td>
        字段
      </td>

      <td>
        类型
      </td>

      <td>
        选填
      </td>

      <td>
        描述
      </td>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        phase
      </td>

      <td>
        string
      </td>

      <td>
        必填
      </td>

      <td>
        状态
      </td>
    </tr>

    <tr>
      <td>
        message
      </td>

      <td>
        string
      </td>

      <td>
        可选
      </td>

      <td>
        状态描述信息
      </td>
    </tr>

    <tr>
      <td>
        records
      </td>

      <td>
        UseRecord\[]
      </td>

      <td>
        选填
      </td>

      <td>
        授权使用记录
      </td>
    </tr>

    <tr>
      <td>
        records\[].use\_time
      </td>

      <td>
        int64
      </td>

      <td>
        选填
      </td>

      <td>
        读取授权信息时间，Unix 时间戳，精确到纳秒
      </td>
    </tr>

    <tr>
      <td>
        records\[].grant\_domain
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        被授权节点 ID
      </td>
    </tr>

    <tr>
      <td>
        records\[].component
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        使用授权的组件
      </td>
    </tr>

    <tr>
      <td>
        records\[].output
      </td>

      <td>
        string
      </td>

      <td>
        选填
      </td>

      <td>
        使用授权的任务输出
      </td>
    </tr>
  </tbody>
</table>
