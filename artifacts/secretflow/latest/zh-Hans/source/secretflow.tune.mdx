---
git_download_url: https://github.com/secretflow/secretflow/raw/8cf652dadee6c02cb09a0225efa6d7c6bae31246/docs/source/secretflow.tune.rst
git_last_modified_commit: null
git_last_modified_time: null
git_origin_url: https://github.com/secretflow/secretflow/blob/8cf652dadee6c02cb09a0225efa6d7c6bae31246/docs/source/secretflow.tune.rst
git_owner: secretflow
git_repo: secretflow
git_revision_commit: 8cf652dadee6c02cb09a0225efa6d7c6bae31246
git_revision_time: '2024-01-04T11:45:08+08:00'
---

:target{#secretflow-tune-package}

# secretflow\.tune package

:target{#subpackages}

## Subpackages

<TableOfContents>


  - [secretflow.tune.core package](secretflow.tune.tune.core.mdx)
    - [Module contents](secretflow.tune.tune.core.mdx#module-secretflow.tune.core)
  - [secretflow.tune.schedular package](secretflow.tune.tune.schedular.mdx)
    - [Module contents](secretflow.tune.tune.schedular.mdx#module-secretflow.tune.schedular)
  - [secretflow.tune.search package](secretflow.tune.tune.search.mdx)
    - [Submodules](secretflow.tune.tune.search.mdx#submodules)
    - [secretflow.tune.search.search\_algorithm module](secretflow.tune.tune.search.mdx#module-secretflow.tune.search.search_algorithm)
    - [secretflow.tune.search.variant\_generator module](secretflow.tune.tune.search.mdx#module-secretflow.tune.search.variant_generator)
    - [Module contents](secretflow.tune.tune.search.mdx#module-secretflow.tune.search)
  - [secretflow.tune.trainable package](secretflow.tune.tune.trainable.mdx)
    - [Submodules](secretflow.tune.tune.trainable.mdx#submodules)
    - [secretflow.tune.trainable.util module](secretflow.tune.tune.trainable.mdx#module-secretflow.tune.trainable.util)
    - [Module contents](secretflow.tune.tune.trainable.mdx#module-secretflow.tune.trainable)
</TableOfContents>

:target{#submodules}

## Submodules

:target{id="module-secretflow.tune.result"}

## <Target id="secretflow-tune-result-module" />secretflow\.tune.result module

:target{id="module-secretflow.tune.result_grid"}

## <Target id="secretflow-tune-result-grid-module" />secretflow\.tune.result\_grid module

:target{id="module-secretflow.tune.train"}

## <Target id="secretflow-tune-train-module" />secretflow\.tune.train module

:target{id="module-secretflow.tune.tune_config"}

## <Target id="secretflow-tune-tune-config-module" />secretflow\.tune.tune\_config module

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`RunConfig`](#secretflow.tune.tune_config.RunConfig "secretflow.tune.tune_config.RunConfig")(\*\*kwargs)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="class" target={"secretflow.tune.tune_config.RunConfig"} module={"secretflow.tune.tune_config"} fullname={"RunConfig"} parameters={["kwargs"]} description={"\u57fa\u7c7b\uff1aRunConfig"}>
  <Outline.Signature fullname="RunConfig" id="secretflow.tune.tune_config.RunConfig">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.tune.tune\_config.</Outline.Prefix><Outline.Name>RunConfig</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span>\*\*</span><span className="name">kwargs</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：`RunConfig`

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.tune.tune_config.RunConfig.__init__ "secretflow.tune.tune_config.RunConfig.__init__")(\*\*kwargs)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.tune.tune_config.RunConfig.__init__"} module={"secretflow.tune.tune_config"} fullname={"RunConfig.__init__"} parameters={["kwargs"]} description={"\u57fa\u7c7b\uff1aRunConfig"}>
      <Outline.Signature fullname="RunConfig.__init__" id="secretflow.tune.tune_config.RunConfig.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span>\*\*</span><span className="name">kwargs</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

:target{id="module-secretflow.tune.tuner"}

## <Target id="secretflow-tune-tuner-module" />secretflow\.tune.tuner module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`trainable_wrapper`](#secretflow.tune.tuner.trainable_wrapper "secretflow.tune.tuner.trainable_wrapper")(trainable, global\_params)
      </td>

      <td>
        Wrapper function for trainable functions.
      </td>
    </tr>
  </tbody>
</table>

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`Tuner`](#secretflow.tune.tuner.Tuner "secretflow.tune.tuner.Tuner")(\[trainable, cluster\_resources, ...])
      </td>

      <td>
        The secretflow Tuner for launching hyperparameter tuning jobs. \:param trainable: Then trainable to be tuned. \:param cluster\_resources\[List\[Dict]]: The resources for each experiment to use. See example for more information. \:param param\_space: Search space of the tuning job. \:param tune\_config: Tuning algorithm specific configs. \:param run\_config: Runtime configuration that is specific to individual trials. If passed, this will overwrite the run config passed to the Trainer,                    if applicable. Refer to ray.air.config.RunConfig for more info.
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.tune.tuner.trainable_wrapper"} module={"secretflow.tune.tuner"} fullname={"trainable_wrapper"} parameters={["trainable", "global_params"]} description={"Wrapper function for trainable functions.\nThis function is used to launch hyperparameter tuning jobs.\n:param trainable: Then trainable to be tuned.\n:param global_params: Global parameters for the trainable function."}>
  <Outline.Signature fullname="trainable_wrapper" id="secretflow.tune.tuner.trainable_wrapper">
    <Outline.Prefix>secretflow\.tune.tuner.</Outline.Prefix><Outline.Name>trainable\_wrapper</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">trainable</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">global\_params</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Wrapper function for trainable functions.
    This function is used to launch hyperparameter tuning jobs.
    \:param trainable: Then trainable to be tuned.
    \:param global\_params: Global parameters for the trainable function.

    <FieldList>
      <dl>
        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          A dictionary containing the results of the training.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.tune.tuner.Tuner"} module={"secretflow.tune.tuner"} fullname={"Tuner"} parameters={["trainable", "cluster_resources", "param_space", "tune_config", "run_config"]} description={"\u57fa\u7c7b\uff1aobject"}>
  <Outline.Signature fullname="Tuner" id="secretflow.tune.tuner.Tuner">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.tune.tuner.</Outline.Prefix><Outline.Name>Tuner</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">trainable</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.12）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cluster\_resources</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span>\*</span></Outline.Parameter>, <Outline.Parameter><span className="name">param\_space</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.12）")<span>,</span><span>{" "}</span>[Any](https://docs.python.org/3/library/typing.html#typing.Any "（在 Python v3.12）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">tune\_config</span><span>:</span><span>{" "}</span><span className="name">TuneConfig<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">run\_config</span><span>:</span><span>{" "}</span><span className="name">RunConfig<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`object`](https://docs.python.org/3/library/functions.html#object "（在 Python v3.12）")

    The secretflow Tuner for launching hyperparameter tuning jobs.
    \:param trainable: Then trainable to be tuned.
    \:param cluster\_resources\[List\[Dict]]: The resources for each experiment to use. See example for more information.
    \:param param\_space: Search space of the tuning job.
    \:param tune\_config: Tuning algorithm specific configs.
    \:param run\_config: Runtime configuration that is specific to individual trials.

    > If passed, this will overwrite the run config passed to the Trainer,
    > if applicable. Refer to ray.air.config.RunConfig for more info.

    Basic usage:

    ```python
    import secretflow as sf
    from secretflow import tune
    sf.init(parties=['alice','bob'], address='local')
    def trainable(config):
        alice = sf.PYU('alice')
        bob = sf.PYU('bob')
        # do anything

    tuner = tune.Tuner(
        trainable,
        param_space={'a': tune.grid_search([1,2,3])}
    )
    ```

    Each experiment in the above example will comsume all resources and be executed serially.
    You can  manually specify the resource usage in each experiment to achive optimal parallelism and performance.

    ```python
    tuner = tune.Tuner(
        trainable,
        cluster_resources=[
            {'alice': 1, 'CPU' 4},
            {'bob': 1, 'CPU' 4}
        ]
        param_space = {'a': tune.grid_search([1,2,3])}
    )
    ```

    In the above example, both alice and bob will use 4 CPU in each experiment.
    If your machine has 16 CPUs, Tune will run 2 experiments in parallel.
    Note that the numbers associated with PYU (above, Alice or Bob which is 1)
    have no significance and can be any value,
    but the custom resources you define need to be set correct.

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.tune.tuner.Tuner.__init__ "secretflow.tune.tuner.Tuner.__init__")(\[trainable, cluster\_resources, ...])
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`fit`](#secretflow.tune.tuner.Tuner.fit "secretflow.tune.tuner.Tuner.fit")()
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`ray_tune`](#secretflow.tune.tuner.Tuner.ray_tune "secretflow.tune.tuner.Tuner.ray_tune")
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.tune.tuner.Tuner.__init__"} module={"secretflow.tune.tuner"} fullname={"Tuner.__init__"} parameters={["trainable", "cluster_resources", "param_space", "tune_config", "run_config"]} description={"\u57fa\u7c7b\uff1aobject"}>
      <Outline.Signature fullname="Tuner.__init__" id="secretflow.tune.tuner.Tuner.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">trainable</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.12）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cluster\_resources</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span>\*</span></Outline.Parameter>, <Outline.Parameter><span className="name">param\_space</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.12）")<span>,</span><span>{" "}</span>[Any](https://docs.python.org/3/library/typing.html#typing.Any "（在 Python v3.12）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">tune\_config</span><span>:</span><span>{" "}</span><span className="name">TuneConfig<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">run\_config</span><span>:</span><span>{" "}</span><span className="name">RunConfig<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.tune.tuner.Tuner.ray_tune"} module={"secretflow.tune.tuner"} fullname={"Tuner.ray_tune"} parameters={["trainable", "cluster_resources", "param_space", "tune_config", "run_config"]} description={"\u57fa\u7c7b\uff1aobject"}>
      <Outline.Signature fullname="Tuner.ray_tune" id="secretflow.tune.tuner.Tuner.ray_tune">
        <Outline.Name>ray\_tune</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>Tuner</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.tune.tuner.Tuner.fit"} module={"secretflow.tune.tuner"} fullname={"Tuner.fit"} parameters={[]} description={"\u57fa\u7c7b\uff1aobject"}>
      <Outline.Signature fullname="Tuner.fit" id="secretflow.tune.tuner.Tuner.fit">
        <Outline.Name>fit</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>ResultGrid</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

:target{id="module-secretflow.tune"}

## <Target id="module-contents" />Module contents
