:target{#secretflow-package}

# secretflow package

:target{#subpackages}

## Subpackages

<TableOfContents>


  - [secretflow.component package](secretflow.component.mdx)
    - [Subpackages](secretflow.component.mdx#subpackages)
    - [Submodules](secretflow.component.mdx#submodules)
    - [secretflow.component.component module](secretflow.component.mdx#module-secretflow.component.component)
    - [secretflow.component.data\_utils module](secretflow.component.mdx#module-secretflow.component.data_utils)
    - [secretflow.component.entry module](secretflow.component.mdx#module-secretflow.component.entry)
    - [secretflow.component.eval\_param\_reader module](secretflow.component.mdx#module-secretflow.component.eval_param_reader)
    - [secretflow.component.i18n module](secretflow.component.mdx#module-secretflow.component.i18n)
    - [Module contents](secretflow.component.mdx#module-secretflow.component)
  - [secretflow.data package](secretflow.data.mdx)
    - [Subpackages](secretflow.data.mdx#subpackages)
    - [Submodules](secretflow.data.mdx#submodules)
    - [secretflow.data.base module](secretflow.data.mdx#module-secretflow.data.base)
    - [secretflow.data.math\_utils module](secretflow.data.mdx#module-secretflow.data.math_utils)
    - [secretflow.data.ndarray module](secretflow.data.mdx#module-secretflow.data.ndarray)
    - [secretflow.data.split module](secretflow.data.mdx#module-secretflow.data.split)
    - [Module contents](secretflow.data.mdx#module-secretflow.data)
  - [secretflow.device package](secretflow.device.mdx)
    - [Subpackages](secretflow.device.mdx#subpackages)
    - [Submodules](secretflow.device.mdx#submodules)
    - [secretflow.device.driver module](secretflow.device.mdx#module-secretflow.device.driver)
    - [secretflow.device.global\_state module](secretflow.device.mdx#module-secretflow.device.global_state)
    - [secretflow.device.link module](secretflow.device.mdx#module-secretflow.device.link)
    - [secretflow.device.proxy module](secretflow.device.mdx#module-secretflow.device.proxy)
    - [Module contents](secretflow.device.mdx#module-secretflow.device)
  - [secretflow.distributed package](secretflow.distributed.mdx)
    - [Submodules](secretflow.distributed.mdx#submodules)
    - [secretflow.distributed.primitive module](secretflow.distributed.mdx#module-secretflow.distributed.primitive)
    - [Module contents](secretflow.distributed.mdx#module-secretflow.distributed)
  - [secretflow.kuscia package](secretflow.kuscia.mdx)
    - [Submodules](secretflow.kuscia.mdx#submodules)
    - [secretflow.kuscia.datamesh module](secretflow.kuscia.mdx#module-secretflow.kuscia.datamesh)
    - [secretflow.kuscia.entry module](secretflow.kuscia.mdx#module-secretflow.kuscia.entry)
    - [secretflow.kuscia.ray\_config module](secretflow.kuscia.mdx#module-secretflow.kuscia.ray_config)
    - [secretflow.kuscia.sf\_config module](secretflow.kuscia.mdx#module-secretflow.kuscia.sf_config)
    - [secretflow.kuscia.task\_config module](secretflow.kuscia.mdx#module-secretflow.kuscia.task_config)
    - [Module contents](secretflow.kuscia.mdx#module-secretflow.kuscia)
  - [secretflow.ml package](secretflow.ml.mdx)
    - [Subpackages](secretflow.ml.mdx#subpackages)
    - [Module contents](secretflow.ml.mdx#module-secretflow.ml)
  - [secretflow.preprocessing package](secretflow.preprocessing.mdx)
    - [Subpackages](secretflow.preprocessing.mdx#subpackages)
    - [Submodules](secretflow.preprocessing.mdx#submodules)
    - [secretflow.preprocessing.base module](secretflow.preprocessing.mdx#module-secretflow.preprocessing.base)
    - [secretflow.preprocessing.discretization module](secretflow.preprocessing.mdx#module-secretflow.preprocessing.discretization)
    - [secretflow.preprocessing.encoder module](secretflow.preprocessing.mdx#module-secretflow.preprocessing.encoder)
    - [secretflow.preprocessing.scaler module](secretflow.preprocessing.mdx#module-secretflow.preprocessing.scaler)
    - [secretflow.preprocessing.transformer module](secretflow.preprocessing.mdx#module-secretflow.preprocessing.transformer)
    - [Module contents](secretflow.preprocessing.mdx#module-secretflow.preprocessing)
  - [secretflow.protos package](secretflow.protos.mdx)
    - [Subpackages](secretflow.protos.mdx#subpackages)
    - [Module contents](secretflow.protos.mdx#module-secretflow.protos)
  - [secretflow.security package](secretflow.security.mdx)
    - [Subpackages](secretflow.security.mdx#subpackages)
    - [Submodules](secretflow.security.mdx#submodules)
    - [secretflow.security.diffie\_hellman module](secretflow.security.mdx#module-secretflow.security.diffie_hellman)
    - [Module contents](secretflow.security.mdx#module-secretflow.security)
  - [secretflow.stats package](secretflow.stats.mdx)
    - [Subpackages](secretflow.stats.mdx#subpackages)
    - [Submodules](secretflow.stats.mdx#submodules)
    - [secretflow.stats.biclassification\_eval module](secretflow.stats.mdx#module-secretflow.stats.biclassification_eval)
    - [secretflow.stats.prediction\_bias\_eval module](secretflow.stats.mdx#module-secretflow.stats.prediction_bias_eval)
    - [secretflow.stats.psi\_eval module](secretflow.stats.mdx#module-secretflow.stats.psi_eval)
    - [secretflow.stats.regression\_eval module](secretflow.stats.mdx#module-secretflow.stats.regression_eval)
    - [secretflow.stats.score\_card module](secretflow.stats.mdx#module-secretflow.stats.score_card)
    - [secretflow.stats.ss\_pearsonr\_v module](secretflow.stats.mdx#module-secretflow.stats.ss_pearsonr_v)
    - [secretflow.stats.ss\_pvalue\_v module](secretflow.stats.mdx#module-secretflow.stats.ss_pvalue_v)
    - [secretflow.stats.ss\_vif\_v module](secretflow.stats.mdx#module-secretflow.stats.ss_vif_v)
    - [secretflow.stats.table\_statistics module](secretflow.stats.mdx#module-secretflow.stats.table_statistics)
    - [Module contents](secretflow.stats.mdx#module-secretflow.stats)
  - [secretflow.utils package](secretflow.utils.mdx)
    - [Subpackages](secretflow.utils.mdx#subpackages)
    - [Submodules](secretflow.utils.mdx#submodules)
    - [secretflow.utils.cloudpickle module](secretflow.utils.mdx#module-secretflow.utils.cloudpickle)
    - [secretflow.utils.communicate module](secretflow.utils.mdx#module-secretflow.utils.communicate)
    - [secretflow.utils.compressor module](secretflow.utils.mdx#module-secretflow.utils.compressor)
    - [secretflow.utils.errors module](secretflow.utils.mdx#module-secretflow.utils.errors)
    - [secretflow.utils.hash module](secretflow.utils.mdx#module-secretflow.utils.hash)
    - [secretflow.utils.io module](secretflow.utils.mdx#module-secretflow.utils.io)
    - [secretflow.utils.logging module](secretflow.utils.mdx#module-secretflow.utils.logging)
    - [secretflow.utils.ndarray\_bigint module](secretflow.utils.mdx#module-secretflow.utils.ndarray_bigint)
    - [secretflow.utils.ndarray\_encoding module](secretflow.utils.mdx#module-secretflow.utils.ndarray_encoding)
    - [secretflow.utils.progress module](secretflow.utils.mdx#module-secretflow.utils.progress)
    - [secretflow.utils.random module](secretflow.utils.mdx#module-secretflow.utils.random)
    - [secretflow.utils.ray\_compatibility module](secretflow.utils.mdx#module-secretflow.utils.ray_compatibility)
    - [secretflow.utils.sigmoid module](secretflow.utils.mdx#module-secretflow.utils.sigmoid)
    - [secretflow.utils.testing module](secretflow.utils.mdx#module-secretflow.utils.testing)
    - [Module contents](secretflow.utils.mdx#module-secretflow.utils)
</TableOfContents>

:target{#submodules}

## Submodules

:target{id="module-secretflow.cli"}

## secretflow\.cli module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`print_version`](#secretflow.cli.print_version "secretflow.cli.print_version")(ctx, param, value)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.cli.print_version"} module={"secretflow.cli"} fullname={"print_version"} parameters={["ctx", "param", "value"]}>
  <Outline.Signature fullname="print_version" id="secretflow.cli.print_version">
    <Outline.Prefix>secretflow\.cli.</Outline.Prefix><Outline.Name>print\_version</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">ctx</span></Outline.Parameter>, <Outline.Parameter><span className="name">param</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.version"}

## secretflow\.version module

:target{#module-secretflow}

## Module contents

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`HEU`](#secretflow.HEU "secretflow.HEU")(config, spu\_field\_type)
      </td>

      <td>
        Homomorphic encryption device
      </td>
    </tr>

    <tr>
      <td>
        [`PYU`](#secretflow.PYU "secretflow.PYU")(party)
      </td>

      <td>
        PYU is the device doing computation in single domain.
      </td>
    </tr>

    <tr>
      <td>
        [`SPU`](#secretflow.SPU "secretflow.SPU")(cluster\_def, link\_desc, log\_options, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`TEEU`](#secretflow.TEEU "secretflow.TEEU")(party, mr\_enclave)
      </td>

      <td>
        TEEU is the python processing uint of TEE.
      </td>
    </tr>

    <tr>
      <td>
        [`Device`](#secretflow.Device "secretflow.Device")(device\_type)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`DeviceObject`](#secretflow.DeviceObject "secretflow.DeviceObject")(device)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`HEUObject`](#secretflow.HEUObject "secretflow.HEUObject")(device, data, location\_party\[, ...])
      </td>

      <td>
        HEU Object
      </td>
    </tr>

    <tr>
      <td>
        [`PYUObject`](#secretflow.PYUObject "secretflow.PYUObject")(device, data)
      </td>

      <td>
        PYU device object.
      </td>
    </tr>

    <tr>
      <td>
        [`SPUObject`](#secretflow.SPUObject "secretflow.SPUObject")(device, meta, shares\_name)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`init`](#secretflow.init "secretflow.init")(\[parties, address, cluster\_config, ...])
      </td>

      <td>
        Connect to an existing Ray cluster or start one and connect to it.
      </td>
    </tr>

    <tr>
      <td>
        [`proxy`](#secretflow.proxy "secretflow.proxy")(device\_object\_type\[, max\_concurrency, ...])
      </td>

      <td>
        Define a device class which should accept DeviceObject as method parameters and return DeviceObject.
      </td>
    </tr>

    <tr>
      <td>
        [`reveal`](#secretflow.reveal "secretflow.reveal")(func\_or\_object\[, heu\_encoder])
      </td>

      <td>
        Get plaintext data from device.
      </td>
    </tr>

    <tr>
      <td>
        [`shutdown`](#secretflow.shutdown "secretflow.shutdown")()
      </td>

      <td>
        Disconnect the worker, and terminate processes started by secretflow\.init().
      </td>
    </tr>

    <tr>
      <td>
        [`to`](#secretflow.to "secretflow.to")(device, data)
      </td>

      <td>
        Device object conversion.
      </td>
    </tr>

    <tr>
      <td>
        [`wait`](#secretflow.wait "secretflow.wait")(objects)
      </td>

      <td>
        Wait for device objects until all are ready or error occurrency.
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="class" target={"secretflow.HEU"} module={"secretflow"} fullname={"HEU"} parameters={["config", "spu_field_type"]} description={"\u57fa\u7c7b\uff1aDevice"}>
  <Outline.Signature fullname="HEU" id="secretflow.HEU">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>HEU</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">config</span><span>:</span><span>{" "}</span><span className="name">[dict](https://docs.python.org/3/library/stdtypes.html#dict "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">spu\_field\_type</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`Device`](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")

    Homomorphic encryption device

    HEU is a virtual device, and each HEU instance consists of multiple parties. Since HE is an
    asymmetric encryption algorithm, the participants that make up an HEU are divided into
    sk\_keeper and evaluator. sk\_keeper has one and only one participant, which has a private key
    and a public key, and has decryption and computing capabilities. On the other hand, evaluators
    only have public key and have computing capability.

    HEU supports data flow between Devices (using the ‘to()’ function). Currently, the flow
    directions supported by HEU are:

    > - PYU -> HEU: lazy data encryption: if HEU and PYU belong to the same party, the plaintext
    >   will be moved, otherwise do encryption and move
    > - HEU -> PYU: decrypted data
    > - HEU -> HEU: data is moved between different parties in the same HEU, if the data is in
    >   plaintext, encryption is triggered
    > - SPU -> HEU: Convert Arithmetic Sharing data into HE encrypted data and store it in the
    >   specified evaluator
    > - HEU -> SPU: Convert HE encrypted data into Arithmetic Sharing data and store it in SPU

    HEU 是个虚拟设备，每个 HEU 实例由多个参与方组成。由于 HE 是一种非对称加密算法，组成 HEU 实例的参与方分为
    sk\_keeper 和 evaluator， sk\_keeper 有且仅有一个参与方，其拥有私钥和公钥，俱备解密、运算能力，其余参与方皆为
    evaluator，仅有公钥，俱备运算能力。

    HEU 支持数据在 Device 之间流动（使用 to 函数），目前 HEU 支持的流动方向有：

    - PYU -> HEU: 数据 Lazy 加密：如果 HEU 与 PYU 属于同一个参与方，则明文移动，反之触发加密并移动
    - HEU -> PYU: 解密数据
    - HEU -> HEU: 数据在同一个 HEU 的不同参与方之间移动，如果数据是明文态，则触发加密
    - SPU -> HEU: 将 Arithmetic Sharing 的数据转换成 HE 加密的数据并存放到指定 evaluator 中
    - HEU -> SPU: 将 HE 加密的数据转换成 Arithmetic Sharing 数据并存放到 SPU

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.HEU.__init__ "secretflow.HEU.__init__")(config, spu\_field\_type)
          </td>

          <td>
            Initialize HEU
          </td>
        </tr>

        <tr>
          <td>
            [`init`](#secretflow.HEU.init "secretflow.HEU.init")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`sk_keeper_name`](#secretflow.HEU.sk_keeper_name "secretflow.HEU.sk_keeper_name")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`evaluator_names`](#secretflow.HEU.evaluator_names "secretflow.HEU.evaluator_names")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`get_participant`](#secretflow.HEU.get_participant "secretflow.HEU.get_participant")(party)
          </td>

          <td>
            Get ray actor by name
          </td>
        </tr>

        <tr>
          <td>
            [`has_party`](#secretflow.HEU.has_party "secretflow.HEU.has_party")(party)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.__init__"} module={"secretflow"} fullname={"HEU.__init__"} parameters={["config", "spu_field_type"]} description={"Initialize HEU"}>
      <Outline.Signature fullname="HEU.__init__" id="secretflow.HEU.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">config</span><span>:</span><span>{" "}</span><span className="name">[dict](https://docs.python.org/3/library/stdtypes.html#dict "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">spu\_field\_type</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Initialize HEU

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>config</strong> –&#x20;

                HEU init config, for example
                ```python
                {
                    'sk_keeper': {
                        'party': 'alice'
                    },
                    'evaluators': [
                        {
                            'party': 'bob'
                        }
                    ],
                    # The HEU working mode, only support PHEU currently
                    'mode': 'PHEU',
                    'encoding': {
                        # TODO: cleartext_type should be migrated to HeObject.
                        # DT_I1
                        # DT_I8, DT_I16, DT_I32, DT_I64
                        # DT_U8, DT_U16, DT_U32, DT_U64
                        # DT_F32 (default), DT_F64
                        'cleartext_type': 'DT_F32'
                        # see https://www.secretflow.org.cn/docs/heu/latest/en-US/getting_started/quick_start#id3 for detail
                        # available encoders:
                        #     - IntegerEncoder: Plaintext = Cleartext * scale
                        #     - FloatEncoder (default): Plaintext = Cleartext * scale
                        #     - BigintEncoder: Plaintext = Cleartext
                        #     - BatchIntegerEncoder: Plaintext = Pack[Cleartext, Cleartext]
                        #     - BatchFloatEncoder: Plaintext = Pack[Cleartext, Cleartext]
                        'encoder': 'FloatEncoder'
                    },
                    'he_parameters': {
                        # which HE algorithm to use,
                        # see https://www.secretflow.org.cn/docs/heu/latest/en-US/getting_started/algo_choice for detail
                        'schema': 'paillier',
                        'key_pair': {
                            'generate': {
                                'bit_size': 2048,
                            },
                        }
                    }
                }
                ```
              - <strong>spu\_field\_type</strong> – Field type in spu,
                Device.to operation requires the data scale of HEU to be aligned with SPU
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.init"} module={"secretflow"} fullname={"HEU.init"} parameters={[]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="HEU.init" id="secretflow.HEU.init">
        <Outline.Name>init</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.sk_keeper_name"} module={"secretflow"} fullname={"HEU.sk_keeper_name"} parameters={[]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="HEU.sk_keeper_name" id="secretflow.HEU.sk_keeper_name">
        <Outline.Name>sk\_keeper\_name</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.evaluator_names"} module={"secretflow"} fullname={"HEU.evaluator_names"} parameters={[]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="HEU.evaluator_names" id="secretflow.HEU.evaluator_names">
        <Outline.Name>evaluator\_names</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.get_participant"} module={"secretflow"} fullname={"HEU.get_participant"} parameters={["party"]} description={"Get ray actor by name"}>
      <Outline.Signature fullname="HEU.get_participant" id="secretflow.HEU.get_participant">
        <Outline.Name>get\_participant</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Get ray actor by name
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEU.has_party"} module={"secretflow"} fullname={"HEU.has_party"} parameters={["party"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="HEU.has_party" id="secretflow.HEU.has_party">
        <Outline.Name>has\_party</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.PYU"} module={"secretflow"} fullname={"PYU"} parameters={["party"]} description={"\u57fa\u7c7b\uff1aDevice"}>
  <Outline.Signature fullname="PYU" id="secretflow.PYU">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>PYU</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`Device`](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")

    PYU is the device doing computation in single domain.

    Essentially PYU is a python worker who can execute any python code.

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.PYU.__init__ "secretflow.PYU.__init__")(party)
          </td>

          <td>
            PYU contructor.
          </td>
        </tr>

        <tr>
          <td>
            [`dump`](#secretflow.PYU.dump "secretflow.PYU.dump")(obj, path)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`load`](#secretflow.PYU.load "secretflow.PYU.load")(path)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.PYU.__init__"} module={"secretflow"} fullname={"PYU.__init__"} parameters={["party"]} description={"PYU contructor."}>
      <Outline.Signature fullname="PYU.__init__" id="secretflow.PYU.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        PYU contructor.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              <strong>party</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Party name where this device is located.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.PYU.dump"} module={"secretflow"} fullname={"PYU.dump"} parameters={["obj", "path"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="PYU.dump" id="secretflow.PYU.dump">
        <Outline.Name>dump</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">obj</span><span>:</span><span>{" "}</span><span className="name">[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")</span></Outline.Parameter>, <Outline.Parameter><span className="name">path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.PYU.load"} module={"secretflow"} fullname={"PYU.load"} parameters={["path"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="PYU.load" id="secretflow.PYU.load">
        <Outline.Name>load</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.SPU"} module={"secretflow"} fullname={"SPU"} parameters={["cluster_def: ~typing.Dict", "link_desc: ~typing.Dict | None = None", "log_options: ~spu.libspu.logging.LogOptions = <spu.libspu.logging.LogOptions object>", "use_link: bool = True", "id: str | None = None"]} description={"\u57fa\u7c7b\uff1aDevice"}>
  <Outline.Signature fullname="SPU" id="secretflow.SPU">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>SPU</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">cluster\_def: \~typing.Dict</span></Outline.Parameter>, <Outline.Parameter><span className="name">link\_desc: \~typing.Dict | None = None</span></Outline.Parameter>, <Outline.Parameter><span className="name">log\_options: \~spu.libspu.logging.LogOptions = \<spu.libspu.logging.LogOptions object></span></Outline.Parameter>, <Outline.Parameter><span className="name">use\_link: bool = True</span></Outline.Parameter>, <Outline.Parameter><span className="name">id: str | None = None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`Device`](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.SPU.__init__ "secretflow.SPU.__init__")(cluster\_def\[, link\_desc, ...])
          </td>

          <td>
            SPU device constructor.
          </td>
        </tr>

        <tr>
          <td>
            [`init`](#secretflow.SPU.init "secretflow.SPU.init")()
          </td>

          <td>
            Init SPU runtime in each party
          </td>
        </tr>

        <tr>
          <td>
            [`reset`](#secretflow.SPU.reset "secretflow.SPU.reset")()
          </td>

          <td>
            Reset spu to clear corrupted internal state, for test only
          </td>
        </tr>

        <tr>
          <td>
            [`shutdown`](#secretflow.SPU.shutdown "secretflow.SPU.shutdown")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`dump`](#secretflow.SPU.dump "secretflow.SPU.dump")(obj, paths)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`load`](#secretflow.SPU.load "secretflow.SPU.load")(paths)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`infeed_shares`](#secretflow.SPU.infeed_shares "secretflow.SPU.infeed_shares")(io\_info, shares\_chunk)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`outfeed_shares`](#secretflow.SPU.outfeed_shares "secretflow.SPU.outfeed_shares")(shares\_name)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`psi_df`](#secretflow.SPU.psi_df "secretflow.SPU.psi_df")(key, dfs, receiver\[, protocol, ...])
          </td>

          <td>
            Private set intersection with DataFrame.
          </td>
        </tr>

        <tr>
          <td>
            [`psi_csv`](#secretflow.SPU.psi_csv "secretflow.SPU.psi_csv")(key, input\_path, output\_path, receiver)
          </td>

          <td>
            Private set intersection with csv file.
          </td>
        </tr>

        <tr>
          <td>
            [`psi_join_df`](#secretflow.SPU.psi_join_df "secretflow.SPU.psi_join_df")(key, dfs, receiver, join\_party)
          </td>

          <td>
            Private set intersection with DataFrame.
          </td>
        </tr>

        <tr>
          <td>
            [`psi_join_csv`](#secretflow.SPU.psi_join_csv "secretflow.SPU.psi_join_csv")(key, input\_path, output\_path, ...)
          </td>

          <td>
            Private set intersection with csv file.
          </td>
        </tr>

        <tr>
          <td>
            [`pir_setup`](#secretflow.SPU.pir_setup "secretflow.SPU.pir_setup")(server, input\_path, key\_columns, ...)
          </td>

          <td>
            Private information retrival offline setup. \:param server: Which party is pir server. \:type server: str \:param input\_path: Server's CSV file path. comma separated and contains header. Use an absolute path. \:type input\_path: str \:param key\_columns: Column(s) used as pir key \:type key\_columns: str, List\[str] \:param label\_columns: Column(s) used as pir label \:type label\_columns: str, List\[str] \:param oprf\_key\_path: Ecc oprf secret key path, 32B binary format. Use an absolute path. \:type oprf\_key\_path: str \:param setup\_path: Offline/Setup phase output data dir. Use an absolute path. \:type setup\_path: str \:param num\_per\_query: Items number per query. \:type num\_per\_query: int \:param label\_max\_len: Max number bytes of label, padding data to label\_max\_len                       Max label bytes length add 4 bytes(len). \:type label\_max\_len: int.
          </td>
        </tr>

        <tr>
          <td>
            [`pir_query`](#secretflow.SPU.pir_query "secretflow.SPU.pir_query")(server, config\[, protocol])
          </td>

          <td>
            Private information retrival online query. \:param server: Which party is pir server. \:type server: str \:param config: Server/Client config dict                For example.
          </td>
        </tr>

        <tr>
          <td>
            [`pir_memory_query`](#secretflow.SPU.pir_memory_query "secretflow.SPU.pir_memory_query")(server, config\[, protocol])
          </td>

          <td>
            Private information retrival online query. \:param server: Which party is pir server. \:type server: str \:param config: Server/Client config dict                For example.
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.__init__"} module={"secretflow"} fullname={"SPU.__init__"} parameters={["cluster_def: ~typing.Dict", "link_desc: ~typing.Dict | None = None", "log_options: ~spu.libspu.logging.LogOptions = <spu.libspu.logging.LogOptions object>", "use_link: bool = True", "id: str | None = None"]} description={"SPU device constructor."}>
      <Outline.Signature fullname="SPU.__init__" id="secretflow.SPU.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">cluster\_def: \~typing.Dict</span></Outline.Parameter>, <Outline.Parameter><span className="name">link\_desc: \~typing.Dict | None = None</span></Outline.Parameter>, <Outline.Parameter><span className="name">log\_options: \~spu.libspu.logging.LogOptions = \<spu.libspu.logging.LogOptions object></span></Outline.Parameter>, <Outline.Parameter><span className="name">use\_link: bool = True</span></Outline.Parameter>, <Outline.Parameter><span className="name">id: str | None = None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        SPU device constructor.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>cluster\_def</strong> –&#x20;

                SPU cluster definition. More details refer to
                [SPU runtime config](https://www.secretflow.org.cn/docs/spu/en/reference/runtime_config.html).

                For example
                ```python
                {
                    'nodes': [
                        {
                            'party': 'alice',
                            # The address for other peers.
                            'address': '127.0.0.1:9001',
                            # The listen address of this node.
                            # Optional. Address will be used if listen_address is empty.
                            'listen_address': '',
                            # Optional. TLS related options.
                            'tls_opts': {
                                'server_ssl_opts': {
                                    'certificate_path': 'servercert.pem',
                                    'private_key_path': 'serverkey.pem',
                                    # The options used for verify peer's client certificate
                                    'ca_file_path': 'cacert.pem',
                                    # Maximum depth of the certificate chain for verification
                                    'verify_depth': 1
                                },
                                'client_ssl_opts': {
                                    'certificate_path': 'clientcert.pem',
                                    'private_key_path': 'clientkey.pem',
                                    # The options used for verify peer's server certificate
                                    'ca_file_path': 'cacert.pem',
                                    # Maximum depth of the certificate chain for verification
                                    'verify_depth': 1
                                }
                            }
                        },
                        {
                            'party': 'bob',
                            'address': '127.0.0.1:9002',
                            'listen_address': '',
                            'tls_opts': {
                                'server_ssl_opts': {
                                    'certificate_path': "bob's servercert.pem",
                                    'private_key_path': "bob's serverkey.pem",
                                    'ca_file_path': "other's client cacert.pem",
                                    'verify_depth': 1
                                },
                                'client_ssl_opts': {
                                    'certificate_path': "bob's clientcert.pem",
                                    'private_key_path': "bob's clientkey.pem",
                                    'ca_file_path': "other's server cacert.pem",
                                    'verify_depth': 1
                                }
                            }
                        },
                    ],
                    'runtime_config': {
                        'protocol': spu.spu_pb2.SEMI2K,
                        'field': spu.spu_pb2.FM128,
                        'sigmoid_mode': spu.spu_pb2.RuntimeConfig.SIGMOID_REAL,
                    }
                }
                ```
              - <strong>link\_desc</strong> –&#x20;

                Optional. A dict specifies the link parameters.
                Available parameters are:
                > 1. connect\_retry\_times
                > 2. connect\_retry\_interval\_ms
                > 3. recv\_timeout\_ms
                > 4. http\_max\_payload\_size
                > 5. http\_timeout\_ms
                > 6. throttle\_window\_size
                > 7. brpc\_channel\_protocol refer to <cite>https\://github.com/apache/brpc/blob/master/docs/en/client.md#protocols</cite>
                > 8. brpc\_channel\_connection\_type refer to <cite>https\://github.com/apache/brpc/blob/master/docs/en/client.md#connection-type</cite>
              - <strong>log\_options</strong> – Optional. Options of spu logging.
              - <strong>use\_link</strong> – Optional. flag for create brpc link, default True.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.init"} module={"secretflow"} fullname={"SPU.init"} parameters={[]} description={"Init SPU runtime in each party"}>
      <Outline.Signature fullname="SPU.init" id="secretflow.SPU.init">
        <Outline.Name>init</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Init SPU runtime in each party
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.reset"} module={"secretflow"} fullname={"SPU.reset"} parameters={[]} description={"Reset spu to clear corrupted internal state, for test only"}>
      <Outline.Signature fullname="SPU.reset" id="secretflow.SPU.reset">
        <Outline.Name>reset</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Reset spu to clear corrupted internal state, for test only
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.shutdown"} module={"secretflow"} fullname={"SPU.shutdown"} parameters={[]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="SPU.shutdown" id="secretflow.SPU.shutdown">
        <Outline.Name>shutdown</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.dump"} module={"secretflow"} fullname={"SPU.dump"} parameters={["obj", "paths"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="SPU.dump" id="secretflow.SPU.dump">
        <Outline.Name>dump</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">obj</span><span>:</span><span>{" "}</span><span className="name">[SPUObject](secretflow.device.device.device.mdx#secretflow.device.device.spu.SPUObject "secretflow.device.device.spu.SPUObject")</span></Outline.Parameter>, <Outline.Parameter><span className="name">paths</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.load"} module={"secretflow"} fullname={"SPU.load"} parameters={["paths"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="SPU.load" id="secretflow.SPU.load">
        <Outline.Name>load</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">paths</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[SPUObject](secretflow.device.device.device.mdx#secretflow.device.device.spu.SPUObject "secretflow.device.device.spu.SPUObject")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.infeed_shares"} module={"secretflow"} fullname={"SPU.infeed_shares"} parameters={["io_info", "shares_chunk"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="SPU.infeed_shares" id="secretflow.SPU.infeed_shares">
        <Outline.Name>infeed\_shares</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">io\_info</span><span>:</span><span>{" "}</span><span className="name">ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject</span></Outline.Parameter>, <Outline.Parameter><span className="name">shares\_chunk</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span></Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.outfeed_shares"} module={"secretflow"} fullname={"SPU.outfeed_shares"} parameters={["shares_name"]} description={"\u57fa\u7c7b\uff1aDevice"}>
      <Outline.Signature fullname="SPU.outfeed_shares" id="secretflow.SPU.outfeed_shares">
        <Outline.Name>outfeed\_shares</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">shares\_name</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span><span>]</span></Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.psi_df"} module={"secretflow"} fullname={"SPU.psi_df"} parameters={["key", "dfs", "receiver", "protocol", "precheck_input", "sort", "broadcast_result", "bucket_size", "curve_type", "preprocess_path", "ecdh_secret_key_path", "dppsi_bob_sub_sampling", "dppsi_epsilon", "progress_callbacks", "callbacks_interval_ms"]} description={"Private set intersection with DataFrame."}>
      <Outline.Signature fullname="SPU.psi_df" id="secretflow.SPU.psi_df">
        <Outline.Name>psi\_df</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">dfs</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">receiver</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KKRT\_PSI\_2PC'</span></Outline.Parameter>, <Outline.Parameter><span className="name">precheck\_input</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">sort</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">broadcast\_result</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_size</span><span>=</span><span>1048576</span></Outline.Parameter>, <Outline.Parameter><span className="name">curve\_type</span><span>=</span><span>'CURVE\_25519'</span></Outline.Parameter>, <Outline.Parameter><span className="name">preprocess\_path</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">ecdh\_secret\_key\_path</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">dppsi\_bob\_sub\_sampling</span><span>=</span><span>0.9</span></Outline.Parameter>, <Outline.Parameter><span className="name">dppsi\_epsilon</span><span>=</span><span>3</span></Outline.Parameter>, <Outline.Parameter><span className="name">progress\_callbacks</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.11）")<span>\[</span><span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[ProgressData](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">callbacks\_interval\_ms</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>5000</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private set intersection with DataFrame.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>key</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>, </em><em>Dict</em><em>\[</em>[<em>Device</em>](#secretflow.Device "secretflow.Device")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>]</em>) – Column(s) used to join.
              - <strong>dfs</strong> (<em>List</em><em>\[</em>[<em>PYUObject</em>](#secretflow.PYUObject "secretflow.PYUObject")<em>]</em>) – DataFrames to be joined, which
              - <strong>runtimes.</strong> (<em>should be colocated with SPU</em>) –&#x20;
              - <strong>receiver</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Which party can get joined data, others will get None.
              - <strong>protocol</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – PSI protocol.
              - <strong>precheck\_input</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether to check input data before join.
              - <strong>sort</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether sort data by key after join.
              - <strong>broadcast\_result</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether to broadcast joined data to all parties.
              - <strong>bucket\_size</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Specified the hash bucket size used in psi.
              - <strong>memory.</strong> (<em>Larger values consume more</em>) –&#x20;
              - <strong>curve\_type</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – curve for ecdh psi.
              - <strong>preprocess\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – preprocess file path for unbalanced psi.
              - <strong>ecdh\_secret\_key\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – ecdh\_oprf secretkey file path, binary format, 32B, for unbalanced psi.
              - <strong>dppsi\_bob\_sub\_sampling</strong> (<em>double</em>) – bob subsampling bernoulli\_distribution
                probability of dp psi
              - <strong>dppsi\_epsilon</strong> (<em>double</em>) – epsilon of dp psi
              - <strong>progress\_callbacks</strong> (<em>Callable</em><em>\[</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em>[<em>ProgressData</em>](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<em>]</em><em>, </em><em>None</em><em>]</em>) – Callbacks for update progress
              - <strong>callbacks\_interval\_ms</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – The interval at which the callbacks is called
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              Joined DataFrames with order reserved.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              List\[[PYUObject](#secretflow.PYUObject "secretflow.PYUObject")]
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.psi_csv"} module={"secretflow"} fullname={"SPU.psi_csv"} parameters={["key", "input_path", "output_path", "receiver", "protocol", "precheck_input", "sort", "broadcast_result", "bucket_size", "curve_type", "preprocess_path", "ecdh_secret_key_path", "dppsi_bob_sub_sampling", "dppsi_epsilon", "progress_callbacks", "callbacks_interval_ms"]} description={"Private set intersection with csv file."}>
      <Outline.Signature fullname="SPU.psi_csv" id="secretflow.SPU.psi_csv">
        <Outline.Name>psi\_csv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">input\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">output\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">receiver</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KKRT\_PSI\_2PC'</span></Outline.Parameter>, <Outline.Parameter><span className="name">precheck\_input</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">sort</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">broadcast\_result</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_size</span><span>=</span><span>1048576</span></Outline.Parameter>, <Outline.Parameter><span className="name">curve\_type</span><span>=</span><span>'CURVE\_25519'</span></Outline.Parameter>, <Outline.Parameter><span className="name">preprocess\_path</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">ecdh\_secret\_key\_path</span><span>=</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">dppsi\_bob\_sub\_sampling</span><span>=</span><span>0.9</span></Outline.Parameter>, <Outline.Parameter><span className="name">dppsi\_epsilon</span><span>=</span><span>3</span></Outline.Parameter>, <Outline.Parameter><span className="name">progress\_callbacks</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.11）")<span>\[</span><span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[ProgressData](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">callbacks\_interval\_ms</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>5000</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private set intersection with csv file.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>key</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>, </em><em>Dict</em><em>\[</em>[<em>Device</em>](#secretflow.Device "secretflow.Device")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>]</em>) – Column(s) used to join.
              - <strong>input\_path</strong> – CSV files to be joined, comma separated and contains header.
                Use an absolute path.
              - <strong>output\_path</strong> – Joined csv files, comma separated and contains header.
                Use an absolute path.
              - <strong>receiver</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Which party can get joined data.
              - <strong>-1.</strong> (<em>Others won't generate output file and intersection\_count get</em>) –&#x20;
              - <strong>protocol</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – PSI protocol.
              - <strong>precheck\_input</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether check input data before joining,
              - <strong>now</strong> (<em>for</em>) –&#x20;
              - <strong>duplicate.</strong> (<em>it will check if key</em>) –&#x20;
              - <strong>sort</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether sort data by key after joining.
              - <strong>broadcast\_result</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether broadcast joined data to all parties.
              - <strong>bucket\_size</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Specified the hash bucket size used in psi.
              - <strong>memory.</strong> (<em>Larger values consume more</em>) –&#x20;
              - <strong>curve\_type</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – curve for ecdh psi.
              - <strong>preprocess\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – preprocess file path for unbalanced psi.
              - <strong>ecdh\_secret\_key\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – ecdh\_oprf secretkey file path, binary format, 32B.
              - <strong>dppsi\_bob\_sub\_sampling</strong> (<em>double</em>) – bob subsampling bernoulli\_distribution
                probability of dp psi
              - <strong>dppsi\_epsilon</strong> (<em>double</em>) – epsilon of dp psi
              - <strong>progress\_callbacks</strong> (<em>Callable</em><em>\[</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em>[<em>ProgressData</em>](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<em>]</em><em>, </em><em>None</em><em>]</em>) – Callbacks for update progress
              - <strong>callbacks\_interval\_ms</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – The interval at which the callbacks is called
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              PSI reports output by SPU with order reserved.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              List\[Dict]
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.psi_join_df"} module={"secretflow"} fullname={"SPU.psi_join_df"} parameters={["key", "dfs", "receiver", "join_party", "protocol", "bucket_size", "curve_type", "progress_callbacks", "callbacks_interval_ms"]} description={"Private set intersection with DataFrame."}>
      <Outline.Signature fullname="SPU.psi_join_df" id="secretflow.SPU.psi_join_df">
        <Outline.Name>psi\_join\_df</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">dfs</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">receiver</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">join\_party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KKRT\_PSI\_2PC'</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_size</span><span>=</span><span>1048576</span></Outline.Parameter>, <Outline.Parameter><span className="name">curve\_type</span><span>=</span><span>'CURVE\_25519'</span></Outline.Parameter>, <Outline.Parameter><span className="name">progress\_callbacks</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.11）")<span>\[</span><span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[ProgressData](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">callbacks\_interval\_ms</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>5000</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private set intersection with DataFrame.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>key</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>, </em><em>Dict</em><em>\[</em>[<em>Device</em>](#secretflow.Device "secretflow.Device")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>]</em>) – Column(s) used to join.
              - <strong>dfs</strong> (<em>List</em><em>\[</em>[<em>PYUObject</em>](#secretflow.PYUObject "secretflow.PYUObject")<em>]</em>) – DataFrames to be joined, which should be colocated with SPU runtimes.
              - <strong>receiver</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Which party can get joined data. Others won’t generate output file and <cite>intersection\_count</cite> get <cite>-1</cite>
              - <strong>join\_party</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – party can get joined data
              - <strong>protocol</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – PSI protocol.
              - <strong>bucket\_size</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Specified the hash bucket size used in psi. Larger values consume more memory.
              - <strong>curve\_type</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – curve for ecdh psi
              - <strong>progress\_callbacks</strong> (<em>Callable</em><em>\[</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em>[<em>ProgressData</em>](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<em>]</em><em>, </em><em>None</em><em>]</em>) – Callbacks for update progress
              - <strong>callbacks\_interval\_ms</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – The interval at which the callbacks is called
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              Joined DataFrames with order reserved.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              List\[[PYUObject](#secretflow.PYUObject "secretflow.PYUObject")]
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.psi_join_csv"} module={"secretflow"} fullname={"SPU.psi_join_csv"} parameters={["key", "input_path", "output_path", "receiver", "join_party", "protocol", "bucket_size", "curve_type", "progress_callbacks", "callbacks_interval_ms"]} description={"Private set intersection with csv file."}>
      <Outline.Signature fullname="SPU.psi_join_csv" id="secretflow.SPU.psi_join_csv">
        <Outline.Name>psi\_join\_csv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">input\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">output\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">receiver</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">join\_party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KKRT\_PSI\_2PC'</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_size</span><span>=</span><span>1048576</span></Outline.Parameter>, <Outline.Parameter><span className="name">curve\_type</span><span>=</span><span>'CURVE\_25519'</span></Outline.Parameter>, <Outline.Parameter><span className="name">progress\_callbacks</span><span>:</span><span>{" "}</span><span className="name">[Callable](https://docs.python.org/3/library/typing.html#typing.Callable "（在 Python v3.11）")<span>\[</span><span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[ProgressData](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<span>]</span><span>,</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">callbacks\_interval\_ms</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>5000</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private set intersection with csv file.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>key</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>, </em><em>Dict</em><em>\[</em>[<em>Device</em>](#secretflow.Device "secretflow.Device")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em><em>]</em>) – Column(s) used to join.
              - <strong>input\_path</strong> – CSV files to be joined, comma separated and contains header.
                Use an absolute path.
              - <strong>output\_path</strong> – Joined csv files, comma separated and contains header.
                Use an absolute path.
              - <strong>receiver</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Which party can get joined data. Others won’t generate output file and <cite>intersection\_count</cite> get <cite>-1</cite>
              - <strong>join\_party</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – party can get joined data
              - <strong>protocol</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – PSI protocol.
              - <strong>precheck\_input</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")) – Whether check input data before joining, for now, it will check if key duplicate.
              - <strong>bucket\_size</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Specified the hash bucket size used in psi. Larger values consume more memory.
              - <strong>curve\_type</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – curve for ecdh psi
              - <strong>progress\_callbacks</strong> (<em>Callable</em><em>\[</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em>[<em>ProgressData</em>](secretflow.utils.mdx#secretflow.utils.progress.ProgressData "secretflow.utils.progress.ProgressData")<em>]</em><em>, </em><em>None</em><em>]</em>) – Callbacks for update progress
              - <strong>callbacks\_interval\_ms</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – The interval at which the callbacks is called
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              PSI reports output by SPU with order reserved.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              List\[Dict]
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.pir_setup"} module={"secretflow"} fullname={"SPU.pir_setup"} parameters={["server", "input_path", "key_columns", "label_columns", "oprf_key_path", "setup_path", "num_per_query", "label_max_len", "protocol"]} description={"Private information retrival offline setup.\n:param server: Which party is pir server.\n:type server: str\n:param input_path: Server\u2019s CSV file path. comma separated and contains header."}>
      <Outline.Signature fullname="SPU.pir_setup" id="secretflow.SPU.pir_setup">
        <Outline.Name>pir\_setup</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">server</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">input\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")<span>,</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">key\_columns</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">label\_columns</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">oprf\_key\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">setup\_path</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_per\_query</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">label\_max\_len</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KEYWORD\_PIR\_LABELED\_PSI'</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private information retrival offline setup.
        \:param server: Which party is pir server.
        \:type server: str
        \:param input\_path: Server’s CSV file path. comma separated and contains header.

        > Use an absolute path.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>key\_columns</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em>) – Column(s) used as pir key
              - <strong>label\_columns</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>, </em><em>List</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<em>]</em>) – Column(s) used as pir label
              - <strong>oprf\_key\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Ecc oprf secret key path, 32B binary format.
                Use an absolute path.
              - <strong>setup\_path</strong> ([<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")) – Offline/Setup phase output data dir. Use an absolute path.
              - <strong>num\_per\_query</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Items number per query.
              - <strong>label\_max\_len</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Max number bytes of label, padding data to label\_max\_len
                Max label bytes length add 4 bytes(len).
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              PIR report output by SPU.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              Dict
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.pir_query"} module={"secretflow"} fullname={"SPU.pir_query"} parameters={["server", "config", "protocol"]} description={"Private information retrival online query.\n:param server: Which party is pir server.\n:type server: str\n:param config: Server/Client config dict"}>
      <Outline.Signature fullname="SPU.pir_query" id="secretflow.SPU.pir_query">
        <Outline.Name>pir\_query</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">server</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KEYWORD\_PIR\_LABELED\_PSI'</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private information retrival online query.
        \:param server: Which party is pir server.
        \:type server: str
        \:param config: Server/Client config dict

        > For example
        >
        > ```python
        > {
        >     # client config
        >     alice: {
        >         'input_path': '/path/intput.csv',
        >         'key_columns': 'id',
        >         'output_path': '/path/output.csv',
        >     },
        >     # server config
        >     bob: {
        >         'oprf_key_path': '/path/oprf_key.bin',
        >         'setup_path': '/path/setup_dir',
        >     },
        > }
        > ```
        >
        >         <DefinitionList>
        >           <dl>
        >             <dt>
        >               <DefinitionList.Term><span>server config dict must have:</span></DefinitionList.Term>
        >             </dt>
        >
        >             <dd>
        >               ‘oprf\_key\_path’,’setup\_path’
        >               oprf\_key\_path (str): Ecc oprf secret key path, 32B binary format.
        >
        >               > Use an absolute path.
        >
        >               setup\_path (str): Offline/Setup phase output data dir. Use an absolute path.
        >             </dd>
        >
        >             <dt>
        >               <DefinitionList.Term><span>client config dict must have:</span></DefinitionList.Term>
        >             </dt>
        >
        >             <dd>
        >               ‘input\_path’,’key\_columns’, ‘output\_path’
        >               input\_path (str): Client’s CSV file path. comma separated and contains header.
        >
        >               > Use an absolute path.
        >
        >               key\_columns (str, List\[str]): Column(s) used as pir key
        >               output\_path (str): Query result save to output\_path, csv format.
        >             </dd>
        >           </dl>
        >         </DefinitionList>

        <FieldList>
          <dl>
            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              PIR report output by SPU.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              Dict
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.SPU.pir_memory_query"} module={"secretflow"} fullname={"SPU.pir_memory_query"} parameters={["server", "config", "protocol"]} description={"Private information retrival online query.\n:param server: Which party is pir server.\n:type server: str\n:param config: Server/Client config dict"}>
      <Outline.Signature fullname="SPU.pir_memory_query" id="secretflow.SPU.pir_memory_query">
        <Outline.Name>pir\_memory\_query</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">server</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">protocol</span><span>=</span><span>'KEYWORD\_PIR\_LABELED\_PSI'</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Private information retrival online query.
        \:param server: Which party is pir server.
        \:type server: str
        \:param config: Server/Client config dict

        > For example
        >
        > ```python
        > {
        >     # client config
        >     alice: {
        >         'input_path': '/path/intput.csv',
        >         'key_columns': 'id',
        >         'output_path': '/path/output.csv',
        >     },
        >     # server config
        >     bob: {
        >         'input_path': '/path/server.csv',
        >         'key_columns': 'id',
        >         'label_columns': 'label',
        >         'num_per_query': '1',
        >         'label_max_len': '20',
        >     },
        > }
        > ```
        >
        >         <DefinitionList>
        >           <dl>
        >             <dt>
        >               <DefinitionList.Term><span>server config dict must have:</span></DefinitionList.Term>
        >             </dt>
        >
        >             <dd>
        >               ‘input\_path’, ‘key\_columns’, ‘label\_columns’, ‘oprf\_key\_path’,
        >               ‘num\_per\_query’, ‘label\_max\_len’
        >               input\_path (str): Client’s CSV file path. comma separated and contains header.
        >
        >               > Use an absolute path.
        >
        >               key\_columns (str, List\[str]): Column(s) used as pir key
        >               label\_columns (str, List\[str]): Column(s) used as pir label
        >               num\_per\_query (int): Items number per query.
        >               label\_max\_len (int): Max number bytes of label, padding data to label\_max\_len
        >
        >               > Max label bytes length add 4 bytes(len).
        >             </dd>
        >
        >             <dt>
        >               <DefinitionList.Term><span>client config dict must have:</span></DefinitionList.Term>
        >             </dt>
        >
        >             <dd>
        >               ‘input\_path’,’key\_columns’, ‘output\_path’
        >               input\_path (str): Client’s CSV file path. comma separated and contains header.
        >
        >               > Use an absolute path.
        >
        >               key\_columns (str, List\[str]): Column(s) used as pir key
        >               output\_path (str): Query result save to output\_path, csv format.
        >             </dd>
        >           </dl>
        >         </DefinitionList>

        <FieldList>
          <dl>
            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              PIR report output by SPU.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              Dict
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.TEEU"} module={"secretflow"} fullname={"TEEU"} parameters={["party", "mr_enclave"]} description={"\u57fa\u7c7b\uff1aDevice"}>
  <Outline.Signature fullname="TEEU" id="secretflow.TEEU">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>TEEU</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">mr\_enclave</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`Device`](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")

    TEEU is the python processing uint of TEE.

    TEEU is designed to run python function in TEE and allows doing some
    computation safely.
    The input data of TEEU will be encrypted and nobody can open it unless
    TEEU itself. But be careful that the result of the function is plaintext
    by now, that means all parties can read the result. Please be cautious
    unless you are very aware of the risk.

    <Outline domain="py" objectType="attribute" target={"secretflow.TEEU.party"} module={"secretflow"} fullname={"TEEU.party"} parameters={["party", "mr_enclave"]} description={"the party this TEEU belongs to."}>
      <Outline.Signature fullname="TEEU.party" id="secretflow.TEEU.party">
        <Outline.Name>party</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        the party this TEEU belongs to.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.TEEU.mr_enclave"} module={"secretflow"} fullname={"TEEU.mr_enclave"} parameters={["party", "mr_enclave"]} description={"the measurement of the TEEU enclave."}>
      <Outline.Signature fullname="TEEU.mr_enclave" id="secretflow.TEEU.mr_enclave">
        <Outline.Name>mr\_enclave</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        the measurement of the TEEU enclave.
      </Outline.Content>
    </Outline>

    <p className="sidebar-rubric">
      示例
    </p>

    ```python
    >>> # Here is an example showing alice and bob calculate their average.
    >>> alice = PYU('alice')
    >>> bob = PYU('bob')
    >>> teeu = TEEU('carol', mr_enclave='the mr_enclave of TEEU.')
    >>> def average(data):
    >>>     return np.average(data, axis=0)
    >>> a = self.alice(lambda: np.random.random([2, 4]))()
    >>> b = self.bob(lambda: np.random.random([2, 4]))()
    >>> a_tee = a.to(teeu, allow_funcs=average)
    >>> b_tee = b.to(teeu, allow_funcs=average)
    >>> avg_val = teeu(average)([a_tee, b_tee])
    ```

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.TEEU.__init__ "secretflow.TEEU.__init__")(party, mr\_enclave)
          </td>

          <td>
            Init function.
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.TEEU.__init__"} module={"secretflow"} fullname={"TEEU.__init__"} parameters={["party", "mr_enclave"]} description={"Init function."}>
      <Outline.Signature fullname="TEEU.__init__" id="secretflow.TEEU.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">mr\_enclave</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Init function.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>party</strong> – the party this TEEU belongs to.
              - <strong>mr\_enclave</strong> – a hex string representing the measurement of the TEEU enclave.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.Device"} module={"secretflow"} fullname={"Device"} parameters={["device_type"]} description={"\u57fa\u7c7b\uff1aABC"}>
  <Outline.Signature fullname="Device" id="secretflow.Device">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>Device</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device\_type</span><span>:</span><span>{" "}</span><span className="name">[DeviceType](secretflow.device.device.device.mdx#secretflow.device.device.register.DeviceType "secretflow.device.device.register.DeviceType")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`ABC`](https://docs.python.org/3/library/abc.html#abc.ABC "（在 Python v3.11）")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.Device.__init__ "secretflow.Device.__init__")(device\_type)
          </td>

          <td>
            Abstraction device base class.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`device_type`](#secretflow.Device.device_type "secretflow.Device.device_type")
          </td>

          <td>
            Get underlying device type
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.Device.__init__"} module={"secretflow"} fullname={"Device.__init__"} parameters={["device_type"]} description={"Abstraction device base class."}>
      <Outline.Signature fullname="Device.__init__" id="secretflow.Device.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device\_type</span><span>:</span><span>{" "}</span><span className="name">[DeviceType](secretflow.device.device.device.mdx#secretflow.device.device.register.DeviceType "secretflow.device.device.register.DeviceType")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Abstraction device base class.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              <strong>device\_type</strong> ([<em>DeviceType</em>](secretflow.device.device.device.mdx#secretflow.device.device.register.DeviceType "secretflow.device.device.register.DeviceType")) – underlying device type
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="property" target={"secretflow.Device.device_type"} module={"secretflow"} fullname={"Device.device_type"} parameters={["device_type"]} description={"Get underlying device type"}>
      <Outline.Signature fullname="Device.device_type" id="secretflow.Device.device_type">
        <Outline.Keyword>property<span>{" "}</span></Outline.Keyword><Outline.Name>device\_type</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        Get underlying device type
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.DeviceObject"} module={"secretflow"} fullname={"DeviceObject"} parameters={["device"]} description={"\u57fa\u7c7b\uff1aABC"}>
  <Outline.Signature fullname="DeviceObject" id="secretflow.DeviceObject">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>DeviceObject</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`ABC`](https://docs.python.org/3/library/abc.html#abc.ABC "（在 Python v3.11）")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.DeviceObject.__init__ "secretflow.DeviceObject.__init__")(device)
          </td>

          <td>
            Abstraction device object base class.
          </td>
        </tr>

        <tr>
          <td>
            [`to`](#secretflow.DeviceObject.to "secretflow.DeviceObject.to")(device, \*args, \*\*kwargs)
          </td>

          <td>
            Device object conversion.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`device_type`](#secretflow.DeviceObject.device_type "secretflow.DeviceObject.device_type")
          </td>

          <td>
            Get underlying device type
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.DeviceObject.__init__"} module={"secretflow"} fullname={"DeviceObject.__init__"} parameters={["device"]} description={"Abstraction device object base class."}>
      <Outline.Signature fullname="DeviceObject.__init__" id="secretflow.DeviceObject.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Abstraction device object base class.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              <strong>device</strong> ([<em>Device</em>](#secretflow.Device "secretflow.Device")) – Device where this object is located.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="property" target={"secretflow.DeviceObject.device_type"} module={"secretflow"} fullname={"DeviceObject.device_type"} parameters={["device"]} description={"Get underlying device type"}>
      <Outline.Signature fullname="DeviceObject.device_type" id="secretflow.DeviceObject.device_type">
        <Outline.Keyword>property<span>{" "}</span></Outline.Keyword><Outline.Name>device\_type</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        Get underlying device type
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.DeviceObject.to"} module={"secretflow"} fullname={"DeviceObject.to"} parameters={["device", "args", "kwargs"]} description={"Device object conversion."}>
      <Outline.Signature fullname="DeviceObject.to" id="secretflow.DeviceObject.to">
        <Outline.Name>to</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span>\*</span><span className="name">args</span></Outline.Parameter>, <Outline.Parameter><span>\*\*</span><span className="name">kwargs</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Device object conversion.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>device</strong> ([<em>Device</em>](#secretflow.Device "secretflow.Device")) – Target device
              - <strong>config</strong> – configuration of this data movement
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              Target device object.
            </dd>

            <dt className="field-name">
              返回类型
            </dt>

            <dd className="field-body">
              [DeviceObject](#secretflow.DeviceObject "secretflow.DeviceObject")
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.HEUObject"} module={"secretflow"} fullname={"HEUObject"} parameters={["device", "data", "location_party", "is_plain"]} description={"\u57fa\u7c7b\uff1aDeviceObject"}>
  <Outline.Signature fullname="HEUObject" id="secretflow.HEUObject">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>HEUObject</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">ObjectRef</span></Outline.Parameter>, <Outline.Parameter><span className="name">location\_party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">is\_plain</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>False</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`DeviceObject`](secretflow.device.device.device.mdx#secretflow.device.device.base.DeviceObject "secretflow.device.device.base.DeviceObject")

    HEU Object

    <Outline domain="py" objectType="attribute" target={"secretflow.HEUObject.data"} module={"secretflow"} fullname={"HEUObject.data"} parameters={["device", "data", "location_party", "is_plain"]} description={"The data hold by this Heu object"}>
      <Outline.Signature fullname="HEUObject.data" id="secretflow.HEUObject.data">
        <Outline.Name>data</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        The data hold by this Heu object
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.HEUObject.location"} module={"secretflow"} fullname={"HEUObject.location"} parameters={["device", "data", "location_party", "is_plain"]} description={"The party where the data actually resides"}>
      <Outline.Signature fullname="HEUObject.location" id="secretflow.HEUObject.location">
        <Outline.Name>location</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        The party where the data actually resides
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.HEUObject.is_plain"} module={"secretflow"} fullname={"HEUObject.is_plain"} parameters={["device", "data", "location_party", "is_plain"]} description={"Is the data encrypted or not"}>
      <Outline.Signature fullname="HEUObject.is_plain" id="secretflow.HEUObject.is_plain">
        <Outline.Name>is\_plain</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        Is the data encrypted or not
      </Outline.Content>
    </Outline>

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.HEUObject.__init__ "secretflow.HEUObject.__init__")(device, data, location\_party\[, ...])
          </td>

          <td>
            Abstraction device object base class.
          </td>
        </tr>

        <tr>
          <td>
            [`encrypt`](#secretflow.HEUObject.encrypt "secretflow.HEUObject.encrypt")(\[heu\_audit\_log])
          </td>

          <td>
            Force encrypt if data is plaintext
          </td>
        </tr>

        <tr>
          <td>
            [`sum`](#secretflow.HEUObject.sum "secretflow.HEUObject.sum")()
          </td>

          <td>
            Sum of HeObject elements over a given axis.
          </td>
        </tr>

        <tr>
          <td>
            [`dump`](#secretflow.HEUObject.dump "secretflow.HEUObject.dump")(path)
          </td>

          <td>
            Dump ciphertext into files.
          </td>
        </tr>

        <tr>
          <td>
            [`select_sum`](#secretflow.HEUObject.select_sum "secretflow.HEUObject.select_sum")(item)
          </td>

          <td>
            Sum of HEUObject selected elements
          </td>
        </tr>

        <tr>
          <td>
            [`batch_select_sum`](#secretflow.HEUObject.batch_select_sum "secretflow.HEUObject.batch_select_sum")(item)
          </td>

          <td>
            Sum of HEUObject selected elements
          </td>
        </tr>

        <tr>
          <td>
            [`feature_wise_bucket_sum`](#secretflow.HEUObject.feature_wise_bucket_sum "secretflow.HEUObject.feature_wise_bucket_sum")(subgroup\_map, ...\[, ...])
          </td>

          <td>
            Sum of HEUObject selected elements
          </td>
        </tr>

        <tr>
          <td>
            [`batch_feature_wise_bucket_sum`](#secretflow.HEUObject.batch_feature_wise_bucket_sum "secretflow.HEUObject.batch_feature_wise_bucket_sum")(subgroup\_map, ...)
          </td>

          <td>
            Calculate a list o bucket sum arrays.
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.__init__"} module={"secretflow"} fullname={"HEUObject.__init__"} parameters={["device", "data", "location_party", "is_plain"]} description={"Abstraction device object base class."}>
      <Outline.Signature fullname="HEUObject.__init__" id="secretflow.HEUObject.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">ObjectRef</span></Outline.Parameter>, <Outline.Parameter><span className="name">location\_party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">is\_plain</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>False</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Abstraction device object base class.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              <strong>device</strong> ([<em>Device</em>](#secretflow.Device "secretflow.Device")) – Device where this object is located.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.encrypt"} module={"secretflow"} fullname={"HEUObject.encrypt"} parameters={["heu_audit_log"]} description={"Force encrypt if data is plaintext"}>
      <Outline.Signature fullname="HEUObject.encrypt" id="secretflow.HEUObject.encrypt">
        <Outline.Name>encrypt</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">heu\_audit\_log</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Force encrypt if data is plaintext
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.sum"} module={"secretflow"} fullname={"HEUObject.sum"} parameters={[]} description={"Sum of HeObject elements over a given axis."}>
      <Outline.Signature fullname="HEUObject.sum" id="secretflow.HEUObject.sum">
        <Outline.Name>sum</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Sum of HeObject elements over a given axis.

        <FieldList>
          <dl>
            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              sum\_along\_axis
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.dump"} module={"secretflow"} fullname={"HEUObject.dump"} parameters={["path"]} description={"Dump ciphertext into files."}>
      <Outline.Signature fullname="HEUObject.dump" id="secretflow.HEUObject.dump">
        <Outline.Name>dump</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">path</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Dump ciphertext into files.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.select_sum"} module={"secretflow"} fullname={"HEUObject.select_sum"} parameters={["item"]} description={"Sum of HEUObject selected elements"}>
      <Outline.Signature fullname="HEUObject.select_sum" id="secretflow.HEUObject.select_sum">
        <Outline.Name>select\_sum</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">item</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Sum of HEUObject selected elements
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.batch_select_sum"} module={"secretflow"} fullname={"HEUObject.batch_select_sum"} parameters={["item"]} description={"Sum of HEUObject selected elements"}>
      <Outline.Signature fullname="HEUObject.batch_select_sum" id="secretflow.HEUObject.batch_select_sum">
        <Outline.Name>batch\_select\_sum</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">item</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Sum of HEUObject selected elements
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.feature_wise_bucket_sum"} module={"secretflow"} fullname={"HEUObject.feature_wise_bucket_sum"} parameters={["subgroup_map", "order_map", "bucket_num", "cumsum"]} description={"Sum of HEUObject selected elements"}>
      <Outline.Signature fullname="HEUObject.feature_wise_bucket_sum" id="secretflow.HEUObject.feature_wise_bucket_sum">
        <Outline.Name>feature\_wise\_bucket\_sum</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">subgroup\_map</span></Outline.Parameter>, <Outline.Parameter><span className="name">order\_map</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_num</span></Outline.Parameter>, <Outline.Parameter><span className="name">cumsum</span><span>=</span><span>False</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Sum of HEUObject selected elements
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.HEUObject.batch_feature_wise_bucket_sum"} module={"secretflow"} fullname={"HEUObject.batch_feature_wise_bucket_sum"} parameters={["subgroup_map", "order_map", "bucket_num", "cumsum"]} description={"Calculate a list o bucket sum arrays.\nA bucket sum array has dim 2 and shape (feature_num * bucket_sum, self.col_num)."}>
      <Outline.Signature fullname="HEUObject.batch_feature_wise_bucket_sum" id="secretflow.HEUObject.batch_feature_wise_bucket_sum">
        <Outline.Name>batch\_feature\_wise\_bucket\_sum</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">subgroup\_map</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>{" "}</span><span>|</span><span>{" "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.25）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">order\_map</span><span>:</span><span>{" "}</span><span className="name">[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>{" "}</span><span>|</span><span>{" "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.25）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bucket\_num</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">cumsum</span><span>=</span><span>False</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[HEUObject](secretflow.device.device.device.mdx#secretflow.device.device.heu_object.HEUObject "secretflow.device.device.heu_object.HEUObject")<span>]</span></Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content>
        Calculate a list o bucket sum arrays.
        A bucket sum array has dim 2 and shape (feature\_num \* bucket\_sum, self.col\_num).

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>subgroup\_map</strong> (<em>List</em><em>\[</em><em>Union</em><em>\[</em>[<em>PYUObject</em>](#secretflow.PYUObject "secretflow.PYUObject")<em>, </em><em>np.ndarray</em><em>]</em><em>]</em>) – elements in each subset of elements of self.
              - <strong>order\_map</strong> (<em>Union</em><em>\[</em>[<em>PYUObject</em>](#secretflow.PYUObject "secretflow.PYUObject")<em>, </em><em>np.ndarray</em><em>]</em>) – shape (self.row\_num, feature\_num). map\[i,j] = k means element i, feature j is in bucket k.
              - <strong>bucket\_num</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – how many bucket to split each feature into.
              - <strong>cumsum</strong> ([<em>bool</em>](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")<em>, </em><em>optional</em>) – whether calculate the cumulative sums or individual sums. Defaults to False.
            </dd>

            <dt className="field-name">
              返回
            </dt>

            <dd className="field-body">
              a list of bucket sum array in HEUObject.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.PYUObject"} module={"secretflow"} fullname={"PYUObject"} parameters={["device", "data"]} description={"\u57fa\u7c7b\uff1aDeviceObject"}>
  <Outline.Signature fullname="PYUObject" id="secretflow.PYUObject">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>PYUObject</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`DeviceObject`](secretflow.device.device.device.mdx#secretflow.device.device.base.DeviceObject "secretflow.device.device.base.DeviceObject")

    PYU device object.

    <Outline domain="py" objectType="attribute" target={"secretflow.PYUObject.data"} module={"secretflow"} fullname={"PYUObject.data"} parameters={["device", "data"]} description={"Reference to underlying data."}>
      <Outline.Signature fullname="PYUObject.data" id="secretflow.PYUObject.data">
        <Outline.Name>data</Outline.Name>
      </Outline.Signature>

      <Outline.Content>
        Reference to underlying data.
      </Outline.Content>
    </Outline>

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.PYUObject.__init__ "secretflow.PYUObject.__init__")(device, data)
          </td>

          <td>
            Abstraction device object base class.
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.PYUObject.__init__"} module={"secretflow"} fullname={"PYUObject.__init__"} parameters={["device", "data"]} description={"Abstraction device object base class."}>
      <Outline.Signature fullname="PYUObject.__init__" id="secretflow.PYUObject.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Abstraction device object base class.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              <strong>device</strong> ([<em>Device</em>](#secretflow.Device "secretflow.Device")) – Device where this object is located.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.SPUObject"} module={"secretflow"} fullname={"SPUObject"} parameters={["device", "meta", "shares_name"]} description={"\u57fa\u7c7b\uff1aDeviceObject"}>
  <Outline.Signature fullname="SPUObject" id="secretflow.SPUObject">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>SPUObject</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span className="name">meta</span><span>:</span><span>{" "}</span><span className="name">ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject</span></Outline.Parameter>, <Outline.Parameter><span className="name">shares\_name</span><span>:</span><span>{" "}</span><span className="name">[Sequence](https://docs.python.org/3/library/typing.html#typing.Sequence "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`DeviceObject`](secretflow.device.device.device.mdx#secretflow.device.device.base.DeviceObject "secretflow.device.device.base.DeviceObject")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.SPUObject.__init__ "secretflow.SPUObject.__init__")(device, meta, shares\_name)
          </td>

          <td>
            SPUObject refers to a Python Object which could be flattened to a list of SPU Values.
          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.SPUObject.__init__"} module={"secretflow"} fullname={"SPUObject.__init__"} parameters={["device", "meta", "shares_name"]} description={"SPUObject refers to a Python Object which could be flattened to a\nlist of SPU Values. An SPU value is a Numpy array or equivalent.\ne.g."}>
      <Outline.Signature fullname="SPUObject.__init__" id="secretflow.SPUObject.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span className="name">meta</span><span>:</span><span>{" "}</span><span className="name">ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject</span></Outline.Parameter>, <Outline.Parameter><span className="name">shares\_name</span><span>:</span><span>{" "}</span><span className="name">[Sequence](https://docs.python.org/3/library/typing.html#typing.Sequence "（在 Python v3.11）")<span>\[</span>ObjectRef<span>{" "}</span><span>|</span><span>{" "}</span>FedObject<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        SPUObject refers to a Python Object which could be flattened to a
        list of SPU Values. An SPU value is a Numpy array or equivalent.
        e.g.

        1\. If referred Python object is \[1,2,3]
        Then meta would be referred to a single SPUValueMeta, and shares is
        a list of referrence to pieces of share of \[1,2,3].

        2\. If referred Python object is \{‘a’: 1, ‘b’: \[3, np.array(…)]}
        The meta would be referred to something like \{‘a’: SPUValueMeta1,
        ‘b’: \[SPUValueMeta2, SPUValueMeta3]}
        Each element of shares would be referred to something like
        \{‘a’: share1, ‘b’: \[share2, share3]}

        3\. shares is a list of ObjectRef to share chunks while these share
        chunks are not necessarily located at SPU device. The data transfer
        would only happen when SPU device consumes SPU objects.

        <FieldList>
          <dl>
            <dt className="field-name">
              参数
            </dt>

            <dd className="field-body">
              - <strong>meta</strong> – Union\[ray.ObjectRef, fed.FedObject]: Ref to the metadata.
              - <strong>shares\_name</strong> – Sequence\[Union\[ray.ObjectRef, fed.FedObject]]: names of shares of data in each SPU node.
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.init"} module={"secretflow"} fullname={"init"} parameters={["parties", "address", "cluster_config", "num_cpus", "log_to_driver", "omp_num_threads", "logging_level", "cross_silo_comm_backend", "cross_silo_comm_options", "enable_waiting_for_other_parties_ready", "tls_config", "auth_manager_config", "party_key_pair", "tee_simulation", "kwargs"]} description={"Connect to an existing Ray cluster or start one and connect to it."}>
  <Outline.Signature fullname="init" id="secretflow.init">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>init</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">parties</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">address</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cluster\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_cpus</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">log\_to\_driver</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">omp\_num\_threads</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">logging\_level</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>'info'</span></Outline.Parameter>, <Outline.Parameter><span className="name">cross\_silo\_comm\_backend</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>'grpc'</span></Outline.Parameter>, <Outline.Parameter><span className="name">cross\_silo\_comm\_options</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">enable\_waiting\_for\_other\_parties\_ready</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">tls\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">auth\_manager\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_key\_pair</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.11）")<span>,</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.11）")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">tee\_simulation</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>False</span></Outline.Parameter>, <Outline.Parameter><span>\*\*</span><span className="name">kwargs</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Connect to an existing Ray cluster or start one and connect to it.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>parties</strong> – parties this node represents, e.g: ‘alice’, \[‘alice’, ‘bob’, ‘carol’].
            If parties are provided, then simulation mode will be enabled,
            which means a single ray cluster will simulate as multi parties.
            If you want to run SecretFlow in production mode, plean keep it None.
          - <strong>address</strong> – The address of the Ray cluster to connect to. If this address
            is not provided, then a local ray will be started.
          - <strong>cluster\_config</strong> –&#x20;

            the cluster config of multi SecretFlow parties. Must be
            provided if you run SecretFlow in cluster mode. E.g.
            ```python
            # For alice
            {
                'parties': {
                    'alice': {
                        # The address for other parties.
                        'address': '127.0.0.1:20001',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20001'
                    },
                    'bob': {
                        # The address for other parties.
                        'address': '127.0.0.1:20002',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20002'
                    },
                },
                'self_party': 'alice'
            }

            # For bob
            {
                'parties': {
                    'alice': {
                        # The address for other parties.
                        'address': '127.0.0.1:20001',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20001'
                    },
                    'bob': {
                        # The address for other parties.
                        'address': '127.0.0.1:20002',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20002'
                    },
                },
                'self_party': 'bob'
            }
            ```
          - <strong>num\_cpus</strong> – Number of CPUs the user wishes to assign to each raylet.
          - <strong>log\_to\_driver</strong> – Whether direct output of worker processes on all nodes
            to driver.
          - <strong>omp\_num\_threads</strong> – set environment variable <cite>OMP\_NUM\_THREADS</cite>. It works
            only when address is None.
          - <strong>logging\_level</strong> – optional; works only in production mode.
            the logging level, could be <cite>debug</cite>, <cite>info</cite>, <cite>warning</cite>, <cite>error</cite>,
            <cite>critical</cite>, not case sensititive.
          - <strong>cross\_silo\_comm\_backend</strong> – works only in production mode, a string determines
            which communication backend is used. The default value is ‘grpc’.
            The other available option is ‘brpc\_link’,  which is based on brpc.
          - <strong>cross\_silo\_comm\_options</strong> –&#x20;

            a dict describes the cross-silo communication options.
            the common options for all cross-silo communication backends.
            >           <DefinitionList>
            >             <dl>
            >               <dt>
            >                 <DefinitionList.Term><span>exit\_on\_sending\_failure</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 whether exit when failure on cross-silo sending. If True, a SIGTERM
            >                 will be signaled to self if failed to send cross-silo data. The default
            >                 value is True.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>messages\_max\_size\_in\_bytes</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 The maximum length in bytes of cross-silo messages. The default value
            >                 is 500 MB. The size must be strictly less than 2GB when grpc is used.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>timeout\_in\_ms</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 The timeout in miliseconds of a cross-silo RPC call. It’s 60000 by default.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>serializing\_allowed\_list</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 A dict describes the package or class list allowed for cross-silo
            >                 serializing(deserializating).  It’s used for avoiding pickle
            >                 deserializing execution attack. E.g.
            >
            >                 ```python
            >                 {
            >                     "numpy.core.numeric": ["*"],
            >                     "numpy": ["dtype"],
            >                 }
            >                 ```
            >               </dd>
            >             </dl>
            >           </DefinitionList>
                      <DefinitionList>
                        <dl>
                          <dt>
                            <DefinitionList.Term><span>when cross-silo backend is <cite>grpc</cite>, the following options can be configured additionally.</span></DefinitionList.Term>
                          </dt>

                          <dd>
                            <DefinitionList>
                              <dl>
                                <dt>
                                  <DefinitionList.Term><span>grpc\_retry\_policy</span></DefinitionList.Term>
                                </dt>

                                <dd>
                                  a dict descibes the retry policy for cross silo rpc call.
                                  More details please refer to
                                  [retry-policy](https://github.com/grpc/proposal/blob/master/A6-client-retries.md#retry-policy).

                                  ```python
                                  {
                                      "maxAttempts": 4,
                                      "initialBackoff": "0.1s",
                                      "maxBackoff": "1s",
                                      "backoffMultiplier": 2,
                                      "retryableStatusCodes": [
                                          "UNAVAILABLE"
                                      ]
                                  }
                                  ```
                                </dd>

                                <dt>
                                  <DefinitionList.Term><span>grpc\_channel\_options</span></DefinitionList.Term>
                                </dt>

                                <dd>
                                  A list of key-value pairs to configure the underlying gRPC Core
                                  channel or server object, please refer to
                                  [channel\_arguments](https://grpc.github.io/grpc/python/glossary.html#term-channel_arguments).
                                </dd>
                              </dl>
                            </DefinitionList>
                          </dd>

                          <dt>
                            <DefinitionList.Term><span>when cross-silo backend is <cite>brpc\_link</cite>, the following options can be configured additionally.</span></DefinitionList.Term>
                          </dt>

                          <dd>
                            1. connect\_retry\_times
                            2. connect\_retry\_interval\_ms
                            3. recv\_timeout\_ms
                            4. http\_max\_payload\_size
                            5. http\_timeout\_ms
                            6. throttle\_window\_size
                            7.                 <DefinitionList>
                                                 <dl>
                                                   <dt>
                                                     <DefinitionList.Term><span>brpc\_channel\_protocol</span></DefinitionList.Term>
                                                   </dt>

                                                   <dd>
                                                     please refer to [protocols](https://github.com/apache/brpc/blob/master/docs/en/client.md#protocols).
                                                   </dd>
                                                 </dl>
                                               </DefinitionList>
                            8.                 <DefinitionList>
                                                 <dl>
                                                   <dt>
                                                     <DefinitionList.Term><span>brpc\_channel\_connection\_type</span></DefinitionList.Term>
                                                   </dt>

                                                   <dd>
                                                     please refer to [connection-type](https://github.com/apache/brpc/blob/master/docs/en/client.md#connection-type).
                                                   </dd>
                                                 </dl>
                                               </DefinitionList>
                          </dd>
                        </dl>
                      </DefinitionList>
          - <strong>enable\_waiting\_for\_other\_parties\_ready</strong> – wait for other parties ready if True.
            When cross-silo backend is <cite>brpc\_link</cite>, you can set <cite>connect\_retry\_times</cite>
            and <cite>connect\_retry\_interval\_ms</cite> in <cite>cross\_silo\_comm\_options</cite> to determine
            the waiting time.
          - <strong>tls\_config</strong> –&#x20;

            optional, a dict describes the tls certificate and key infomations. E.g.
            .. code:: python
            >           <DefinitionList>
            >             <dl>
            >               <dt>
            >                 <DefinitionList.Term><span>\{</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 ‘key’: ‘server key in pem.’
            >                 ‘cert’: ‘server certificate in pem.’,
            >                 ‘ca\_cert’: ‘root ca certificate of other parties.’
            >               </dd>
            >             </dl>
            >           </DefinitionList>
            >
            > }
          - <strong>auth\_manager\_config</strong> –&#x20;

            optional, a dict describes the config about authority manager
            service. Authority manager helps manage the authority of TEE data.
            This parameter is for TEE users only. An example,
            ```python
            {
                'host': 'host of authority manager service.'
                'mr_enclave': 'mr_enclave of authority manager.',
                'ca_cert': 'optional, root ca certificate of authority manager.'
            }
            ```
          - <strong>party\_key\_pair</strong> –&#x20;

            optional, a dict describes the asymmetric key pair.
            This is required for party who wants to send data to TEEU.
            E.g.
            ```python
            # For alice
            {
                'alice': {
                    'public_key': 'RSA public key of alice in pem.',
                    'private_key': 'RSA private key of alice in pem.',
                }
            }

            # For bob
            {
                'bob': {
                    'public_key': 'RSA public key of bob in pem.',
                    'private_key': 'RSA private key of bob in pem.',
                }
            }
            ```
          - <strong>tee\_simulation</strong> – optional, enable TEE simulation if True.
            When simulation is enabled, the remote attestation for auth manager
            will be ignored. This is for test only and keep it False when for production.
          - <strong>\*\*kwargs</strong> – see `ray.init()` parameters.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.proxy"} module={"secretflow"} fullname={"proxy"} parameters={["device_object_type", "max_concurrency", "_simulation_max_concurrency"]} description={"Define a device class which should accept DeviceObject as method parameters and return DeviceObject."}>
  <Outline.Signature fullname="proxy" id="secretflow.proxy">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>proxy</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device\_object\_type</span><span>:</span><span>{" "}</span><span className="name">[Type](https://docs.python.org/3/library/typing.html#typing.Type "（在 Python v3.11）")<span>\[</span>[DeviceObject](secretflow.device.device.device.mdx#secretflow.device.device.base.DeviceObject "secretflow.device.device.base.DeviceObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_concurrency</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">\_simulation\_max\_concurrency</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.11）")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Define a device class which should accept DeviceObject as method parameters and return DeviceObject.

    This proxy function mainly does the following work:
    1\. Add an additional parameter <cite>device: Device</cite> to init method <cite>\_\_init\_\_</cite>.
    2\. Wrap class methods, allow passing DeviceObject as parameters, which
    must be on the same device as the class instance.
    3\. According to the <cite>return annotation</cite> of class methods, return the
    corresponding number of DeviceObject.

    ```python
    @proxy(PYUObject)
    class Model:
        def __init__(self, builder):
            self.weights = builder()

        def build_dataset(self, x, y):
            self.dataset_x = x
            self.dataset_y = y

        def get_weights(self) -> np.ndarray:
            return self.weights

        def train_step(self, step) -> Tuple[np.ndarray, int]:
            return self.weights, 100

    alice = PYU('alice')
    model = Model(builder, device=alice)
    x, y = alice(load_data)()
    model.build_dataset(x, y)
    w = model.get_weights()
    w, n = model.train_step(10)
    ```

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>device\_object\_type</strong> (<em>Type</em><em>\[</em>[<em>DeviceObject</em>](#secretflow.DeviceObject "secretflow.DeviceObject")<em>]</em>) – DeviceObject type, eg. PYUObject.
          - <strong>max\_concurrency</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Actor threadpool size.
          - <strong>\_simulation\_max\_concurrencty</strong> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "（在 Python v3.11）")) – Actor threadpool size only for
            simulation (single controller mode). This argument takes effect only
            when max\_concurrency is None.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          Wrapper function.
        </dd>

        <dt className="field-name">
          返回类型
        </dt>

        <dd className="field-body">
          Callable
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.reveal"} module={"secretflow"} fullname={"reveal"} parameters={["func_or_object", "heu_encoder"]} description={"Get plaintext data from device."}>
  <Outline.Signature fullname="reveal" id="secretflow.reveal">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>reveal</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">func\_or\_object</span></Outline.Parameter>, <Outline.Parameter><span className="name">heu\_encoder</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Get plaintext data from device.

    NOTE: Use this function with extreme caution, as it may cause privacy leaks.
    In SecretFlow, we recommend that data should flow between different devices
    and rarely revealed to driver. Only use this function when data dependency
    control flow occurs.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>func\_or\_object</strong> – May be callable or any Python objects which contains Device objects.
          - <strong>heu\_encoder</strong> – Can be heu Encoder or EncoderParams.
            This is used to replace the default encoder from config
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.shutdown"} module={"secretflow"} fullname={"shutdown"} parameters={[]} description={"Disconnect the worker, and terminate processes started by secretflow.init()."}>
  <Outline.Signature fullname="shutdown" id="secretflow.shutdown">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>shutdown</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Disconnect the worker, and terminate processes started by secretflow\.init().

    This will automatically run at the end when a Python process that uses Ray exits.
    It is ok to run this twice in a row. The primary use case for this function
    is to cleanup state between tests.
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.to"} module={"secretflow"} fullname={"to"} parameters={["device", "data"]} description={"Device object conversion."}>
  <Outline.Signature fullname="to" id="secretflow.to">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>to</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Device object conversion.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>device</strong> ([<em>Device</em>](#secretflow.Device "secretflow.Device")) – Target device.
          - <strong>data</strong> (<em>Any</em>) – DeviceObject or plaintext data.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          Target device object.
        </dd>

        <dt className="field-name">
          返回类型
        </dt>

        <dd className="field-body">
          [DeviceObject](#secretflow.DeviceObject "secretflow.DeviceObject")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.wait"} module={"secretflow"} fullname={"wait"} parameters={["objects"]} description={"Wait for device objects until all are ready or error occurrency."}>
  <Outline.Signature fullname="wait" id="secretflow.wait">
    <Outline.Prefix>secretflow.</Outline.Prefix><Outline.Name>wait</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">objects</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "（在 Python v3.11）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Wait for device objects until all are ready or error occurrency.

    NOTE: This function uses reveal internally, but won’t reveal result to
    public. So this is secure to use this as synchronization semantics.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          <strong>objects</strong> – struct of device objects.
        </dd>
      </dl>
    </FieldList>

    <p className="sidebar-rubric">
      示例
    </p>

    ```python
    >>> spu = sf.SPU()
    >>> spu_value = spu(some_function)(some_value)
    >>> alice_value = spu_value.to(alice)
    >>> # synchronization
    >>> sf.wait(alice(some_save_value_function_locally)(alice_value))
    ```
  </Outline.Content>
</Outline>
