---
git_download_url: https://github.com/secretflow/secretflow/raw/215ee402b76decfeb01e97c0861cab9f5ec3f823/docs/source/secretflow.ml.boost.ss_xgb_v.core.rst
git_last_modified_commit: c59f45b86fd3a02c15396643ebfaab772747004d
git_last_modified_time: '2022-11-17T10:54:06+08:00'
git_origin_url: https://github.com/secretflow/secretflow/blob/215ee402b76decfeb01e97c0861cab9f5ec3f823/docs/source/secretflow.ml.boost.ss_xgb_v.core.rst
git_owner: secretflow
git_repo: secretflow
git_revision_commit: 215ee402b76decfeb01e97c0861cab9f5ec3f823
git_revision_time: '2023-12-06T20:08:22+08:00'
---

:target{#secretflow-ml-boost-ss-xgb-v-core-package}

# secretflow\.ml.boost.ss\_xgb\_v.core package

:target{#submodules}

## Submodules

:target{id="module-secretflow.ml.boost.ss_xgb_v.core.node_split"}

## <Target id="secretflow-ml-boost-ss-xgb-v-core-node-split-module" />secretflow\.ml.boost.ss\_xgb\_v.core.node\_split module

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`RegType`](#secretflow.ml.boost.ss_xgb_v.core.node_split.RegType "secretflow.ml.boost.ss_xgb_v.core.node_split.RegType")(value)
      </td>

      <td>
        An enumeration.
      </td>
    </tr>
  </tbody>
</table>

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`sigmoid`](#secretflow.ml.boost.ss_xgb_v.core.node_split.sigmoid "secretflow.ml.boost.ss_xgb_v.core.node_split.sigmoid")(pred)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`compute_obj`](#secretflow.ml.boost.ss_xgb_v.core.node_split.compute_obj "secretflow.ml.boost.ss_xgb_v.core.node_split.compute_obj")(G, H, reg\_lambda)
      </td>

      <td>
        compute objective values of input buckets.
      </td>
    </tr>

    <tr>
      <td>
        [`compute_weight`](#secretflow.ml.boost.ss_xgb_v.core.node_split.compute_weight "secretflow.ml.boost.ss_xgb_v.core.node_split.compute_weight")(G, H, reg\_lambda, learning\_rate)
      </td>

      <td>
        compute weight values of tree leaf nodes.
      </td>
    </tr>

    <tr>
      <td>
        [`compute_gh`](#secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gh "secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gh")(y, pred, objective)
      </td>

      <td>
        compute first and second order gradient of each sample.
      </td>
    </tr>

    <tr>
      <td>
        [`tree_setup`](#secretflow.ml.boost.ss_xgb_v.core.node_split.tree_setup "secretflow.ml.boost.ss_xgb_v.core.node_split.tree_setup")(pred, y, sub\_choices, objective)
      </td>

      <td>
        Set up pre-tree context.
      </td>
    </tr>

    <tr>
      <td>
        [`compute_gradient_sums`](#secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gradient_sums "secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gradient_sums")(nodes\_s, cache, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`find_best_split_bucket`](#secretflow.ml.boost.ss_xgb_v.core.node_split.find_best_split_bucket "secretflow.ml.boost.ss_xgb_v.core.node_split.find_best_split_bucket")(GHs, reg\_lambda)
      </td>

      <td>
        compute the gradient sums of the containing instances in each split bucket and find best split bucket for each node which has the max split gain.
      </td>
    </tr>

    <tr>
      <td>
        [`init_pred`](#secretflow.ml.boost.ss_xgb_v.core.node_split.init_pred "secretflow.ml.boost.ss_xgb_v.core.node_split.init_pred")(base, samples)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`root_select`](#secretflow.ml.boost.ss_xgb_v.core.node_split.root_select "secretflow.ml.boost.ss_xgb_v.core.node_split.root_select")(samples)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`get_child_select`](#secretflow.ml.boost.ss_xgb_v.core.node_split.get_child_select "secretflow.ml.boost.ss_xgb_v.core.node_split.get_child_select")(nodes\_s, lchilds\_ss, fragments)
      </td>

      <td>
        compute the next level's select indexes.
      </td>
    </tr>

    <tr>
      <td>
        [`predict_tree_weight`](#secretflow.ml.boost.ss_xgb_v.core.node_split.predict_tree_weight "secretflow.ml.boost.ss_xgb_v.core.node_split.predict_tree_weight")(selects, weights)
      </td>

      <td>
        get final pred for this tree.
      </td>
    </tr>

    <tr>
      <td>
        [`get_weight`](#secretflow.ml.boost.ss_xgb_v.core.node_split.get_weight "secretflow.ml.boost.ss_xgb_v.core.node_split.get_weight")(sums, reg\_lambda, learning\_rate)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`sum_leaf`](#secretflow.ml.boost.ss_xgb_v.core.node_split.sum_leaf "secretflow.ml.boost.ss_xgb_v.core.node_split.sum_leaf")(ss, gh, sub\_choices)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`update_train_pred`](#secretflow.ml.boost.ss_xgb_v.core.node_split.update_train_pred "secretflow.ml.boost.ss_xgb_v.core.node_split.update_train_pred")(pred, current, fragments)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="class" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.RegType"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"RegType"} parameters={["value"]} description={"\u57fa\u7c7b\uff1aEnum"}>
  <Outline.Signature fullname="RegType" id="secretflow.ml.boost.ss_xgb_v.core.node_split.RegType">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>RegType</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">value</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    基类：[`Enum`](https://docs.python.org/3/library/enum.html#enum.Enum "（在 Python v3.12）")

    An enumeration.

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`Linear`](#secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Linear "secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Linear")
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`Logistic`](#secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Logistic "secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Logistic")
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="attribute" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Linear"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"RegType.Linear"} parameters={["value"]} description={"\u57fa\u7c7b\uff1aEnum"}>
      <Outline.Signature fullname="RegType.Linear" id="secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Linear">
        <Outline.Name>Linear</Outline.Name><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>'linear'</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Logistic"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"RegType.Logistic"} parameters={["value"]} description={"\u57fa\u7c7b\uff1aEnum"}>
      <Outline.Signature fullname="RegType.Logistic" id="secretflow.ml.boost.ss_xgb_v.core.node_split.RegType.Logistic">
        <Outline.Name>Logistic</Outline.Name><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>'logistic'</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.sigmoid"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"sigmoid"} parameters={["pred"]}>
  <Outline.Signature fullname="sigmoid" id="secretflow.ml.boost.ss_xgb_v.core.node_split.sigmoid">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>sigmoid</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">pred</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.compute_obj"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"compute_obj"} parameters={["G", "H", "reg_lambda"]} description={"compute objective values of input buckets."}>
  <Outline.Signature fullname="compute_obj" id="secretflow.ml.boost.ss_xgb_v.core.node_split.compute_obj">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>compute\_obj</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">G</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">H</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">reg\_lambda</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    compute objective values of input buckets.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>G/H</strong> – sum of first and second order gradient in each bucket.
          - <strong>reg\_lambda</strong> – L2 regularization term
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          objective values.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.compute_weight"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"compute_weight"} parameters={["G", "H", "reg_lambda", "learning_rate"]} description={"compute weight values of tree leaf nodes."}>
  <Outline.Signature fullname="compute_weight" id="secretflow.ml.boost.ss_xgb_v.core.node_split.compute_weight">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>compute\_weight</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">G</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">H</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">reg\_lambda</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">learning\_rate</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    compute weight values of tree leaf nodes.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>G/H</strong> – sum of first and second order gradient in each node.
          - <strong>reg\_lambda</strong> – L2 regularization term
          - <strong>learning\_rate</strong> – Step size shrinkage used in update to prevents overfitting.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          weight values.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gh"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"compute_gh"} parameters={["y", "pred", "objective"]} description={"compute first and second order gradient of each sample."}>
  <Outline.Signature fullname="compute_gh" id="secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gh">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>compute\_gh</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">y</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">pred</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">objective</span><span>:</span><span>{" "}</span><span className="name">[RegType](#secretflow.ml.boost.ss_xgb_v.core.node_split.RegType "secretflow.ml.boost.ss_xgb_v.core.node_split.RegType")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>,</span><span>{" "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    compute first and second order gradient of each sample.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>y</strong> – sample true label of each sample.
          - <strong>pred</strong> – prediction of each sample.
          - <strong>objective</strong> – regression learning objective,
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          weight values.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.tree_setup"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"tree_setup"} parameters={["pred", "y", "sub_choices", "objective"]} description={"Set up pre-tree context."}>
  <Outline.Signature fullname="tree_setup" id="secretflow.ml.boost.ss_xgb_v.core.node_split.tree_setup">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>tree\_setup</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">pred</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">y</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">sub\_choices</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">objective</span><span>:</span><span>{" "}</span><span className="name">[RegType](#secretflow.ml.boost.ss_xgb_v.core.node_split.RegType "secretflow.ml.boost.ss_xgb_v.core.node_split.RegType")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>,</span><span>{" "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Set up pre-tree context.
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gradient_sums"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"compute_gradient_sums"} parameters={["nodes_s", "cache", "col_choices", "sub_choices", "gh", "buckets_map"]}>
  <Outline.Signature fullname="compute_gradient_sums" id="secretflow.ml.boost.ss_xgb_v.core.node_split.compute_gradient_sums">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>compute\_gradient\_sums</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">nodes\_s</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">cache</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">col\_choices</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">sub\_choices</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">gh</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">buckets\_map</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.find_best_split_bucket"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"find_best_split_bucket"} parameters={["GHs", "reg_lambda"]} description={"compute the gradient sums of the containing instances in each split bucket\nand find best split bucket for each node which has the max split gain."}>
  <Outline.Signature fullname="find_best_split_bucket" id="secretflow.ml.boost.ss_xgb_v.core.node_split.find_best_split_bucket">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>find\_best\_split\_bucket</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">GHs</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">reg\_lambda</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>,</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "（在 Python v3.12）")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "（在 Python v3.12）")<span>,</span><span>{" "}</span>[Any](https://docs.python.org/3/library/typing.html#typing.Any "（在 Python v3.12）")<span>]</span><span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    compute the gradient sums of the containing instances in each split bucket
    and find best split bucket for each node which has the max split gain.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>context</strong> – comparison context.
          - <strong>nodes\_s</strong> – sample select indexes of each node from same tree level.
          - <strong>last\_level</strong> – if this split is last level, next level is leaf nodes.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          idx of split bucket for each node.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.init_pred"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"init_pred"} parameters={["base", "samples"]}>
  <Outline.Signature fullname="init_pred" id="secretflow.ml.boost.ss_xgb_v.core.node_split.init_pred">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>init\_pred</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">base</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">samples</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.root_select"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"root_select"} parameters={["samples"]}>
  <Outline.Signature fullname="root_select" id="secretflow.ml.boost.ss_xgb_v.core.node_split.root_select">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>root\_select</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">samples</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.get_child_select"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"get_child_select"} parameters={["nodes_s", "lchilds_ss", "fragments"]} description={"compute the next level\u2019s select indexes."}>
  <Outline.Signature fullname="get_child_select" id="secretflow.ml.boost.ss_xgb_v.core.node_split.get_child_select">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>get\_child\_select</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">nodes\_s</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">lchilds\_ss</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">fragments</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    compute the next level’s select indexes.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>nodes\_s</strong> – sample select indexes of each node from current level’s nodes.
          - <strong>lchilds\_ss</strong> – left children’s sample select idx for current level’s nodes.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          sample select indexes for nodes in next tree level.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.predict_tree_weight"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"predict_tree_weight"} parameters={["selects", "weights"]} description={"get final pred for this tree."}>
  <Outline.Signature fullname="predict_tree_weight" id="secretflow.ml.boost.ss_xgb_v.core.node_split.predict_tree_weight">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>predict\_tree\_weight</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">selects</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">weights</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    get final pred for this tree.

    <FieldList>
      <dl>
        <dt className="field-name">
          参数
        </dt>

        <dd className="field-body">
          - <strong>selects</strong> – leaf nodes’ sample selects from each model handler.
          - <strong>weights</strong> – leaf weights in secure share.
        </dd>

        <dt className="field-name">
          返回
        </dt>

        <dd className="field-body">
          pred
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.get_weight"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"get_weight"} parameters={["sums", "reg_lambda", "learning_rate"]}>
  <Outline.Signature fullname="get_weight" id="secretflow.ml.boost.ss_xgb_v.core.node_split.get_weight">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>get\_weight</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">sums</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">reg\_lambda</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">learning\_rate</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.sum_leaf"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"sum_leaf"} parameters={["ss", "gh", "sub_choices"]}>
  <Outline.Signature fullname="sum_leaf" id="secretflow.ml.boost.ss_xgb_v.core.node_split.sum_leaf">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>sum\_leaf</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">ss</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">gh</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">sub\_choices</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.ml.boost.ss_xgb_v.core.node_split.update_train_pred"} module={"secretflow.ml.boost.ss_xgb_v.core.node_split"} fullname={"update_train_pred"} parameters={["pred", "current", "fragments"]}>
  <Outline.Signature fullname="update_train_pred" id="secretflow.ml.boost.ss_xgb_v.core.node_split.update_train_pred">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.node\_split.</Outline.Prefix><Outline.Name>update\_train\_pred</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">pred</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "（在 Python v3.12）")<span>\[</span>[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">current</span><span>:</span><span>{" "}</span><span className="name">[ndarray](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "（在 NumPy v1.26）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">fragments</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.ml.boost.ss_xgb_v.core.tree_worker"}

## <Target id="secretflow-ml-boost-ss-xgb-v-core-tree-worker-module" />secretflow\.ml.boost.ss\_xgb\_v.core.tree\_worker module

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`XgbTreeWorker`](#secretflow.ml.boost.ss_xgb_v.core.tree_worker.XgbTreeWorker "secretflow.ml.boost.ss_xgb_v.core.tree_worker.XgbTreeWorker")
      </td>

      <td>
        `ActorProxy(XgbTreeWorker)` 的别名
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="attribute" target={"secretflow.ml.boost.ss_xgb_v.core.tree_worker.XgbTreeWorker"} module={"secretflow.ml.boost.ss_xgb_v.core.tree_worker"} fullname={"XgbTreeWorker"} description={"ActorProxy(XgbTreeWorker) \u7684\u522b\u540d\nMethods:"}>
  <Outline.Signature fullname="XgbTreeWorker" id="secretflow.ml.boost.ss_xgb_v.core.tree_worker.XgbTreeWorker">
    <Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.tree\_worker.</Outline.Prefix><Outline.Name>XgbTreeWorker</Outline.Name>
  </Outline.Signature>

  <Outline.Content>
    `ActorProxy(XgbTreeWorker)` 的别名
    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            `__init__`(\*args, \*\*kwargs)
          </td>

          <td>
            Abstraction device object base class.
          </td>
        </tr>

        <tr>
          <td>
            `predict_weight_select`(x, tree)
          </td>

          <td>
            computer leaf nodes' sample selects known by this partition.
          </td>
        </tr>

        <tr>
          <td>
            `build_bucket_map`(start, length)
          </td>

          <td>
            Build bucket\_map fragment base on order\_map.
          </td>
        </tr>

        <tr>
          <td>
            `global_setup`(x, buckets, seed)
          </td>

          <td>
            Set up global context.
          </td>
        </tr>

        <tr>
          <td>
            `update_buckets_count`(buckets\_count, ...)
          </td>

          <td>
            save how many buckets in each partition's features.
          </td>
        </tr>

        <tr>
          <td>
            `tree_setup`(colsample)
          </td>

          <td>
            Set up tree context and do col sample if colsample \< 1
          </td>
        </tr>

        <tr>
          <td>
            `tree_finish`()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            `do_split`(split\_buckets)
          </td>

          <td>
            record split info and generate next level's left children select.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            `device`
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>
  </Outline.Content>
</Outline>

:target{id="module-secretflow.ml.boost.ss_xgb_v.core.xgb_tree"}

## <Target id="secretflow-ml-boost-ss-xgb-v-core-xgb-tree-module" />secretflow\.ml.boost.ss\_xgb\_v.core.xgb\_tree module

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`XgbTree`](#secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree "secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree")()
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="class" target={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree"} module={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree"} fullname={"XgbTree"} description={"\u57fa\u7c7b\uff1aobject"}>
  <Outline.Signature fullname="XgbTree" id="secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.ml.boost.ss\_xgb\_v.core.xgb\_tree.</Outline.Prefix><Outline.Name>XgbTree</Outline.Name>
  </Outline.Signature>

  <Outline.Content>
    基类：[`object`](https://docs.python.org/3/library/functions.html#object "（在 Python v3.12）")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.__init__ "secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.__init__")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`insert_split_node`](#secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.insert_split_node "secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.insert_split_node")(feature, value)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.__init__"} module={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree"} fullname={"XgbTree.__init__"} description={"\u57fa\u7c7b\uff1aobject"} parameters={[]}>
      <Outline.Signature fullname="XgbTree.__init__" id="secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.insert_split_node"} module={"secretflow.ml.boost.ss_xgb_v.core.xgb_tree"} fullname={"XgbTree.insert_split_node"} description={"\u57fa\u7c7b\uff1aobject"} parameters={["feature", "value"]}>
      <Outline.Signature fullname="XgbTree.insert_split_node" id="secretflow.ml.boost.ss_xgb_v.core.xgb_tree.XgbTree.insert_split_node">
        <Outline.Name>insert\_split\_node</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "（在 Python v3.12）")</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "（在 Python v3.12）")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[None](https://docs.python.org/3/library/constants.html#None "（在 Python v3.12）")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

:target{id="module-secretflow.ml.boost.ss_xgb_v.core"}

## <Target id="module-contents" />Module contents
