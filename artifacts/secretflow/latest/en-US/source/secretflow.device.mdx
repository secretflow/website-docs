:target{#secretflow-device-package}

# secretflow\.device package

:target{#subpackages}

## Subpackages

<TableOfContents>


  - [secretflow.device.device package](secretflow.device.device.device.mdx)
    - [Submodules](secretflow.device.device.device.mdx#submodules)
    - [secretflow.device.device.base module](secretflow.device.device.device.mdx#module-secretflow.device.device.base)
    - [secretflow.device.device.heu module](secretflow.device.device.device.mdx#module-secretflow.device.device.heu)
    - [secretflow.device.device.heu\_object module](secretflow.device.device.device.mdx#module-secretflow.device.device.heu_object)
    - [secretflow.device.device.pyu module](secretflow.device.device.device.mdx#module-secretflow.device.device.pyu)
    - [secretflow.device.device.register module](secretflow.device.device.device.mdx#module-secretflow.device.device.register)
    - [secretflow.device.device.spu module](secretflow.device.device.device.mdx#module-secretflow.device.device.spu)
    - [secretflow.device.device.teeu module](secretflow.device.device.device.mdx#module-secretflow.device.device.teeu)
    - [secretflow.device.device.type\_traits module](secretflow.device.device.device.mdx#module-secretflow.device.device.type_traits)
    - [Module contents](secretflow.device.device.device.mdx#module-secretflow.device.device)
  - [secretflow.device.kernels package](secretflow.device.device.kernels.mdx)
    - [Submodules](secretflow.device.device.kernels.mdx#submodules)
    - [secretflow.device.kernels.heu module](secretflow.device.device.kernels.mdx#module-secretflow.device.kernels.heu)
    - [secretflow.device.kernels.pyu module](secretflow.device.device.kernels.mdx#module-secretflow.device.kernels.pyu)
    - [secretflow.device.kernels.spu module](secretflow.device.device.kernels.mdx#module-secretflow.device.kernels.spu)
    - [secretflow.device.kernels.teeu module](secretflow.device.device.kernels.mdx#module-secretflow.device.kernels.teeu)
    - [Module contents](secretflow.device.device.kernels.mdx#module-secretflow.device.kernels)
</TableOfContents>

:target{#submodules}

## Submodules

:target{id="module-secretflow.device.driver"}

## secretflow\.device.driver module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`with_device`](#secretflow.device.driver.with_device "secretflow.device.driver.with_device")(dev, \*\[, num\_returns, ...])
      </td>

      <td>
        Set up a wrapper for scheduling function to this device.
      </td>
    </tr>

    <tr>
      <td>
        [`to`](#secretflow.device.driver.to "secretflow.device.driver.to")(device, data)
      </td>

      <td>
        Device object conversion.
      </td>
    </tr>

    <tr>
      <td>
        [`reveal`](#secretflow.device.driver.reveal "secretflow.device.driver.reveal")(func\_or\_object\[, heu\_encoder])
      </td>

      <td>
        Get plaintext data from device.
      </td>
    </tr>

    <tr>
      <td>
        [`wait`](#secretflow.device.driver.wait "secretflow.device.driver.wait")(objects)
      </td>

      <td>
        Wait for device objects until all are ready or error occurrency.
      </td>
    </tr>

    <tr>
      <td>
        [`init`](#secretflow.device.driver.init "secretflow.device.driver.init")(\[parties, address, cluster\_config, ...])
      </td>

      <td>
        Connect to an existing Ray cluster or start one and connect to it.
      </td>
    </tr>

    <tr>
      <td>
        [`barrier`](#secretflow.device.driver.barrier "secretflow.device.driver.barrier")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`shutdown`](#secretflow.device.driver.shutdown "secretflow.device.driver.shutdown")()
      </td>

      <td>
        Disconnect the worker, and terminate processes started by secretflow\.init().
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.with_device"} module={"secretflow.device.driver"} fullname={"with_device"} parameters={["dev", "num_returns", "static_argnames"]} description={"Set up a wrapper for scheduling function to this device."}>
  <Outline.Signature fullname="with_device" id="secretflow.device.driver.with_device">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>with\_device</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">dev</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span>\*</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_returns</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">static\_argnames</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[Iterable](https://docs.python.org/3/library/typing.html#typing.Iterable "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Set up a wrapper for scheduling function to this device.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>dev</Outline.ParameterTarget> ([<em>Device</em>](secretflow.mdx#secretflow.Device "secretflow.Device")) – Target device.
          - <Outline.ParameterTarget>num\_returns</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")) – Number of returned DeviceObject.
          - <Outline.ParameterTarget>static\_argnames</Outline.ParameterTarget> (<em>Union</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<em>, </em><em>Iterable</em><em>\[</em>[<em>str</em>](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<em>]</em><em>, </em><em>None</em><em>]</em>) – See `jax.jit()` docstring.
        </dd>
      </dl>
    </FieldList>

    <p className="sidebar-rubric">
      Examples
    </p>

    ```python
    >>> p1, spu = PYU(), SPU()
    >>> # dynamic decorator
    >>> x = with_device(p1)(load_data)('alice.csv')
    >>> # static decorator
    >>> @with_device(spu)
    >>> def selu(x, alpha=1.67, lmbda=1.05):
    >>>     return lmbda * jnp.where(x > 0, x, alpha * jnp.exp(x) - alpha)
    >>> x_ = x.to(spu)
    >>> y = selu(x_)
    ```
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.to"} module={"secretflow.device.driver"} fullname={"to"} parameters={["device", "data"]} description={"Device object conversion."}>
  <Outline.Signature fullname="to" id="secretflow.device.driver.to">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>to</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[Device](secretflow.device.device.device.mdx#secretflow.device.device.base.Device "secretflow.device.device.base.Device")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Device object conversion.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>device</Outline.ParameterTarget> ([<em>Device</em>](secretflow.mdx#secretflow.Device "secretflow.Device")) – Target device.
          - <Outline.ParameterTarget>data</Outline.ParameterTarget> (<em>Any</em>) – DeviceObject or plaintext data.
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          Target device object.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          [DeviceObject](secretflow.mdx#secretflow.DeviceObject "secretflow.DeviceObject")
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.reveal"} module={"secretflow.device.driver"} fullname={"reveal"} parameters={["func_or_object", "heu_encoder"]} description={"Get plaintext data from device."}>
  <Outline.Signature fullname="reveal" id="secretflow.device.driver.reveal">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>reveal</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">func\_or\_object</span></Outline.Parameter>, <Outline.Parameter><span className="name">heu\_encoder</span><span>=</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Get plaintext data from device.

    NOTE: Use this function with extreme caution, as it may cause privacy leaks.
    In SecretFlow, we recommend that data should flow between different devices
    and rarely revealed to driver. Only use this function when data dependency
    control flow occurs.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>func\_or\_object</Outline.ParameterTarget> – May be callable or any Python objects which contains Device objects.
          - <Outline.ParameterTarget>heu\_encoder</Outline.ParameterTarget> – Can be heu Encoder or EncoderParams.
            This is used to replace the default encoder from config
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.wait"} module={"secretflow.device.driver"} fullname={"wait"} parameters={["objects"]} description={"Wait for device objects until all are ready or error occurrency."}>
  <Outline.Signature fullname="wait" id="secretflow.device.driver.wait">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>wait</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">objects</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Wait for device objects until all are ready or error occurrency.

    NOTE: This function uses reveal internally, but won’t reveal result to
    public. So this is secure to use this as synchronization semantics.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          <Outline.ParameterTarget>objects</Outline.ParameterTarget> – struct of device objects.
        </dd>
      </dl>
    </FieldList>

    <p className="sidebar-rubric">
      Examples
    </p>

    ```python
    >>> spu = sf.SPU()
    >>> spu_value = spu(some_function)(some_value)
    >>> alice_value = spu_value.to(alice)
    >>> # synchronization
    >>> sf.wait(alice(some_save_value_function_locally)(alice_value))
    ```
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.init"} module={"secretflow.device.driver"} fullname={"init"} parameters={["parties", "address", "cluster_config", "num_cpus", "num_gpus", "log_to_driver", "omp_num_threads", "logging_level", "cross_silo_comm_backend", "cross_silo_comm_options", "enable_waiting_for_other_parties_ready", "tls_config", "auth_manager_config", "party_key_pair", "tee_simulation", "kwargs"]} description={"Connect to an existing Ray cluster or start one and connect to it."}>
  <Outline.Signature fullname="init" id="secretflow.device.driver.init">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>init</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">parties</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">address</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cluster\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_cpus</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_gpus</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">log\_to\_driver</span><span>=</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">omp\_num\_threads</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">logging\_level</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>'info'</span></Outline.Parameter>, <Outline.Parameter><span className="name">cross\_silo\_comm\_backend</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>'grpc'</span></Outline.Parameter>, <Outline.Parameter><span className="name">cross\_silo\_comm\_options</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">enable\_waiting\_for\_other\_parties\_ready</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>True</span></Outline.Parameter>, <Outline.Parameter><span className="name">tls\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">auth\_manager\_config</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_key\_pair</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span><span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">tee\_simulation</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>False</span></Outline.Parameter>, <Outline.Parameter><span>\*\*</span><span className="name">kwargs</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Connect to an existing Ray cluster or start one and connect to it.

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>parties</Outline.ParameterTarget> – parties this node represents, e.g: ‘alice’, \[‘alice’, ‘bob’, ‘carol’].
            If parties are provided, then simulation mode will be enabled,
            which means a single ray cluster will simulate as multi parties.
            If you want to run SecretFlow in production mode, plean keep it None.
          - <Outline.ParameterTarget>address</Outline.ParameterTarget> – The address of the Ray cluster to connect to. If this address
            is not provided, then a local ray will be started.
          - <Outline.ParameterTarget>cluster\_config</Outline.ParameterTarget> –&#x20;

            the cluster config of multi SecretFlow parties. Must be
            provided if you run SecretFlow in cluster mode. E.g.
            ```python
            # For alice
            {
                'parties': {
                    'alice': {
                        # The address for other parties.
                        'address': '127.0.0.1:20001',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20001'
                    },
                    'bob': {
                        # The address for other parties.
                        'address': '127.0.0.1:20002',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20002'
                    },
                },
                'self_party': 'alice'
            }

            # For bob
            {
                'parties': {
                    'alice': {
                        # The address for other parties.
                        'address': '127.0.0.1:20001',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20001'
                    },
                    'bob': {
                        # The address for other parties.
                        'address': '127.0.0.1:20002',
                        # (Optional) the listen address, the `address` will
                        # be used if not prodived.
                        'listen_addr': '0.0.0.0:20002'
                    },
                },
                'self_party': 'bob'
            }
            ```
          - <Outline.ParameterTarget>num\_cpus</Outline.ParameterTarget> – Number of CPUs the user wishes to assign to each raylet.
          - <Outline.ParameterTarget>log\_to\_driver</Outline.ParameterTarget> – Whether direct output of worker processes on all nodes
            to driver.
          - <Outline.ParameterTarget>omp\_num\_threads</Outline.ParameterTarget> – set environment variable <cite>OMP\_NUM\_THREADS</cite>. It works
            only when address is None.
          - <Outline.ParameterTarget>logging\_level</Outline.ParameterTarget> – optional; works only in production mode.
            the logging level, could be <cite>debug</cite>, <cite>info</cite>, <cite>warning</cite>, <cite>error</cite>,
            <cite>critical</cite>, not case sensititive.
          - <Outline.ParameterTarget>cross\_silo\_comm\_backend</Outline.ParameterTarget> – works only in production mode, a string determines
            which communication backend is used. The default value is ‘grpc’.
            The other available option is ‘brpc\_link’,  which is based on brpc.
          - <Outline.ParameterTarget>cross\_silo\_comm\_options</Outline.ParameterTarget> –&#x20;

            a dict describes the cross-silo communication options.
            the common options for all cross-silo communication backends.
            >           <DefinitionList>
            >             <dl>
            >               <dt>
            >                 <DefinitionList.Term><span>exit\_on\_sending\_failure</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 whether exit when failure on cross-silo sending. If True, a SIGTERM
            >                 will be signaled to self if failed to send cross-silo data. The default
            >                 value is True.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>messages\_max\_size\_in\_bytes</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 The maximum length in bytes of cross-silo messages. The default value
            >                 is 500 MB. The size must be strictly less than 2GB when grpc is used.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>timeout\_in\_ms</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 The timeout in miliseconds of a cross-silo RPC call. It’s 60000 by default.
            >               </dd>
            >
            >               <dt>
            >                 <DefinitionList.Term><span>serializing\_allowed\_list</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 A dict describes the package or class list allowed for cross-silo
            >                 serializing(deserializating).  It’s used for avoiding pickle
            >                 deserializing execution attack. E.g.
            >
            >                 ```python
            >                 {
            >                     "numpy.core.numeric": ["*"],
            >                     "numpy": ["dtype"],
            >                 }
            >                 ```
            >               </dd>
            >             </dl>
            >           </DefinitionList>
                      <DefinitionList>
                        <dl>
                          <dt>
                            <DefinitionList.Term><span>when cross-silo backend is <cite>grpc</cite>, the following options can be configured additionally.</span></DefinitionList.Term>
                          </dt>

                          <dd>
                            <DefinitionList>
                              <dl>
                                <dt>
                                  <DefinitionList.Term><span>grpc\_retry\_policy</span></DefinitionList.Term>
                                </dt>

                                <dd>
                                  a dict descibes the retry policy for cross silo rpc call.
                                  More details please refer to
                                  [retry-policy](https://github.com/grpc/proposal/blob/master/A6-client-retries.md#retry-policy).

                                  ```python
                                  {
                                      "maxAttempts": 4,
                                      "initialBackoff": "0.1s",
                                      "maxBackoff": "1s",
                                      "backoffMultiplier": 2,
                                      "retryableStatusCodes": [
                                          "UNAVAILABLE"
                                      ]
                                  }
                                  ```
                                </dd>

                                <dt>
                                  <DefinitionList.Term><span>grpc\_channel\_options</span></DefinitionList.Term>
                                </dt>

                                <dd>
                                  A list of key-value pairs to configure the underlying gRPC Core
                                  channel or server object, please refer to
                                  [channel\_arguments](https://grpc.github.io/grpc/python/glossary.html#term-channel_arguments).
                                </dd>
                              </dl>
                            </DefinitionList>
                          </dd>

                          <dt>
                            <DefinitionList.Term><span>when cross-silo backend is <cite>brpc\_link</cite>, the following options can be configured additionally.</span></DefinitionList.Term>
                          </dt>

                          <dd>
                            1. connect\_retry\_times
                            2. connect\_retry\_interval\_ms
                            3. recv\_timeout\_ms
                            4. http\_max\_payload\_size
                            5. http\_timeout\_ms
                            6. throttle\_window\_size
                            7.                 <DefinitionList>
                                                 <dl>
                                                   <dt>
                                                     <DefinitionList.Term><span>brpc\_channel\_protocol</span></DefinitionList.Term>
                                                   </dt>

                                                   <dd>
                                                     please refer to [protocols](https://github.com/apache/brpc/blob/master/docs/en/client.md#protocols).
                                                   </dd>
                                                 </dl>
                                               </DefinitionList>
                            8.                 <DefinitionList>
                                                 <dl>
                                                   <dt>
                                                     <DefinitionList.Term><span>brpc\_channel\_connection\_type</span></DefinitionList.Term>
                                                   </dt>

                                                   <dd>
                                                     please refer to [connection-type](https://github.com/apache/brpc/blob/master/docs/en/client.md#connection-type).
                                                   </dd>
                                                 </dl>
                                               </DefinitionList>
                          </dd>
                        </dl>
                      </DefinitionList>
          - <Outline.ParameterTarget>enable\_waiting\_for\_other\_parties\_ready</Outline.ParameterTarget> – wait for other parties ready if True.
            When cross-silo backend is <cite>brpc\_link</cite>, you can set <cite>connect\_retry\_times</cite>
            and <cite>connect\_retry\_interval\_ms</cite> in <cite>cross\_silo\_comm\_options</cite> to determine
            the waiting time.
          - <Outline.ParameterTarget>tls\_config</Outline.ParameterTarget> –&#x20;

            optional, a dict describes the tls certificate and key infomations. E.g.
            .. code:: python
            >           <DefinitionList>
            >             <dl>
            >               <dt>
            >                 <DefinitionList.Term><span>\{</span></DefinitionList.Term>
            >               </dt>
            >
            >               <dd>
            >                 ‘key’: ‘server key in pem.’
            >                 ‘cert’: ‘server certificate in pem.’,
            >                 ‘ca\_cert’: ‘root ca certificate of other parties.’
            >               </dd>
            >             </dl>
            >           </DefinitionList>
            >
            > }
          - <Outline.ParameterTarget>auth\_manager\_config</Outline.ParameterTarget> –&#x20;

            optional, a dict describes the config about authority manager
            service. Authority manager helps manage the authority of TEE data.
            This parameter is for TEE users only. An example,
            ```python
            {
                'host': 'host of authority manager service.'
                'mr_enclave': 'mr_enclave of authority manager.',
                'ca_cert': 'optional, root ca certificate of authority manager.'
            }
            ```
          - <Outline.ParameterTarget>party\_key\_pair</Outline.ParameterTarget> –&#x20;

            optional, a dict describes the asymmetric key pair.
            This is required for party who wants to send data to TEEU.
            E.g.
            ```python
            # For alice
            {
                'alice': {
                    'public_key': 'RSA public key of alice in pem.',
                    'private_key': 'RSA private key of alice in pem.',
                }
            }

            # For bob
            {
                'bob': {
                    'public_key': 'RSA public key of bob in pem.',
                    'private_key': 'RSA private key of bob in pem.',
                }
            }
            ```
          - <Outline.ParameterTarget>tee\_simulation</Outline.ParameterTarget> – optional, enable TEE simulation if True.
            When simulation is enabled, the remote attestation for auth manager
            will be ignored. This is for test only and keep it False when for production.
          - <Outline.ParameterTarget>\*\*kwargs</Outline.ParameterTarget> – see `ray.init()` parameters.
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.barrier"} module={"secretflow.device.driver"} fullname={"barrier"} parameters={[]}>
  <Outline.Signature fullname="barrier" id="secretflow.device.driver.barrier">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>barrier</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.driver.shutdown"} module={"secretflow.device.driver"} fullname={"shutdown"} parameters={[]} description={"Disconnect the worker, and terminate processes started by secretflow.init()."}>
  <Outline.Signature fullname="shutdown" id="secretflow.device.driver.shutdown">
    <Outline.Prefix>secretflow\.device.driver.</Outline.Prefix><Outline.Name>shutdown</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Disconnect the worker, and terminate processes started by secretflow\.init().

    This will automatically run at the end when a Python process that uses Ray exits.
    It is ok to run this twice in a row. The primary use case for this function
    is to cleanup state between tests.
  </Outline.Content>
</Outline>

:target{id="module-secretflow.device.global_state"}

## secretflow\.device.global\_state module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`set_self_party`](#secretflow.device.global_state.set_self_party "secretflow.device.global_state.set_self_party")(self\_party)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`self_party`](#secretflow.device.global_state.self_party "secretflow.device.global_state.self_party")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`parties`](#secretflow.device.global_state.parties "secretflow.device.global_state.parties")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_parties`](#secretflow.device.global_state.set_parties "secretflow.device.global_state.set_parties")(parties)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_party_certs`](#secretflow.device.global_state.set_party_certs "secretflow.device.global_state.set_party_certs")(party\_certs)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`party_certs`](#secretflow.device.global_state.party_certs "secretflow.device.global_state.party_certs")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_party_key_pairs`](#secretflow.device.global_state.set_party_key_pairs "secretflow.device.global_state.set_party_key_pairs")(party\_key\_pairs)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`party_key_pairs`](#secretflow.device.global_state.party_key_pairs "secretflow.device.global_state.party_key_pairs")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_tee_simulation`](#secretflow.device.global_state.set_tee_simulation "secretflow.device.global_state.set_tee_simulation")(tee\_simulation)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`tee_simulation`](#secretflow.device.global_state.tee_simulation "secretflow.device.global_state.tee_simulation")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_auth_manager_host`](#secretflow.device.global_state.set_auth_manager_host "secretflow.device.global_state.set_auth_manager_host")(auth\_host)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`auth_manager_host`](#secretflow.device.global_state.auth_manager_host "secretflow.device.global_state.auth_manager_host")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_auth_manager_mr_enclave`](#secretflow.device.global_state.set_auth_manager_mr_enclave "secretflow.device.global_state.set_auth_manager_mr_enclave")(mr\_enclave)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`auth_manager_mr_enclave`](#secretflow.device.global_state.auth_manager_mr_enclave "secretflow.device.global_state.auth_manager_mr_enclave")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_auth_manager_ca_cert`](#secretflow.device.global_state.set_auth_manager_ca_cert "secretflow.device.global_state.set_auth_manager_ca_cert")(ca\_cert)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`auth_manager_ca_cert`](#secretflow.device.global_state.auth_manager_ca_cert "secretflow.device.global_state.auth_manager_ca_cert")()
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`PartyCert`](#secretflow.device.global_state.PartyCert "secretflow.device.global_state.PartyCert")(\[party\_name, key, cert, root\_ca\_cert])
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`PartyKeyPair`](#secretflow.device.global_state.PartyKeyPair "secretflow.device.global_state.PartyKeyPair")(\[party\_name, public\_key, ...])
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_self_party"} module={"secretflow.device.global_state"} fullname={"set_self_party"} parameters={["self_party"]}>
  <Outline.Signature fullname="set_self_party" id="secretflow.device.global_state.set_self_party">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_self\_party</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">self\_party</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.self_party"} module={"secretflow.device.global_state"} fullname={"self_party"} parameters={[]}>
  <Outline.Signature fullname="self_party" id="secretflow.device.global_state.self_party">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>self\_party</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.parties"} module={"secretflow.device.global_state"} fullname={"parties"} parameters={[]}>
  <Outline.Signature fullname="parties" id="secretflow.device.global_state.parties">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>parties</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_parties"} module={"secretflow.device.global_state"} fullname={"set_parties"} parameters={["parties"]}>
  <Outline.Signature fullname="set_parties" id="secretflow.device.global_state.set_parties">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_parties</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">parties</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.global_state.PartyCert"} module={"secretflow.device.global_state"} fullname={"PartyCert"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Bases: object"}>
  <Outline.Signature fullname="PartyCert" id="secretflow.device.global_state.PartyCert">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>PartyCert</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cert</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">root\_ca\_cert</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`object`](https://docs.python.org/3/library/functions.html#object "(in Python v3.12)")

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`party_name`](#secretflow.device.global_state.PartyCert.party_name "secretflow.device.global_state.PartyCert.party_name")
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`key`](#secretflow.device.global_state.PartyCert.key "secretflow.device.global_state.PartyCert.key")
          </td>

          <td>
            Server key in pem.
          </td>
        </tr>

        <tr>
          <td>
            [`cert`](#secretflow.device.global_state.PartyCert.cert "secretflow.device.global_state.PartyCert.cert")
          </td>

          <td>
            Server cert in pem.
          </td>
        </tr>

        <tr>
          <td>
            [`root_ca_cert`](#secretflow.device.global_state.PartyCert.root_ca_cert "secretflow.device.global_state.PartyCert.root_ca_cert")
          </td>

          <td>
            Root CA certifcate of clients.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.device.global_state.PartyCert.__init__ "secretflow.device.global_state.PartyCert.__init__")(\[party\_name, key, cert, root\_ca\_cert])
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyCert.party_name"} module={"secretflow.device.global_state"} fullname={"PartyCert.party_name"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Bases: object"}>
      <Outline.Signature fullname="PartyCert.party_name" id="secretflow.device.global_state.PartyCert.party_name">
        <Outline.Name>party\_name</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyCert.key"} module={"secretflow.device.global_state"} fullname={"PartyCert.key"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Server key in pem."}>
      <Outline.Signature fullname="PartyCert.key" id="secretflow.device.global_state.PartyCert.key">
        <Outline.Name>key</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content>
        Server key in pem.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyCert.cert"} module={"secretflow.device.global_state"} fullname={"PartyCert.cert"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Server cert in pem."}>
      <Outline.Signature fullname="PartyCert.cert" id="secretflow.device.global_state.PartyCert.cert">
        <Outline.Name>cert</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content>
        Server cert in pem.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyCert.root_ca_cert"} module={"secretflow.device.global_state"} fullname={"PartyCert.root_ca_cert"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Root CA certifcate of clients."}>
      <Outline.Signature fullname="PartyCert.root_ca_cert" id="secretflow.device.global_state.PartyCert.root_ca_cert">
        <Outline.Name>root\_ca\_cert</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content>
        Root CA certifcate of clients.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.global_state.PartyCert.__init__"} module={"secretflow.device.global_state"} fullname={"PartyCert.__init__"} parameters={["party_name", "key", "cert", "root_ca_cert"]} description={"Bases: object"}>
      <Outline.Signature fullname="PartyCert.__init__" id="secretflow.device.global_state.PartyCert.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">cert</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">root\_ca\_cert</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_party_certs"} module={"secretflow.device.global_state"} fullname={"set_party_certs"} parameters={["party_certs"]}>
  <Outline.Signature fullname="set_party_certs" id="secretflow.device.global_state.set_party_certs">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_party\_certs</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_certs</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[PartyCert](#secretflow.device.global_state.PartyCert "secretflow.device.global_state.PartyCert")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.party_certs"} module={"secretflow.device.global_state"} fullname={"party_certs"} parameters={[]}>
  <Outline.Signature fullname="party_certs" id="secretflow.device.global_state.party_certs">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>party\_certs</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[PartyCert](#secretflow.device.global_state.PartyCert "secretflow.device.global_state.PartyCert")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.global_state.PartyKeyPair"} module={"secretflow.device.global_state"} fullname={"PartyKeyPair"} parameters={["party_name", "public_key", "private_key"]} description={"Bases: object"}>
  <Outline.Signature fullname="PartyKeyPair" id="secretflow.device.global_state.PartyKeyPair">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>PartyKeyPair</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">public\_key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">private\_key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`object`](https://docs.python.org/3/library/functions.html#object "(in Python v3.12)")

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`party_name`](#secretflow.device.global_state.PartyKeyPair.party_name "secretflow.device.global_state.PartyKeyPair.party_name")
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`public_key`](#secretflow.device.global_state.PartyKeyPair.public_key "secretflow.device.global_state.PartyKeyPair.public_key")
          </td>

          <td>
            The RSA public key in pem.
          </td>
        </tr>

        <tr>
          <td>
            [`private_key`](#secretflow.device.global_state.PartyKeyPair.private_key "secretflow.device.global_state.PartyKeyPair.private_key")
          </td>

          <td>
            The RSA private key in pem.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.device.global_state.PartyKeyPair.__init__ "secretflow.device.global_state.PartyKeyPair.__init__")(\[party\_name, public\_key, private\_key])
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyKeyPair.party_name"} module={"secretflow.device.global_state"} fullname={"PartyKeyPair.party_name"} parameters={["party_name", "public_key", "private_key"]} description={"Bases: object"}>
      <Outline.Signature fullname="PartyKeyPair.party_name" id="secretflow.device.global_state.PartyKeyPair.party_name">
        <Outline.Name>party\_name</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyKeyPair.public_key"} module={"secretflow.device.global_state"} fullname={"PartyKeyPair.public_key"} parameters={["party_name", "public_key", "private_key"]} description={"The RSA public key in pem."}>
      <Outline.Signature fullname="PartyKeyPair.public_key" id="secretflow.device.global_state.PartyKeyPair.public_key">
        <Outline.Name>public\_key</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content>
        The RSA public key in pem.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="attribute" target={"secretflow.device.global_state.PartyKeyPair.private_key"} module={"secretflow.device.global_state"} fullname={"PartyKeyPair.private_key"} parameters={["party_name", "public_key", "private_key"]} description={"The RSA private key in pem."}>
      <Outline.Signature fullname="PartyKeyPair.private_key" id="secretflow.device.global_state.PartyKeyPair.private_key">
        <Outline.Name>private\_key</Outline.Name><Outline.Keyword><span>:</span><span>{" "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.Keyword><Outline.Keyword><span>{" "}</span><span>=</span><span>{" "}</span>None</Outline.Keyword>
      </Outline.Signature>

      <Outline.Content>
        The RSA private key in pem.
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.global_state.PartyKeyPair.__init__"} module={"secretflow.device.global_state"} fullname={"PartyKeyPair.__init__"} parameters={["party_name", "public_key", "private_key"]} description={"Bases: object"}>
      <Outline.Signature fullname="PartyKeyPair.__init__" id="secretflow.device.global_state.PartyKeyPair.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">public\_key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">private\_key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_party_key_pairs"} module={"secretflow.device.global_state"} fullname={"set_party_key_pairs"} parameters={["party_key_pairs"]}>
  <Outline.Signature fullname="set_party_key_pairs" id="secretflow.device.global_state.set_party_key_pairs">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_party\_key\_pairs</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">party\_key\_pairs</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[PartyKeyPair](#secretflow.device.global_state.PartyKeyPair "secretflow.device.global_state.PartyKeyPair")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.party_key_pairs"} module={"secretflow.device.global_state"} fullname={"party_key_pairs"} parameters={[]}>
  <Outline.Signature fullname="party_key_pairs" id="secretflow.device.global_state.party_key_pairs">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>party\_key\_pairs</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[PartyKeyPair](#secretflow.device.global_state.PartyKeyPair "secretflow.device.global_state.PartyKeyPair")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_tee_simulation"} module={"secretflow.device.global_state"} fullname={"set_tee_simulation"} parameters={["tee_simulation"]}>
  <Outline.Signature fullname="set_tee_simulation" id="secretflow.device.global_state.set_tee_simulation">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_tee\_simulation</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">tee\_simulation</span><span>:</span><span>{" "}</span><span className="name">[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.tee_simulation"} module={"secretflow.device.global_state"} fullname={"tee_simulation"} parameters={[]}>
  <Outline.Signature fullname="tee_simulation" id="secretflow.device.global_state.tee_simulation">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>tee\_simulation</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_auth_manager_host"} module={"secretflow.device.global_state"} fullname={"set_auth_manager_host"} parameters={["auth_host"]}>
  <Outline.Signature fullname="set_auth_manager_host" id="secretflow.device.global_state.set_auth_manager_host">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_auth\_manager\_host</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">auth\_host</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.auth_manager_host"} module={"secretflow.device.global_state"} fullname={"auth_manager_host"} parameters={[]}>
  <Outline.Signature fullname="auth_manager_host" id="secretflow.device.global_state.auth_manager_host">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>auth\_manager\_host</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_auth_manager_mr_enclave"} module={"secretflow.device.global_state"} fullname={"set_auth_manager_mr_enclave"} parameters={["mr_enclave"]}>
  <Outline.Signature fullname="set_auth_manager_mr_enclave" id="secretflow.device.global_state.set_auth_manager_mr_enclave">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_auth\_manager\_mr\_enclave</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">mr\_enclave</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.auth_manager_mr_enclave"} module={"secretflow.device.global_state"} fullname={"auth_manager_mr_enclave"} parameters={[]}>
  <Outline.Signature fullname="auth_manager_mr_enclave" id="secretflow.device.global_state.auth_manager_mr_enclave">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>auth\_manager\_mr\_enclave</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.set_auth_manager_ca_cert"} module={"secretflow.device.global_state"} fullname={"set_auth_manager_ca_cert"} parameters={["ca_cert"]}>
  <Outline.Signature fullname="set_auth_manager_ca_cert" id="secretflow.device.global_state.set_auth_manager_ca_cert">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>set\_auth\_manager\_ca\_cert</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">ca\_cert</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.global_state.auth_manager_ca_cert"} module={"secretflow.device.global_state"} fullname={"auth_manager_ca_cert"} parameters={[]}>
  <Outline.Signature fullname="auth_manager_ca_cert" id="secretflow.device.global_state.auth_manager_ca_cert">
    <Outline.Prefix>secretflow\.device.global\_state.</Outline.Prefix><Outline.Name>auth\_manager\_ca\_cert</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.device.link"}

## secretflow\.device.link module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`get_role`](#secretflow.device.link.get_role "secretflow.device.link.get_role")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`get_device`](#secretflow.device.link.get_device "secretflow.device.link.get_device")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`set_mesh`](#secretflow.device.link.set_mesh "secretflow.device.link.set_mesh")(link)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`send_to_clients`](#secretflow.device.link.send_to_clients "secretflow.device.link.send_to_clients")(name, value, version)
      </td>

      <td>
        Send message to the target device.
      </td>
    </tr>

    <tr>
      <td>
        [`send_to_server`](#secretflow.device.link.send_to_server "secretflow.device.link.send_to_server")(name, value, version)
      </td>

      <td>
        Send message to the target device.
      </td>
    </tr>

    <tr>
      <td>
        [`recv_from_clients`](#secretflow.device.link.recv_from_clients "secretflow.device.link.recv_from_clients")(name, version)
      </td>

      <td>
        Receive messages from the source device.
      </td>
    </tr>

    <tr>
      <td>
        [`recv_from_server`](#secretflow.device.link.recv_from_server "secretflow.device.link.recv_from_server")(name, version)
      </td>

      <td>
        Receive messages from the source device.
      </td>
    </tr>

    <tr>
      <td>
        [`init_link`](#secretflow.device.link.init_link "secretflow.device.link.init_link")(link, partners)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<strong>Classes:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`Communicator`](#secretflow.device.link.Communicator "secretflow.device.link.Communicator")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`FedCommunicator`](#secretflow.device.link.FedCommunicator "secretflow.device.link.FedCommunicator")(partners)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`RayCommunicator`](#secretflow.device.link.RayCommunicator "secretflow.device.link.RayCommunicator")()
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`Link`](#secretflow.device.link.Link "secretflow.device.link.Link")(device\[, key\_prefix])
      </td>

      <td>
        A helper class for communication inside actor between several actors.
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.device.link.get_role"} module={"secretflow.device.link"} fullname={"get_role"} parameters={[]}>
  <Outline.Signature fullname="get_role" id="secretflow.device.link.get_role">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>get\_role</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.get_device"} module={"secretflow.device.link"} fullname={"get_device"} parameters={[]}>
  <Outline.Signature fullname="get_device" id="secretflow.device.link.get_device">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>get\_device</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.set_mesh"} module={"secretflow.device.link"} fullname={"set_mesh"} parameters={["link"]}>
  <Outline.Signature fullname="set_mesh" id="secretflow.device.link.set_mesh">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>set\_mesh</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">link</span><span>:</span><span>{" "}</span><span className="name">[Link](#secretflow.device.link.Link "secretflow.device.link.Link")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.send_to_clients"} module={"secretflow.device.link"} fullname={"send_to_clients"} parameters={["name", "value", "version"]} description={"this function is non-blocking."}>
  <Outline.Signature fullname="send_to_clients" id="secretflow.device.link.send_to_clients">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>send\_to\_clients</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">version</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    <DefinitionList>
      <dl>
        <dt>
          <DefinitionList.Term><span>Send message to the target device.</span></DefinitionList.Term>
        </dt>

        <dd>
          this function is non-blocking.
        </dd>
      </dl>
    </DefinitionList>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>name</Outline.ParameterTarget> – message name
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> – message value
          - <Outline.ParameterTarget>version</Outline.ParameterTarget> – message version, used to distinguish between different training rounds
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.send_to_server"} module={"secretflow.device.link"} fullname={"send_to_server"} parameters={["name", "value", "version"]} description={"this function is non-blocking."}>
  <Outline.Signature fullname="send_to_server" id="secretflow.device.link.send_to_server">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>send\_to\_server</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span></Outline.Parameter>, <Outline.Parameter><span className="name">version</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    <DefinitionList>
      <dl>
        <dt>
          <DefinitionList.Term><span>Send message to the target device.</span></DefinitionList.Term>
        </dt>

        <dd>
          this function is non-blocking.
        </dd>
      </dl>
    </DefinitionList>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>name</Outline.ParameterTarget> – message name
          - <Outline.ParameterTarget>value</Outline.ParameterTarget> – message value
          - <Outline.ParameterTarget>version</Outline.ParameterTarget> – message version, used to distinguish between different training rounds
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.recv_from_clients"} module={"secretflow.device.link"} fullname={"recv_from_clients"} parameters={["name", "version"]} description={"this function is blocking"}>
  <Outline.Signature fullname="recv_from_clients" id="secretflow.device.link.recv_from_clients">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>recv\_from\_clients</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span></Outline.Parameter>, <Outline.Parameter><span className="name">version</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    <DefinitionList>
      <dl>
        <dt>
          <DefinitionList.Term><span>Receive messages from the source device.</span></DefinitionList.Term>
        </dt>

        <dd>
          this function is blocking
        </dd>
      </dl>
    </DefinitionList>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>name</Outline.ParameterTarget> – message name
          - <Outline.ParameterTarget>version</Outline.ParameterTarget> – TODO: What is the purpose of the version parameter?
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          The received message
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.recv_from_server"} module={"secretflow.device.link"} fullname={"recv_from_server"} parameters={["name", "version"]} description={"this function is blocking"}>
  <Outline.Signature fullname="recv_from_server" id="secretflow.device.link.recv_from_server">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>recv\_from\_server</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span></Outline.Parameter>, <Outline.Parameter><span className="name">version</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    <DefinitionList>
      <dl>
        <dt>
          <DefinitionList.Term><span>Receive messages from the source device.</span></DefinitionList.Term>
        </dt>

        <dd>
          this function is blocking
        </dd>
      </dl>
    </DefinitionList>

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>name</Outline.ParameterTarget> – message name
          - <Outline.ParameterTarget>version</Outline.ParameterTarget> – message version, used to distinguish between different training rounds
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          The received message
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.link.Communicator"} module={"secretflow.device.link"} fullname={"Communicator"} description={"Bases: ABC"}>
  <Outline.Signature fullname="Communicator" id="secretflow.device.link.Communicator">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>Communicator</Outline.Name>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`ABC`](https://docs.python.org/3/library/abc.html#abc.ABC "(in Python v3.12)")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`send`](#secretflow.device.link.Communicator.send "secretflow.device.link.Communicator.send")(data, key)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`recv`](#secretflow.device.link.Communicator.recv "secretflow.device.link.Communicator.recv")(keys)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Communicator.send"} module={"secretflow.device.link"} fullname={"Communicator.send"} description={"Bases: ABC"} parameters={["data", "key"]}>
      <Outline.Signature fullname="Communicator.send" id="secretflow.device.link.Communicator.send">
        <Outline.Keyword>abstract<span>{" "}</span></Outline.Keyword><Outline.Name>send</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Communicator.recv"} module={"secretflow.device.link"} fullname={"Communicator.recv"} description={"Bases: ABC"} parameters={["keys"]}>
      <Outline.Signature fullname="Communicator.recv" id="secretflow.device.link.Communicator.recv">
        <Outline.Keyword>abstract<span>{" "}</span></Outline.Keyword><Outline.Name>recv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">keys</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.link.FedCommunicator"} module={"secretflow.device.link"} fullname={"FedCommunicator"} parameters={["partners"]} description={"Bases: Communicator"}>
  <Outline.Signature fullname="FedCommunicator" id="secretflow.device.link.FedCommunicator">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>FedCommunicator</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">partners</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`Communicator`](#secretflow.device.link.Communicator "secretflow.device.link.Communicator")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.device.link.FedCommunicator.__init__ "secretflow.device.link.FedCommunicator.__init__")(partners)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`send`](#secretflow.device.link.FedCommunicator.send "secretflow.device.link.FedCommunicator.send")(dest, data, key)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`recv`](#secretflow.device.link.FedCommunicator.recv "secretflow.device.link.FedCommunicator.recv")(src, keys)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.FedCommunicator.__init__"} module={"secretflow.device.link"} fullname={"FedCommunicator.__init__"} parameters={["partners"]} description={"Bases: Communicator"}>
      <Outline.Signature fullname="FedCommunicator.__init__" id="secretflow.device.link.FedCommunicator.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">partners</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.FedCommunicator.send"} module={"secretflow.device.link"} fullname={"FedCommunicator.send"} parameters={["dest", "data", "key"]} description={"Bases: Communicator"}>
      <Outline.Signature fullname="FedCommunicator.send" id="secretflow.device.link.FedCommunicator.send">
        <Outline.Name>send</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">dest</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.FedCommunicator.recv"} module={"secretflow.device.link"} fullname={"FedCommunicator.recv"} parameters={["src", "keys"]} description={"Bases: Communicator"}>
      <Outline.Signature fullname="FedCommunicator.recv" id="secretflow.device.link.FedCommunicator.recv">
        <Outline.Name>recv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">src</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">keys</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.link.RayCommunicator"} module={"secretflow.device.link"} fullname={"RayCommunicator"} description={"Bases: Communicator"}>
  <Outline.Signature fullname="RayCommunicator" id="secretflow.device.link.RayCommunicator">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>RayCommunicator</Outline.Name>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`Communicator`](#secretflow.device.link.Communicator "secretflow.device.link.Communicator")

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.device.link.RayCommunicator.__init__ "secretflow.device.link.RayCommunicator.__init__")()
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`links`](#secretflow.device.link.RayCommunicator.links "secretflow.device.link.RayCommunicator.links")(links)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`send`](#secretflow.device.link.RayCommunicator.send "secretflow.device.link.RayCommunicator.send")(dest, data, key)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`recv`](#secretflow.device.link.RayCommunicator.recv "secretflow.device.link.RayCommunicator.recv")(src, keys)
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.RayCommunicator.__init__"} module={"secretflow.device.link"} fullname={"RayCommunicator.__init__"} description={"Bases: Communicator"} parameters={[]}>
      <Outline.Signature fullname="RayCommunicator.__init__" id="secretflow.device.link.RayCommunicator.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.RayCommunicator.links"} module={"secretflow.device.link"} fullname={"RayCommunicator.links"} description={"Bases: Communicator"} parameters={["links"]}>
      <Outline.Signature fullname="RayCommunicator.links" id="secretflow.device.link.RayCommunicator.links">
        <Outline.Name>links</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">links</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>,</span><span>{" "}</span>ActorHandle<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.RayCommunicator.send"} module={"secretflow.device.link"} fullname={"RayCommunicator.send"} description={"Bases: Communicator"} parameters={["dest", "data", "key"]}>
      <Outline.Signature fullname="RayCommunicator.send" id="secretflow.device.link.RayCommunicator.send">
        <Outline.Name>send</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">dest</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">data</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">key</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.RayCommunicator.recv"} module={"secretflow.device.link"} fullname={"RayCommunicator.recv"} description={"Bases: Communicator"} parameters={["src", "keys"]}>
      <Outline.Signature fullname="RayCommunicator.recv" id="secretflow.device.link.RayCommunicator.recv">
        <Outline.Name>recv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">src</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">keys</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="class" target={"secretflow.device.link.Link"} module={"secretflow.device.link"} fullname={"Link"} parameters={["device", "key_prefix"]} description={"Bases: object"}>
  <Outline.Signature fullname="Link" id="secretflow.device.link.Link">
    <Outline.Keyword>class<span>{" "}</span></Outline.Keyword><Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>Link</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">key\_prefix</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>''</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Bases: [`object`](https://docs.python.org/3/library/functions.html#object "(in Python v3.12)")

    A helper class for communication inside actor between several actors.

    You should not use this class directly but inherit it and decorate your
    child class with [`proxy()`](#module-secretflow.device.proxy "secretflow.device.proxy").

    <p className="sidebar-rubric">
      Examples
    </p>

    ```python
    >>> from secretflow.device import proxy
    >>> from seceretflow.device.link import Link, init_link
    >>>
    >>> @proxy
    >>> class PS(Link):
    >>>    def run(self):
    >>>        pass
    >>>
    >>>
    >>> @proxy
    >>> class Client(Link):
    >>>    def run(self):
    >>>        pass
    >>>
    >>> ps = PS()
    >>> clients = [Client() for i in range(2)]
    >>> init_link(ps, clients)
    >>> for client in clients:
    >>>     init_link(client, ps)
    >>>
    ```

    <strong>Methods:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`__init__`](#secretflow.device.link.Link.__init__ "secretflow.device.link.Link.__init__")(device\[, key\_prefix])
          </td>

          <td>
            Initialize
          </td>
        </tr>

        <tr>
          <td>
            [`initialize`](#secretflow.device.link.Link.initialize "secretflow.device.link.Link.initialize")(comm\_or\_links)
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`send`](#secretflow.device.link.Link.send "secretflow.device.link.Link.send")(name, value, dst\_device\[, step\_id])
          </td>

          <td>
            Send message to target device.
          </td>
        </tr>

        <tr>
          <td>
            [`recv`](#secretflow.device.link.Link.recv "secretflow.device.link.Link.recv")(name, src\_device\[, step\_id])
          </td>

          <td>
            Receive messages from the source device.
          </td>
        </tr>
      </tbody>
    </table>

    <strong>Attributes:</strong>

    <table>
      <tbody>
        <tr>
          <td>
            [`clients`](#secretflow.device.link.Link.clients "secretflow.device.link.Link.clients")
          </td>

          <td>

          </td>
        </tr>

        <tr>
          <td>
            [`server`](#secretflow.device.link.Link.server "secretflow.device.link.Link.server")
          </td>

          <td>

          </td>
        </tr>
      </tbody>
    </table>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Link.__init__"} module={"secretflow.device.link"} fullname={"Link.__init__"} parameters={["device", "key_prefix"]} description={"Initialize"}>
      <Outline.Signature fullname="Link.__init__" id="secretflow.device.link.Link.__init__">
        <Outline.Name>\_\_init\_\_</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")</span></Outline.Parameter>, <Outline.Parameter><span className="name">key\_prefix</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>''</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        Initialize

        <FieldList>
          <dl>
            <dt className="field-name">
              Parameters
            </dt>

            <dd className="field-body">
              <Outline.ParameterTarget>device</Outline.ParameterTarget> – where this Link instance located, PYU
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Link.initialize"} module={"secretflow.device.link"} fullname={"Link.initialize"} parameters={["comm_or_links"]} description={"Bases: object"}>
      <Outline.Signature fullname="Link.initialize" id="secretflow.device.link.Link.initialize">
        <Outline.Name>initialize</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">comm\_or\_links</span><span>:</span><span>{" "}</span><span className="name">[Communicator](#secretflow.device.link.Communicator "secretflow.device.link.Communicator")<span>{" "}</span><span>|</span><span>{" "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>,</span><span>{" "}</span>ActorHandle<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="property" target={"secretflow.device.link.Link.clients"} module={"secretflow.device.link"} fullname={"Link.clients"} parameters={["device", "key_prefix"]} description={"Bases: object"}>
      <Outline.Signature fullname="Link.clients" id="secretflow.device.link.Link.clients">
        <Outline.Keyword>property<span>{" "}</span></Outline.Keyword><Outline.Name>clients</Outline.Name>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="property" target={"secretflow.device.link.Link.server"} module={"secretflow.device.link"} fullname={"Link.server"} parameters={["device", "key_prefix"]} description={"Bases: object"}>
      <Outline.Signature fullname="Link.server" id="secretflow.device.link.Link.server">
        <Outline.Keyword>property<span>{" "}</span></Outline.Keyword><Outline.Name>server</Outline.Name>
      </Outline.Signature>

      <Outline.Content />
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Link.send"} module={"secretflow.device.link"} fullname={"Link.send"} parameters={["name", "value", "dst_device", "step_id"]} description={"this function is non-blocking"}>
      <Outline.Signature fullname="Link.send" id="secretflow.device.link.Link.send">
        <Outline.Name>send</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">value</span><span>:</span><span>{" "}</span><span className="name">[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">dst\_device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">step\_id</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>0</span></Outline.Parameter><span>)</span></Outline.ParameterList>
      </Outline.Signature>

      <Outline.Content>
        <DefinitionList>
          <dl>
            <dt>
              <DefinitionList.Term><span>Send message to target device.</span></DefinitionList.Term>
            </dt>

            <dd>
              this function is non-blocking
            </dd>
          </dl>
        </DefinitionList>

        <FieldList>
          <dl>
            <dt className="field-name">
              Parameters
            </dt>

            <dd className="field-body">
              - <Outline.ParameterTarget>name</Outline.ParameterTarget> – message name
              - <Outline.ParameterTarget>value</Outline.ParameterTarget> – message value
              - <Outline.ParameterTarget>dst\_device</Outline.ParameterTarget> – target device(s), can be a single device or a list of devices
              - <Outline.ParameterTarget>step\_id</Outline.ParameterTarget> – A process-level unique identifier to identify the communication
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>

    <Outline domain="py" objectType="method" target={"secretflow.device.link.Link.recv"} module={"secretflow.device.link"} fullname={"Link.recv"} parameters={["name", "src_device", "step_id"]} description={"this function is blocking"}>
      <Outline.Signature fullname="Link.recv" id="secretflow.device.link.Link.recv">
        <Outline.Name>recv</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">src\_device</span><span>:</span><span>{" "}</span><span className="name">[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>{" "}</span><span>|</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYU](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYU "secretflow.device.device.pyu.PYU")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">step\_id</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>0</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Any](https://docs.python.org/3/library/typing.html#typing.Any "(in Python v3.12)")</Outline.ReturnType>
      </Outline.Signature>

      <Outline.Content>
        <DefinitionList>
          <dl>
            <dt>
              <DefinitionList.Term><span>Receive messages from the source device.</span></DefinitionList.Term>
            </dt>

            <dd>
              this function is blocking
            </dd>
          </dl>
        </DefinitionList>

        <FieldList>
          <dl>
            <dt className="field-name">
              Parameters
            </dt>

            <dd className="field-body">
              - <Outline.ParameterTarget>name</Outline.ParameterTarget> – The message name
              - <Outline.ParameterTarget>src\_device</Outline.ParameterTarget> – source device(s), can be a single device or a list of devices
              - <Outline.ParameterTarget>step\_id</Outline.ParameterTarget> – A process-level unique identifier to identify the communication
            </dd>

            <dt className="field-name">
              Returns
            </dt>

            <dd className="field-body">
              The received message
            </dd>
          </dl>
        </FieldList>
      </Outline.Content>
    </Outline>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.device.link.init_link"} module={"secretflow.device.link"} fullname={"init_link"} parameters={["link", "partners"]}>
  <Outline.Signature fullname="init_link" id="secretflow.device.link.init_link">
    <Outline.Prefix>secretflow\.device.link.</Outline.Prefix><Outline.Name>init\_link</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">link</span><span>:</span><span>{" "}</span><span className="name">[Link](#secretflow.device.link.Link "secretflow.device.link.Link")</span></Outline.Parameter>, <Outline.Parameter><span className="name">partners</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[Link](#secretflow.device.link.Link "secretflow.device.link.Link")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.device.proxy"}

## secretflow\.device.proxy module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`proxy`](#secretflow.device.proxy.proxy "secretflow.device.proxy.proxy")(device\_object\_type\[, max\_concurrency, ...])
      </td>

      <td>
        Define a device class which should accept DeviceObject as method parameters and return DeviceObject.
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.device.proxy.proxy"} module={"secretflow.device.proxy"} fullname={"proxy"} parameters={["device_object_type", "max_concurrency", "_simulation_max_concurrency", "num_gpus"]} description={"Define a device class which should accept DeviceObject as method parameters and return DeviceObject."}>
  <Outline.Signature fullname="proxy" id="secretflow.device.proxy.proxy">
    <Outline.Prefix>secretflow\.device.proxy.</Outline.Prefix><Outline.Name>proxy</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">device\_object\_type</span><span>:</span><span>{" "}</span><span className="name">[Type](https://docs.python.org/3/library/typing.html#typing.Type "(in Python v3.12)")<span>\[</span>[DeviceObject](secretflow.device.device.device.mdx#secretflow.device.device.base.DeviceObject "secretflow.device.device.base.DeviceObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">max\_concurrency</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">\_simulation\_max\_concurrency</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")<span>{" "}</span><span>|</span><span>{" "}</span>[None](https://docs.python.org/3/library/constants.html#None "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>None</span></Outline.Parameter>, <Outline.Parameter><span className="name">num\_gpus</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span><span>{" "}</span><span>=</span><span>{" "}</span><span>0</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content>
    Define a device class which should accept DeviceObject as method parameters and return DeviceObject.

    This proxy function mainly does the following work:
    1\. Add an additional parameter <cite>device: Device</cite> to init method <cite>\_\_init\_\_</cite>.
    2\. Wrap class methods, allow passing DeviceObject as parameters, which
    must be on the same device as the class instance.
    3\. According to the <cite>return annotation</cite> of class methods, return the
    corresponding number of DeviceObject.

    ```python
    @proxy(PYUObject)
    class Model:
        def __init__(self, builder):
            self.weights = builder()

        def build_dataset(self, x, y):
            self.dataset_x = x
            self.dataset_y = y

        def get_weights(self) -> np.ndarray:
            return self.weights

        def train_step(self, step) -> Tuple[np.ndarray, int]:
            return self.weights, 100

    alice = PYU('alice')
    model = Model(builder, device=alice)
    x, y = alice(load_data)()
    model.build_dataset(x, y)
    w = model.get_weights()
    w, n = model.train_step(10)
    ```

    <FieldList>
      <dl>
        <dt className="field-name">
          Parameters
        </dt>

        <dd className="field-body">
          - <Outline.ParameterTarget>device\_object\_type</Outline.ParameterTarget> (<em>Type</em><em>\[</em>[<em>DeviceObject</em>](secretflow.mdx#secretflow.DeviceObject "secretflow.DeviceObject")<em>]</em>) – DeviceObject type, eg. PYUObject.
          - <Outline.ParameterTarget>max\_concurrency</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")) – Actor threadpool size.
          - <Outline.ParameterTarget>\_simulation\_max\_concurrencty</Outline.ParameterTarget> ([<em>int</em>](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")) – Actor threadpool size only for
            simulation (single controller mode). This argument takes effect only
            when max\_concurrency is None.
          - <Outline.ParameterTarget>num\_gpus</Outline.ParameterTarget> – The number of GPUs to use for training. Default is 0
        </dd>

        <dt className="field-name">
          Returns
        </dt>

        <dd className="field-body">
          Wrapper function.
        </dd>

        <dt className="field-name">
          Return type
        </dt>

        <dd className="field-body">
          Callable
        </dd>
      </dl>
    </FieldList>
  </Outline.Content>
</Outline>

:target{id="module-secretflow.device"}

## Module contents
