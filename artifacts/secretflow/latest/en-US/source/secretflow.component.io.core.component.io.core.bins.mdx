---
git_download_url: https://github.com/secretflow/secretflow/raw/f2c46f98224a42f29bca20751a569bbfac39f750/docs/source/secretflow.component.io.core.bins.rst
git_last_modified_commit: null
git_last_modified_time: null
git_origin_url: https://github.com/secretflow/secretflow/blob/f2c46f98224a42f29bca20751a569bbfac39f750/docs/source/secretflow.component.io.core.bins.rst
git_owner: secretflow
git_repo: secretflow
git_revision_commit: f2c46f98224a42f29bca20751a569bbfac39f750
git_revision_time: '2024-01-03T19:41:12+08:00'
---

:target{#secretflow-component-io-core-bins-package}

# secretflow\.component.io.core.bins package

:target{#submodules}

## Submodules

:target{id="module-secretflow.component.io.core.bins.bin_utils"}

## <Target id="secretflow-component-io-core-bins-bin-utils-module" />secretflow\.component.io.core.bins.bin\_utils module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`check_rule_dict_is_from_woe_label_holder`](#secretflow.component.io.core.bins.bin_utils.check_rule_dict_is_from_woe_label_holder "secretflow.component.io.core.bins.bin_utils.check_rule_dict_is_from_woe_label_holder")(rule)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`get_bin_label_holder_index`](#secretflow.component.io.core.bins.bin_utils.get_bin_label_holder_index "secretflow.component.io.core.bins.bin_utils.get_bin_label_holder_index")(rules)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`check_bin_rule_is_woe`](#secretflow.component.io.core.bins.bin_utils.check_bin_rule_is_woe "secretflow.component.io.core.bins.bin_utils.check_bin_rule_is_woe")(index)
      </td>

      <td>
        check if a bin rule model is woe rule or normal bin rule
      </td>
    </tr>

    <tr>
      <td>
        [`feature_iv_list_to_dict`](#secretflow.component.io.core.bins.bin_utils.feature_iv_list_to_dict "secretflow.component.io.core.bins.bin_utils.feature_iv_list_to_dict")(feature\_iv\_list)
      </td>

      <td>
        convert feature iv list to dict
      </td>
    </tr>

    <tr>
      <td>
        [`get_feature_iv_dict`](#secretflow.component.io.core.bins.bin_utils.get_feature_iv_dict "secretflow.component.io.core.bins.bin_utils.get_feature_iv_dict")(label\_holder\_rule)
      </td>

      <td>
        get feature iv dict from label holder rule
      </td>
    </tr>

    <tr>
      <td>
        [`get_index_feature_name_from_variable_list`](#secretflow.component.io.core.bins.bin_utils.get_index_feature_name_from_variable_list "secretflow.component.io.core.bins.bin_utils.get_index_feature_name_from_variable_list")(...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`get_party_features`](#secretflow.component.io.core.bins.bin_utils.get_party_features "secretflow.component.io.core.bins.bin_utils.get_party_features")(rules)
      </td>

      <td>
        get party features from rules
      </td>
    </tr>

    <tr>
      <td>
        [`pad_inf_to_split_points`](#secretflow.component.io.core.bins.bin_utils.pad_inf_to_split_points "secretflow.component.io.core.bins.bin_utils.pad_inf_to_split_points")(split\_points)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`strip_inf_from_split_points`](#secretflow.component.io.core.bins.bin_utils.strip_inf_from_split_points "secretflow.component.io.core.bins.bin_utils.strip_inf_from_split_points")(split\_points)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.check_rule_dict_is_from_woe_label_holder"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"check_rule_dict_is_from_woe_label_holder"} parameters={["rule"]}>
  <Outline.Signature fullname="check_rule_dict_is_from_woe_label_holder" id="secretflow.component.io.core.bins.bin_utils.check_rule_dict_is_from_woe_label_holder">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>check\_rule\_dict\_is\_from\_woe\_label\_holder</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rule</span><span>:</span><span>{" "}</span><span className="name">[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.get_bin_label_holder_index"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"get_bin_label_holder_index"} parameters={["rules"]}>
  <Outline.Signature fullname="get_bin_label_holder_index" id="secretflow.component.io.core.bins.bin_utils.get_bin_label_holder_index">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>get\_bin\_label\_holder\_index</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.check_bin_rule_is_woe"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"check_bin_rule_is_woe"} parameters={["index"]} description={"check if a bin rule model is woe rule or normal bin rule"}>
  <Outline.Signature fullname="check_bin_rule_is_woe" id="secretflow.component.io.core.bins.bin_utils.check_bin_rule_is_woe">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>check\_bin\_rule\_is\_woe</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">index</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[bool](https://docs.python.org/3/library/functions.html#bool "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    check if a bin rule model is woe rule or normal bin rule
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.feature_iv_list_to_dict"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"feature_iv_list_to_dict"} parameters={["feature_iv_list"]} description={"convert feature iv list to dict"}>
  <Outline.Signature fullname="feature_iv_list_to_dict" id="secretflow.component.io.core.bins.bin_utils.feature_iv_list_to_dict">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>feature\_iv\_list\_to\_dict</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature\_iv\_list</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    convert feature iv list to dict
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.get_feature_iv_dict"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"get_feature_iv_dict"} parameters={["label_holder_rule"]} description={"get feature iv dict from label holder rule"}>
  <Outline.Signature fullname="get_feature_iv_dict" id="secretflow.component.io.core.bins.bin_utils.get_feature_iv_dict">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>get\_feature\_iv\_dict</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">label\_holder\_rule</span><span>:</span><span>{" "}</span><span className="name">[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    get feature iv dict from label holder rule
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.get_index_feature_name_from_variable_list"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"get_index_feature_name_from_variable_list"} parameters={["variable_list", "feature_name"]}>
  <Outline.Signature fullname="get_index_feature_name_from_variable_list" id="secretflow.component.io.core.bins.bin_utils.get_index_feature_name_from_variable_list">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>get\_index\_feature\_name\_from\_variable\_list</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">variable\_list</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[VariableBins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.VariableBins "secretflow.spec.extend.bin_data_pb2.VariableBins")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">feature\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.get_party_features"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"get_party_features"} parameters={["rules"]} description={"get party features from rules"}>
  <Outline.Signature fullname="get_party_features" id="secretflow.component.io.core.bins.bin_utils.get_party_features">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>get\_party\_features</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span><span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    get party features from rules
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.pad_inf_to_split_points"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"pad_inf_to_split_points"} parameters={["split_points"]}>
  <Outline.Signature fullname="pad_inf_to_split_points" id="secretflow.component.io.core.bins.bin_utils.pad_inf_to_split_points">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>pad\_inf\_to\_split\_points</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">split\_points</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bin_utils.strip_inf_from_split_points"} module={"secretflow.component.io.core.bins.bin_utils"} fullname={"strip_inf_from_split_points"} parameters={["split_points"]}>
  <Outline.Signature fullname="strip_inf_from_split_points" id="secretflow.component.io.core.bins.bin_utils.strip_inf_from_split_points">
    <Outline.Prefix>secretflow\.component.io.core.bins.bin\_utils.</Outline.Prefix><Outline.Name>strip\_inf\_from\_split\_points</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">split\_points</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.component.io.core.bins.bins"}

## <Target id="secretflow-component-io-core-bins-bins-module" />secretflow\.component.io.core.bins.bins module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`bin_rule_to_pb`](#secretflow.component.io.core.bins.bins.bin_rule_to_pb "secretflow.component.io.core.bins.bins.bin_rule_to_pb")(rules, public\_info)
      </td>

      <td>
        Convert part of the public info in rules to Bins pb
      </td>
    </tr>

    <tr>
      <td>
        [`bin_rule_from_pb_and_old_rule`](#secretflow.component.io.core.bins.bins.bin_rule_from_pb_and_old_rule "secretflow.component.io.core.bins.bins.bin_rule_from_pb_and_old_rule")(rules, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`check_bin_rule_pb_valid`](#secretflow.component.io.core.bins.bins.check_bin_rule_pb_valid "secretflow.component.io.core.bins.bins.check_bin_rule_pb_valid")(public\_info, bins)
      </td>

      <td>

      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bins.bin_rule_to_pb"} module={"secretflow.component.io.core.bins.bins"} fullname={"bin_rule_to_pb"} parameters={["rules", "public_info"]} description={"Convert part of the public info in rules to Bins pb"}>
  <Outline.Signature fullname="bin_rule_to_pb" id="secretflow.component.io.core.bins.bins.bin_rule_to_pb">
    <Outline.Prefix>secretflow\.component.io.core.bins.bins.</Outline.Prefix><Outline.Name>bin\_rule\_to\_pb</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">public\_info</span><span>:</span><span>{" "}</span><span className="name">[dict](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Convert part of the public info in rules to Bins pb
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bins.bin_rule_from_pb_and_old_rule"} module={"secretflow.component.io.core.bins.bins"} fullname={"bin_rule_from_pb_and_old_rule"} parameters={["rules", "public_info", "bins"]}>
  <Outline.Signature fullname="bin_rule_from_pb_and_old_rule" id="secretflow.component.io.core.bins.bins.bin_rule_from_pb_and_old_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.bins.</Outline.Prefix><Outline.Name>bin\_rule\_from\_pb\_and\_old\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">public\_info</span><span>:</span><span>{" "}</span><span className="name">[dict](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bins</span><span>:</span><span>{" "}</span><span className="name">[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.bins.check_bin_rule_pb_valid"} module={"secretflow.component.io.core.bins.bins"} fullname={"check_bin_rule_pb_valid"} parameters={["public_info", "bins"]}>
  <Outline.Signature fullname="check_bin_rule_pb_valid" id="secretflow.component.io.core.bins.bins.check_bin_rule_pb_valid">
    <Outline.Prefix>secretflow\.component.io.core.bins.bins.</Outline.Prefix><Outline.Name>check\_bin\_rule\_pb\_valid</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">public\_info</span><span>:</span><span>{" "}</span><span className="name">[dict](https://docs.python.org/3/library/stdtypes.html#dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bins</span><span>:</span><span>{" "}</span><span className="name">[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

:target{id="module-secretflow.component.io.core.bins.vert_bins"}

## <Target id="secretflow-component-io-core-bins-vert-bins-module" />secretflow\.component.io.core.bins.vert\_bins module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`normal_feature_to_pb`](#secretflow.component.io.core.bins.vert_bins.normal_feature_to_pb "secretflow.component.io.core.bins.vert_bins.normal_feature_to_pb")(feature, party\_name)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`normal_bin_rule_to_pb`](#secretflow.component.io.core.bins.vert_bins.normal_bin_rule_to_pb "secretflow.component.io.core.bins.vert_bins.normal_bin_rule_to_pb")(rules)
      </td>

      <td>
        convert a normal bin rule into pb
      </td>
    </tr>

    <tr>
      <td>
        [`feature_modify_normal_bin_rule`](#secretflow.component.io.core.bins.vert_bins.feature_modify_normal_bin_rule "secretflow.component.io.core.bins.vert_bins.feature_modify_normal_bin_rule")(feature\_rule, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`party_modify_normal_bin_rule`](#secretflow.component.io.core.bins.vert_bins.party_modify_normal_bin_rule "secretflow.component.io.core.bins.vert_bins.party_modify_normal_bin_rule")(rule, ...)
      </td>

      <td>
        Assume rules is of form:
      </td>
    </tr>

    <tr>
      <td>
        [`normal_bin_rule_from_pb_and_old_rule`](#secretflow.component.io.core.bins.vert_bins.normal_bin_rule_from_pb_and_old_rule "secretflow.component.io.core.bins.vert_bins.normal_bin_rule_from_pb_and_old_rule")(rules, bins)
      </td>

      <td>
        construct a normal bin rule from pb and old rule
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.vert_bins.normal_feature_to_pb"} module={"secretflow.component.io.core.bins.vert_bins"} fullname={"normal_feature_to_pb"} parameters={["feature", "party_name"]}>
  <Outline.Signature fullname="normal_feature_to_pb" id="secretflow.component.io.core.bins.vert_bins.normal_feature_to_pb">
    <Outline.Prefix>secretflow\.component.io.core.bins.vert\_bins.</Outline.Prefix><Outline.Name>normal\_feature\_to\_pb</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[VariableBins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.VariableBins "secretflow.spec.extend.bin_data_pb2.VariableBins")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.vert_bins.normal_bin_rule_to_pb"} module={"secretflow.component.io.core.bins.vert_bins"} fullname={"normal_bin_rule_to_pb"} parameters={["rules"]} description={"convert a normal bin rule into pb"}>
  <Outline.Signature fullname="normal_bin_rule_to_pb" id="secretflow.component.io.core.bins.vert_bins.normal_bin_rule_to_pb">
    <Outline.Prefix>secretflow\.component.io.core.bins.vert\_bins.</Outline.Prefix><Outline.Name>normal\_bin\_rule\_to\_pb</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    convert a normal bin rule into pb
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.vert_bins.feature_modify_normal_bin_rule"} module={"secretflow.component.io.core.bins.vert_bins"} fullname={"feature_modify_normal_bin_rule"} parameters={["feature_rule", "new_variable_rule_pb_json"]}>
  <Outline.Signature fullname="feature_modify_normal_bin_rule" id="secretflow.component.io.core.bins.vert_bins.feature_modify_normal_bin_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.vert\_bins.</Outline.Prefix><Outline.Name>feature\_modify\_normal\_bin\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature\_rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">new\_variable\_rule\_pb\_json</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.vert_bins.party_modify_normal_bin_rule"} module={"secretflow.component.io.core.bins.vert_bins"} fullname={"party_modify_normal_bin_rule"} parameters={["rule", "party_variable_bins"]} description={"Assume rules is of form:\n{"}>
  <Outline.Signature fullname="party_modify_normal_bin_rule" id="secretflow.component.io.core.bins.vert_bins.party_modify_normal_bin_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.vert\_bins.</Outline.Prefix><Outline.Name>party\_modify\_normal\_bin\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_variable\_bins</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[VariableBins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.VariableBins "secretflow.spec.extend.bin_data_pb2.VariableBins")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Assume rules is of form:
    \{

    >     <DefinitionList>
    >       <dl>
    >         <dt>
    >           <DefinitionList.Term><span>“variables”:\[</span></DefinitionList.Term>
    >         </dt>
    >
    >         <dd>
    >           <DefinitionList>
    >             <dl>
    >               <dt>
    >                 <DefinitionList.Term><span>\{</span></DefinitionList.Term>
    >               </dt>
    >
    >               <dd>
    >                 “name”: str, # feature name
    >                 “type”: str, # “string” or “numeric”, if feature is discrete or continuous
    >                 “categories”: list\[str], # categories for discrete feature
    >                 “split\_points”: list\[float], # left-open right-close split points
    >                 “total\_counts”: list\[int], # total samples count in each bins.
    >                 “else\_counts”: int, # np.nan samples count
    >                 \# for this binning method, we use \[<del id="id2">\*</del>range(f\_num\_bins)] as filling values
    >                 \# that is 0 for bin with index 0, 1 for bin with index 1 etc.
    >                 “filling\_values”: list\[float], # filling values for each bins.
    >                 \# for this binning method, we use -1 as filling value for nan samples
    >                 “else\_filling\_value”: float, # filling value for np.nan samples.
    >               </dd>
    >             </dl>
    >           </DefinitionList>
    >
    >           },
    >           \# … others feature
    >         </dd>
    >       </dl>
    >     </DefinitionList>
    >
    > ],

    }
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.vert_bins.normal_bin_rule_from_pb_and_old_rule"} module={"secretflow.component.io.core.bins.vert_bins"} fullname={"normal_bin_rule_from_pb_and_old_rule"} parameters={["rules", "bins"]} description={"construct a normal bin rule from pb and old rule"}>
  <Outline.Signature fullname="normal_bin_rule_from_pb_and_old_rule" id="secretflow.component.io.core.bins.vert_bins.normal_bin_rule_from_pb_and_old_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.vert\_bins.</Outline.Prefix><Outline.Name>normal\_bin\_rule\_from\_pb\_and\_old\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">bins</span><span>:</span><span>{" "}</span><span className="name">[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    construct a normal bin rule from pb and old rule
  </Outline.Content>
</Outline>

:target{id="module-secretflow.component.io.core.bins.woe_bin_utils"}

## <Target id="secretflow-component-io-core-bins-woe-bin-utils-module" />secretflow\.component.io.core.bins.woe\_bin\_utils module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`merge_rules`](#secretflow.component.io.core.bins.woe_bin_utils.merge_rules "secretflow.component.io.core.bins.woe_bin_utils.merge_rules")(rules)
      </td>

      <td>
        Merge multiple rule dict into one
      </td>
    </tr>

    <tr>
      <td>
        [`find_feature_index`](#secretflow.component.io.core.bins.woe_bin_utils.find_feature_index "secretflow.component.io.core.bins.woe_bin_utils.find_feature_index")(variables, feature\_name)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`dispath_rules`](#secretflow.component.io.core.bins.woe_bin_utils.dispath_rules "secretflow.component.io.core.bins.woe_bin_utils.dispath_rules")(rule, party\_features, ...)
      </td>

      <td>
        Dispatch rules to different parties
      </td>
    </tr>

    <tr>
      <td>
        [`calculate_woe_from_ratios`](#secretflow.component.io.core.bins.woe_bin_utils.calculate_woe_from_ratios "secretflow.component.io.core.bins.woe_bin_utils.calculate_woe_from_ratios")(rp, rn)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`calculate_bin_ratios`](#secretflow.component.io.core.bins.woe_bin_utils.calculate_bin_ratios "secretflow.component.io.core.bins.woe_bin_utils.calculate_bin_ratios")(bin\_iv, bin\_woe, ...)
      </td>

      <td>
        Calculate two ratios: rp = bin\_pos/total\_positive, rn = bin\_negative/total negative.
      </td>
    </tr>

    <tr>
      <td>
        [`compute_bin_ratios`](#secretflow.component.io.core.bins.woe_bin_utils.compute_bin_ratios "secretflow.component.io.core.bins.woe_bin_utils.compute_bin_ratios")(merged\_rule)
      </td>

      <td>
        Based on the merged rule and bin ivs, compute all bin ratios
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.merge_rules"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"merge_rules"} parameters={["rules"]} description={"Merge multiple rule dict into one"}>
  <Outline.Signature fullname="merge_rules" id="secretflow.component.io.core.bins.woe_bin_utils.merge_rules">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>merge\_rules</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Merge multiple rule dict into one
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.find_feature_index"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"find_feature_index"} parameters={["variables", "feature_name"]}>
  <Outline.Signature fullname="find_feature_index" id="secretflow.component.io.core.bins.woe_bin_utils.find_feature_index">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>find\_feature\_index</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">variables</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">feature\_name</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.dispath_rules"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"dispath_rules"} parameters={["rule", "party_features", "label_holder_index", "party_order"]} description={"Dispatch rules to different parties"}>
  <Outline.Signature fullname="dispath_rules" id="secretflow.component.io.core.bins.woe_bin_utils.dispath_rules">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>dispath\_rules</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_features</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span><span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">label\_holder\_index</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_order</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")<span>]</span></span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "(in Python v3.12)")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>,</span><span>{" "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")<span>]</span><span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Dispatch rules to different parties
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.calculate_woe_from_ratios"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"calculate_woe_from_ratios"} parameters={["rp", "rn"]}>
  <Outline.Signature fullname="calculate_woe_from_ratios" id="secretflow.component.io.core.bins.woe_bin_utils.calculate_woe_from_ratios">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>calculate\_woe\_from\_ratios</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rp</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">rn</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.calculate_bin_ratios"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"calculate_bin_ratios"} parameters={["bin_iv", "bin_woe", "bin_total", "feature_total"]} description={"Calculate two ratios: rp = bin_pos/total_positive, rn = bin_negative/total negative."}>
  <Outline.Signature fullname="calculate_bin_ratios" id="secretflow.component.io.core.bins.woe_bin_utils.calculate_bin_ratios">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>calculate\_bin\_ratios</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">bin\_iv</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bin\_woe</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bin\_total</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">feature\_total</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Tuple](https://docs.python.org/3/library/typing.html#typing.Tuple "(in Python v3.12)")<span>\[</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>,</span><span>{" "}</span>[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Calculate two ratios: rp = bin\_pos/total\_positive, rn = bin\_negative/total negative.

    because new\_woe = log(new\_rp / new\_rn).

    <DefinitionList>
      <dl>
        <dt>
          <DefinitionList.Term><span>Recall:</span></DefinitionList.Term>
        </dt>

        <dd>
          bin\_count = bin\_positives + bin\_negatives
          total\_count = total\_positives + total\_negatives
          bin\_woe = log((bin\_positives / total\_positives) / (bin\_negatives / total\_negatives))
          bin\_iv = ((bin\_positives / total\_positives) - (bin\_negatives / total\_negatives)) \* bin\_woe
        </dd>
      </dl>
    </DefinitionList>
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bin_utils.compute_bin_ratios"} module={"secretflow.component.io.core.bins.woe_bin_utils"} fullname={"compute_bin_ratios"} parameters={["merged_rule"]} description={"Based on the merged rule and bin ivs, compute all bin ratios"}>
  <Outline.Signature fullname="compute_bin_ratios" id="secretflow.component.io.core.bins.woe_bin_utils.compute_bin_ratios">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bin\_utils.</Outline.Prefix><Outline.Name>compute\_bin\_ratios</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">merged\_rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Based on the merged rule and bin ivs, compute all bin ratios
  </Outline.Content>
</Outline>

:target{id="module-secretflow.component.io.core.bins.woe_bins"}

## <Target id="secretflow-component-io-core-bins-woe-bins-module" />secretflow\.component.io.core.bins.woe\_bins module

<strong>Functions:</strong>

<table>
  <tbody>
    <tr>
      <td>
        [`woe_feature_to_pb`](#secretflow.component.io.core.bins.woe_bins.woe_feature_to_pb "secretflow.component.io.core.bins.woe_bins.woe_feature_to_pb")(feature, party\_name, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`woe_bin_rule_to_pb`](#secretflow.component.io.core.bins.woe_bins.woe_bin_rule_to_pb "secretflow.component.io.core.bins.woe_bins.woe_bin_rule_to_pb")(rules, label\_holder\_index)
      </td>

      <td>
        convert a woe bin rule into pb Sample WOE rule dict: \{     "variables":\[         \{             "name": str, # feature name             "type": str, # "string" or "numeric", if feature is discrete or continuous             "categories": list\[str], # categories for discrete feature             "split\_points": list\[float], # left-open right-close split points             "total\_counts": list\[int], # total samples count in each bins. "else\_counts": int, # np.nan samples count             "filling\_values": list\[float], # woe values for each bins. "else\_filling\_value": float, # woe value for np.nan samples. },         # ... others feature     ],     # label holder's PYUObject only     # warning: giving bin\_ivs to other party will leak positive samples in each bin. # it is up to label holder's will to give feature iv or bin ivs or all info to workers. # for more information, look at: [https://github.com/secretflow/secretflow/issues/565](https://github.com/secretflow/secretflow/issues/565).
      </td>
    </tr>

    <tr>
      <td>
        [`feature_modify_woe_bin_rule`](#secretflow.component.io.core.bins.woe_bins.feature_modify_woe_bin_rule "secretflow.component.io.core.bins.woe_bins.feature_modify_woe_bin_rule")(feature\_rule, ...)
      </td>

      <td>

      </td>
    </tr>

    <tr>
      <td>
        [`party_modify_woe_bin_rule`](#secretflow.component.io.core.bins.woe_bins.party_modify_woe_bin_rule "secretflow.component.io.core.bins.woe_bins.party_modify_woe_bin_rule")(rule, bins\_json)
      </td>

      <td>
        Suppose only label holder party execute this.
      </td>
    </tr>

    <tr>
      <td>
        [`woe_bin_rule_from_pb_and_old_rule`](#secretflow.component.io.core.bins.woe_bins.woe_bin_rule_from_pb_and_old_rule "secretflow.component.io.core.bins.woe_bins.woe_bin_rule_from_pb_and_old_rule")(rules, bins)
      </td>

      <td>
        construct a woe bin rule from pb and old rule
      </td>
    </tr>
  </tbody>
</table>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bins.woe_feature_to_pb"} module={"secretflow.component.io.core.bins.woe_bins"} fullname={"woe_feature_to_pb"} parameters={["feature", "party_name", "feature_iv"]}>
  <Outline.Signature fullname="woe_feature_to_pb" id="secretflow.component.io.core.bins.woe_bins.woe_feature_to_pb">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bins.</Outline.Prefix><Outline.Name>woe\_feature\_to\_pb</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">party\_name</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">feature\_iv</span><span>:</span><span>{" "}</span><span className="name">[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[VariableBins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.VariableBins "secretflow.spec.extend.bin_data_pb2.VariableBins")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bins.woe_bin_rule_to_pb"} module={"secretflow.component.io.core.bins.woe_bins"} fullname={"woe_bin_rule_to_pb"} parameters={["rules", "label_holder_index"]} description={"convert a woe bin rule into pb\nSample WOE rule dict:\n{"}>
  <Outline.Signature fullname="woe_bin_rule_to_pb" id="secretflow.component.io.core.bins.woe_bins.woe_bin_rule_to_pb">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bins.</Outline.Prefix><Outline.Name>woe\_bin\_rule\_to\_pb</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">label\_holder\_index</span><span>:</span><span>{" "}</span><span className="name">[int](https://docs.python.org/3/library/functions.html#int "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    convert a woe bin rule into pb
    Sample WOE rule dict:
    \{

    >     <DefinitionList>
    >       <dl>
    >         <dt>
    >           <DefinitionList.Term><span>“variables”:\[</span></DefinitionList.Term>
    >         </dt>
    >
    >         <dd>
    >           <DefinitionList>
    >             <dl>
    >               <dt>
    >                 <DefinitionList.Term><span>\{</span></DefinitionList.Term>
    >               </dt>
    >
    >               <dd>
    >                 “name”: str, # feature name
    >                 “type”: str, # “string” or “numeric”, if feature is discrete or continuous
    >                 “categories”: list\[str], # categories for discrete feature
    >                 “split\_points”: list\[float], # left-open right-close split points
    >                 “total\_counts”: list\[int], # total samples count in each bins.
    >                 “else\_counts”: int, # np.nan samples count
    >                 “filling\_values”: list\[float], # woe values for each bins.
    >                 “else\_filling\_value”: float, # woe value for np.nan samples.
    >               </dd>
    >             </dl>
    >           </DefinitionList>
    >
    >           },
    >           \# … others feature
    >         </dd>
    >       </dl>
    >     </DefinitionList>
    >
    > ],
    > \# label holder’s PYUObject only
    > \# warning: giving bin\_ivs to other party will leak positive samples in each bin.
    > \# it is up to label holder’s will to give feature iv or bin ivs or all info to workers.
    > \# for more information, look at: [https://github.com/secretflow/secretflow/issues/565](https://github.com/secretflow/secretflow/issues/565)
    >
    > \# in the following comment, by safe we mean label distribution info is not leaked.
    > “feature\_iv\_info” :\[
    >
    > >     <DefinitionList>
    > >       <dl>
    > >         <dt>
    > >           <DefinitionList.Term><span>\{</span></DefinitionList.Term>
    > >         </dt>
    > >
    > >         <dd>
    > >           “name”: str, #feature name
    > >           “ivs”: list\[float], #iv values for each bins, not safe to share with workers in any case.
    > >           “else\_iv”: float, #iv for nan values, may share to with workers
    > >           “feature\_iv”: float, #sum of bin\_ivs, safe to share with workers when bin num > 2.
    > >         </dd>
    > >       </dl>
    > >     </DefinitionList>
    > >
    > > }
    >
    > ]

    }
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bins.feature_modify_woe_bin_rule"} module={"secretflow.component.io.core.bins.woe_bins"} fullname={"feature_modify_woe_bin_rule"} parameters={["feature_rule", "new_variable_rule_pb"]}>
  <Outline.Signature fullname="feature_modify_woe_bin_rule" id="secretflow.component.io.core.bins.woe_bins.feature_modify_woe_bin_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bins.</Outline.Prefix><Outline.Name>feature\_modify\_woe\_bin\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">feature\_rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">new\_variable\_rule\_pb</span><span>:</span><span>{" "}</span><span className="name">[VariableBins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.VariableBins "secretflow.spec.extend.bin_data_pb2.VariableBins")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content />
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bins.party_modify_woe_bin_rule"} module={"secretflow.component.io.core.bins.woe_bins"} fullname={"party_modify_woe_bin_rule"} parameters={["rule", "bins_json"]} description={"Suppose only label holder party execute this."}>
  <Outline.Signature fullname="party_modify_woe_bin_rule" id="secretflow.component.io.core.bins.woe_bins.party_modify_woe_bin_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bins.</Outline.Prefix><Outline.Name>party\_modify\_woe\_bin\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rule</span><span>:</span><span>{" "}</span><span className="name">[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</span></Outline.Parameter>, <Outline.Parameter><span className="name">bins\_json</span><span>:</span><span>{" "}</span><span className="name">[str](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.12)")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[Dict](https://docs.python.org/3/library/typing.html#typing.Dict "(in Python v3.12)")</Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    Suppose only label holder party execute this.

    rule is a merged rule with computed bin\_ratios.
  </Outline.Content>
</Outline>

<Outline domain="py" objectType="function" target={"secretflow.component.io.core.bins.woe_bins.woe_bin_rule_from_pb_and_old_rule"} module={"secretflow.component.io.core.bins.woe_bins"} fullname={"woe_bin_rule_from_pb_and_old_rule"} parameters={["rules", "bins"]} description={"construct a woe bin rule from pb and old rule"}>
  <Outline.Signature fullname="woe_bin_rule_from_pb_and_old_rule" id="secretflow.component.io.core.bins.woe_bins.woe_bin_rule_from_pb_and_old_rule">
    <Outline.Prefix>secretflow\.component.io.core.bins.woe\_bins.</Outline.Prefix><Outline.Name>woe\_bin\_rule\_from\_pb\_and\_old\_rule</Outline.Name><Outline.ParameterList><span>(</span><Outline.Parameter><span className="name">rules</span><span>:</span><span>{" "}</span><span className="name">[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></span></Outline.Parameter>, <Outline.Parameter><span className="name">bins</span><span>:</span><span>{" "}</span><span className="name">[Bins](secretflow.spec.spec.extend.mdx#secretflow.spec.extend.bin_data_pb2.Bins "secretflow.spec.extend.bin_data_pb2.Bins")</span></Outline.Parameter><span>)</span></Outline.ParameterList><Outline.ReturnType><span>{" \u2192 "}</span>[List](https://docs.python.org/3/library/typing.html#typing.List "(in Python v3.12)")<span>\[</span>[PYUObject](secretflow.device.device.device.mdx#secretflow.device.device.pyu.PYUObject "secretflow.device.device.pyu.PYUObject")<span>]</span></Outline.ReturnType>
  </Outline.Signature>

  <Outline.Content>
    construct a woe bin rule from pb and old rule
  </Outline.Content>
</Outline>

:target{id="module-secretflow.component.io.core.bins"}

## <Target id="module-contents" />Module contents
