---
title: V0.7版本发布
toc: content
dateModified: 2022-09-27T02:33:28.000Z
---
<!doctype html><div class="lake-content" typography="classic"><p id="u4526164f" class="ne-p" style="text-align: center"><br></p><p id="ue3429371" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">据此前隐语开源社区开展的</span><a href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456918611&amp;idx=1&amp;sn=447d84b4c0f98d46af99679fbd871c05&amp;chksm=873a62b4b04deba2b682c6cbdcbe2069012906f5998d89097986aeee998e527571cdd42e76a4&amp;scene=21#wechat_redirect" data-href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456918611&amp;idx=1&amp;sn=447d84b4c0f98d46af99679fbd871c05&amp;chksm=873a62b4b04deba2b682c6cbdcbe2069012906f5998d89097986aeee998e527571cdd42e76a4&amp;scene=21#wechat_redirect" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">「使用体验&amp;功能需求」调研</span></a><span class="ne-text" style="color: rgb(34, 34, 34); text-decoration: underline; font-size: 14px">：</span><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">在技术路线上，广大开发者最常用的技术集中在隐私求交、多方安全计算、联邦学习；在功能需求上，则对于数据分析算子丰富、机器学习算子丰富、文档优化（如结构调整、代码示例的增加）的需求更为迫切。此次</span><strong><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">隐语v0.7版本</span></strong><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">更新对这些反馈建议均有覆盖：</span></p><p id="u4a4ef9ec" class="ne-p" style="text-align: justify"><img src="https://cdn.nlark.com/yuque/0/2022/png/29690418/1664245444836-c04230e6-f4e6-4551-a4e9-ad57186e7680.png" width="1080" id="uffe0af33" class="ne-image" style="color: rgb(34, 34, 34); font-size: 14px"></p><h2 id="Ao8GX"><span class="ne-text" style="color: rgb(255, 104, 39)">版本更新要点</span><span class="ne-text" style="color: rgb(0, 128, 255)">🌟</span></h2><h3 id="EjQrY" style="text-align: left"><strong><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">1、多方安全计算能力</span></strong><span class="ne-text" style="color: rgb(0, 128, 255)"></span></h3><ul class="ne-ul"><li id="u87129e34"><span class="ne-text" style="color: inherit">支持多种3PC的机器学习算法，包括LR，XGB，NN，及VIF，Binning，</span><span class="ne-text" style="color: rgb(50, 50, 50)">PearsonR</span><span class="ne-text" style="color: inherit">等特征工程算法，支持2PC LR算法。</span></li><li id="u63e7ae05"><span class="ne-text" style="color: inherit">隐私集合求交新增实现PCG-PSI，“隐语”是首个实现</span><a href="https://eprint.iacr.org/2022/334" data-href="https://eprint.iacr.org/2022/334" target="_blank" class="ne-link"><span class="ne-text">[BC22]</span></a><span class="ne-text" style="color: inherit">方案的隐私计算框架。</span></li><li id="u6d0c230c"><span class="ne-text" style="color: inherit">自研</span><a href="https://arxiv.org/pdf/2208.13249" data-href="https://arxiv.org/pdf/2208.13249" target="_blank" class="ne-link"><span class="ne-text">DP-PSI</span></a><span class="ne-text" style="color: inherit">提供差分隐私保护的安全求交集，交集可“用”不可“见” （当前提供C++源代码内核）。</span></li></ul><h3 id="yRdJj" style="text-align: justify"><strong><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">2、联邦学习能力</span></strong></h3><ul class="ne-ul"><li id="ud269ebf2"><span class="ne-text" style="color: inherit">数据混合切分场景新增逻辑回归算法。</span></li><li id="u64813565"><span class="ne-text" style="color: inherit">水平联邦新增策略抽象，内置多种non-iid优化、通信优化等SOTA策略。</span></li><li id="ube20a9a4"><span class="ne-text" style="color: inherit">水平和垂直联邦DNN差分隐私保护增强。</span></li></ul><h3 id="zFW3K" style="text-align: justify"><strong><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">3、基础设施及性能优化</span></strong></h3><ul class="ne-ul"><li id="uae57f39b"><span class="ne-text" style="color: inherit">新增 </span><span class="ne-text" style="color: rgb(0, 0, 0)">HEU</span><span class="ne-text" style="color: rgb(23, 26, 29)">.numpy模块，相比基于原生 numpy 的明密文矩阵运算性能更高</span><span class="ne-text" style="color: rgb(0, 0, 0)">。</span></li><li id="u2e76012e"><span class="ne-text" style="color: inherit">SPU ABY3性能和内存优化，Cheetah 矩阵乘法优化（零密文旋转，性能提高5x）</span></li></ul><h3 id="o9KpQ" style="text-align: justify"><strong><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">4、文档优化</span></strong></h3><ul class="ne-ul"><li id="u72932d29"><span class="ne-text" style="color: inherit">提供中文化文档。</span></li><li id="ub379cb93"><span class="ne-text" style="color: inherit">优化文档结构，给到用户更顺畅的体验。</span></li><li id="u8f2b615f"><span class="ne-text" style="color: inherit">丰富了算法和架构设计说明</span></li></ul><h2 id="XBsij"><span class="ne-text" style="color: rgb(255, 255, 255); background-color: rgb(72, 127, 255)">版本更新详情</span></h2><h3 id="LWcDX"><span class="ne-text" style="color: rgb(255, 104, 39)">多方安全计算能力</span><span class="ne-text" style="color: rgb(0, 0, 0)">🔍</span><span class="ne-text" style="color: rgb(34, 34, 34)"></span></h3><h4 id="DZ3x9"><span class="ne-text" style="color: rgb(0, 128, 255)"> 1. SPU密文计算设备</span></h4><ul class="ne-ul"><li id="u736e5575" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[编译器] Tensorflow 前端实验性支持</span></li><li id="u6531fda2" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[编译器] 定点数乘整数优化(减少Truncation)</span></li><li id="ucf1dc470" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[编译器] 增加JIT编译缓存</span></li><li id="uf9430d04" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[运行时] 优化算子(零拷贝Pad/Broadcast/TreeReduce/Reshape)</span></li><li id="u0bf1e1ba" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[运行时] 增加rsqrt拟合，优化除法拟合算法</span></li><li id="uc7e724b0" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[MPC] ABY3支持变长BShare类型，内存优化，Loop优化</span></li><li id="u4a3fb2a1" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[MPC] ABY3优化MSB协议(带宽优化)，增加carryout电路，增加slansky加法器</span></li><li id="uc89b4666" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[MPC] Cheetah 矩阵乘法优化（零密文旋转），128bit支持</span></li><li id="ub53354cb" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">[Infra] 苹果M1芯片支持</span></li></ul><h4 id="Lt9F8"><span class="ne-text" style="color: rgb(0, 128, 255)">2.隐私求交新增实现的PCG-PSI</span></h4><p id="u4b20db8a" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(23, 26, 29); font-size: 14px">此次隐语基于</span><a href="https://eprint.iacr.org/2022/334" data-href="https://eprint.iacr.org/2022/334" target="_blank" class="ne-link"><span class="ne-text" style="font-size: 14px">[BC22]</span></a><span class="ne-text" style="color: rgb(23, 26, 29); font-size: 14px">的PSI最新研究成果，在隐私求交中新增实现的PCG-PSI，是首个实现此方案的隐私计算框架。新方案相比此前计算最优的</span><a href="https://eprint.iacr.org/2016/799" data-href="https://eprint.iacr.org/2016/799" target="_blank" class="ne-link"><span class="ne-text" style="font-size: 14px">[KKRT16]</span></a><span class="ne-text" style="color: rgb(23, 26, 29); font-size: 14px">方案在计算和通信方面都有很大改进，从成本(monetary cost)角度更能满足大数据量的实际业务要求。</span><span class="ne-text" style="color: rgb(136, 136, 136); font-size: 12px"></span></p><h4 id="L29Gk"><span class="ne-text" style="color: rgb(0, 128, 255)">3.自研DP-PSI算法</span></h4><p id="udcfdd652" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(23, 26, 29); font-size: 14px">隐语自研了</span><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">DP-PSI</span><span class="ne-text" style="color: rgb(23, 26, 29); font-size: 14px">，可以得到差分隐私保护的交集信息，更好的满足GDPR关于隐私信息发布的相关要求。目前DP-PSI已在隐语SPU中实现。</span></p><p id="uff0ed1fc" class="ne-p" style="text-align: justify"><span class="ne-text" style="font-size: 14px">点击参见：</span><a href="https://github.com/secretflow/spu/tree/beta/spu/psi/core/dp_psi" data-href="https://github.com/secretflow/spu/tree/beta/spu/psi/core/dp_psi" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline; font-size: 14px">代码</span></a></p><p id="ue478a516" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(0, 0, 0); font-size: 14px">点击跳转：</span><a href="https://spu.readthedocs.io/en/beta/development/psi.html#run-dp-psi-c-example" data-href="https://spu.readthedocs.io/en/beta/development/psi.html#run-dp-psi-c-example" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline; font-size: 14px">详细资料和代码示例</span></a></p><h3 id="G27VR"><span class="ne-text" style="color: rgb(255, 104, 39)">联邦学习能力</span></h3><h4 id="uTZv6"><span class="ne-text" style="color: rgb(0, 128, 255)">1.数据混合切分场景下的逻辑回归算法</span></h4><p id="ub5e8927f" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">一种典型的数据混合切分场景举例，比如A拥有全量的样本以及部分特征，B/C/D等其他参与方拥有相同特征（与A的特征不同）但是分别持有部分样本。当您遇到混合切分场景时，隐语提供了逻辑回归算法作为建模选项。</span></p><h4 id="DbEWy"><span class="ne-text" style="color: rgb(0, 128, 255)">2.水平联邦新增策略抽象</span></h4><p id="u8d2cc352" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">隐语新增了水平联邦策略抽象，只需在配置联邦模型时添加一个参数即可使用。隐语内置了多种压缩算法，可以将稀疏化和non-iid动态组合，同时提供了tensorflow以及pytorch两种后端的多种sota策略实现，包含non-iid优化、通信优化等。同时，用户也可以很方便的进行二次开发以尝试新的联邦策略，策略开发完成后只需要一行代码即可在隐语中注册成新的策略。</span></p><h4 id="bsYKr"><span class="ne-text" style="color: rgb(0, 128, 255)">3.DNN差分隐私保护增强</span></h4><p id="uffbc4f4a" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">隐语对水平联邦和拆分学习均增强了差分隐私（Differential Privacy，后面简称DP）保护。对于水平联邦DNN算法，隐语提供了基于RDP（</span><span class="ne-text" style="color: rgb(0, 0, 0); font-size: 14px">Rényi</span><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px"> Differential Privacy ）的Global DP能力。对于垂直联邦（拆分学习）DNN算法，新增了Gaussian DP能力，目前支持RDP和Gaussian DP两种差分隐私策略。</span></p><h3 id="Mvf9y"><span class="ne-text" style="color: rgb(255, 104, 39)">文档优化⭐️</span></h3><p id="ubea4abdf" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">在隐语框架正式发布后，隐语开源社区曾针对V0.6版本内容进行功能需求及体验反馈调研。在所有参与调研的有效反馈中，超过6成的开发者曾运行隐语文档提供的实例，开源社区也收到了众多开发者对于隐语文档的功能需求及优化建议，</span><em><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">如：“提供中文文档”、“给出更多的样例作参考”、“对现有功能做概念文档补充”等等涉及呈现方式、结构、内容多方面。</span></em></p><p id="u8711cf88" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">感谢所有开发者的耐心细致反馈，此次0.7版本已对部分文档更新需求进行了针对性建设，并将持续完善，帮助广大开发者进一步降低学习成本、提升更加清晰便捷的上手指引，也期待更多开发者在后续的调研中提出更多建议。ps：使用过程中遇到任何问题，都可以在</span><a href="https://github.com/secretflow/secretflow/issues" data-href="https://github.com/secretflow/secretflow/issues" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline; font-size: 14px">github上提问咨询。</span></a></p><p id="ud7364489" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px"></span></p><p id="u44c4b9ac" class="ne-p" style="text-align: justify"><em><span class="ne-text" style="color: rgb(0, 128, 255); font-size: 14px">除了开源框架更新，隐语开放平台也已发布，提供数据接入、统计分析、模型训练等功能，支持低代码可视化开发模式和开发者编码模式，</span></em><a href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456922410&amp;idx=1&amp;sn=a9dc915fb707901d08bda84b777dcc48&amp;chksm=873a51cdb04dd8db80342a29e4b6766efa05f7f90a6f0fa664f0c8021f5fbadb39fe691c70af&amp;scene=21#wechat_redirect" data-href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456922410&amp;idx=1&amp;sn=a9dc915fb707901d08bda84b777dcc48&amp;chksm=873a51cdb04dd8db80342a29e4b6766efa05f7f90a6f0fa664f0c8021f5fbadb39fe691c70af&amp;scene=21#wechat_redirect" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">点击查看详情，申请隐语开放平台体验试用。</span></a></p></div>