---
title: v0.7.11版本更新
toc: content
dateModified: 2022-11-23T08:59:21.000Z
---
<!doctype html><div class="lake-content" typography="classic"><h2 id="n831m"><span class="ne-text"><br />版本更新总览</span></h2><p id="3ebdd7edde57d0b2ed80331847e75337" class="ne-p"><br></p><p id="ba290abd30b8680a71b6da92a790e700" class="ne-p"><span class="ne-text" style="color: #171A1D">隐语V0.7.11版本更新：在基础设备层、多方安全计算算法、联邦学习算法等方向，增加了算法或进行了优化。</span></p><ol class="ne-ol"><li id="7423968fa4fc0cf4c34acc9f187ac34a" style="text-align: justify"><strong><span class="ne-text" style="color: #0080FF">多方安全计算：</span></strong></li></ol><ul class="ne-ul"><li id="f441c7cbc2ccbc44b5546e394ecf54a2" style="text-align: justify"><span class="ne-text" style="color: #171A1D">支持典型金融场景全链路算法，包括各种业务中需要的单方特征功能和评估算法：如评分卡、模型评估、全表统计、特征稳定性（PSI），模型稳定性（PVA）算法等</span></li><li id="5d907dd9dcdae00aba4fda539cf25f7f" style="text-align: justify"><span class="ne-text" style="color: #171A1D">ECDH-PSI新增支持SM2、Secp256k1、FourQ等多种椭圆曲线选择</span></li></ul><ol start="2" class="ne-ol"><li id="d6f31afe599b9220463406ce4b4cb3fa" style="text-align: justify"><strong><span class="ne-text" style="color: #0080FF">联邦学习：</span></strong></li></ol><ul class="ne-ul"><li id="d506577e60a621de69e4cdfbcb2da9ba" style="text-align: justify"><span class="ne-text" style="color: #171A1D">垂直场景下，拆分学习支持多方（n&gt;=2）NN联合训练；对于基于Tenserflow的拆分学习模型计算执行图逻辑进行了优化，性能提升数倍</span></li><li id="f770d8019b53de8cb171b2214c15d1e9" style="text-align: justify"><span class="ne-text" style="color: #171A1D">水平场景下，水平联邦 XGB算法支持离线预测、模型微调（finetune），支持基于pytorch的神经网络分类和回归算法</span></li><li id="1ba5562c89dc7bcb21d8c0ff6f0a8b42" style="text-align: justify"><span class="ne-text" style="color: #171A1D">水平和垂直算法支持</span><span class="ne-text">差分隐私</span><span class="ne-text" style="color: #171A1D">增强</span></li></ul><ol start="3" class="ne-ol"><li id="91a52887861c7bda192b116668917584" style="text-align: justify"><strong><span class="ne-text" style="color: #0080FF">基础设备层：</span></strong></li></ol><ul class="ne-ul"><li id="3e8e8cc637a153324c4324d33e2c5129" style="text-align: justify"><span class="ne-text" style="color: #171A1D">HEU开放硬件加速接口和算法向量化调用接口，优化对接加速硬件的性能。</span><span class="ne-text" style="color: #171A1D"></span></li></ul><p id="c6bb3b69796d2edb43656a2b40f08604" class="ne-p"><br></p><h2 id="XnOzK"><span class="ne-text">版本核心亮点</span></h2><p id="144ff4d5e053c751f03d0fc09d96779b" class="ne-p"><br></p><p id="22af4e222544f047e9e36ce541dba88d" class="ne-p"><span class="ne-text" style="color: #0080FF">本次发版重点完善了典型金融场景全链路算法</span><a href="https://www.yuque.com/secret-flow/admin/mwmxgt2e9ivt4bgw" data-href="https://www.yuque.com/secret-flow/admin/mwmxgt2e9ivt4bgw" class="ne-link"><strong><span class="ne-text">（点击查看“</span></strong><strong><span class="ne-text" style="text-decoration: underline">基于MPC的金融风控全链路技术方案”详解）</span></strong></a><span class="ne-text" style="color: #0080FF">，</span><span class="ne-text" style="color: #0080FF">并面向开发者发布配套的交互式教程。</span></p><p id="u8040aebe" class="ne-p"><span class="ne-text">完整demo示例请访问</span><strong><span class="ne-text">：</span></strong><span class="ne-text" style="color: #0080FF">https://secretflow.readthedocs.io/zh_CN/latest/tutorial/risk_control_scenario.html</span></p><p id="uab0c4363" class="ne-p"><span class="ne-text" style="color: #000000">可使用隐语在风控领域进行LR模型和XGB模型的模型研发工作，后续还将陆续开放模型部署和在线/离线模型预测功能。下面就如何基于隐语框架实现典型金融场景全链路功能进行简要介绍，利用一个开源数据集训练一个金融风控场景常用的线性回归和XGB模型，过程中需包含以下几个步骤：</span></p><p id="ud8048bdb" class="ne-p"><strong><span class="ne-text" style="color: #1890FF">1、样本对齐</span></strong></p><p id="ufae4df90" class="ne-p"><span class="ne-text" style="color: #000000">隐私求交（</span><span class="ne-text">Private Set Intersection</span><span class="ne-text" style="color: #000000">)是一种密码学方法，可以获取两个集合的交集，而不泄露任何其他信息。在隐语中，SPU设备支持三种基于半诚实模型隐私求交算法：</span></p><ul class="ne-ul"><li id="14e23ecc35a295148c75ea9eefb47dfb" style="text-align: justify"><span class="ne-text">ECDH</span><span class="ne-text" style="color: #000000">： 基于公钥密码学；</span><span class="ne-text" style="color: #171A1D">通信量较小，适用于低带宽场景；计算量大，CPU的型号和核数对性能影响比较大。</span></li><li id="96e5321033f8aa0c43a07a2ea1f4576a" style="text-align: justify"><span class="ne-text">KKRT</span><span class="ne-text" style="color: #000000">：基于布谷鸟哈希（Cuckoo Hashing）以及高效不经意传输扩展（OT Extension）；</span><span class="ne-text" style="color: #171A1D">通信量较大，适用于内网场景；计算量小。</span></li><li id="869bc6258bb854e9eece098e7e41165c" style="text-align: justify"><span class="ne-text">BC22PCG</span><span class="ne-text" style="color: #000000">： 基于随机相关函数生成器；</span><span class="ne-text" style="color: #171A1D">相比ecdh/kkrt16 通信量，计算量更加平衡，适用更多的场景。</span></li></ul><p id="e8cfd9e421df52fbd32fcaa351ad8c73" class="ne-p"><strong><span class="ne-text" style="color: #1890FF">2、特征预处理</span></strong></p><ul class="ne-ul"><li id="570a673eeb0aa94005cee4bfb450f15d" style="text-align: justify"><span class="ne-text" style="color: #000000">值替换</span></li><li id="9e725cdb2dfd344d01127dc891b54880" style="text-align: justify"><span class="ne-text" style="color: #000000">缺失值填充</span></li><li id="5ff87cb78e6d98e6f321ada7e40301bc" style="text-align: justify"><span class="ne-text" style="color: #000000">WOE分组/分箱转换</span></li><li id="fe05e00ec430db833cebc63cd1accd0a" style="text-align: justify"><span class="ne-text" style="color: #000000">one-hot编码</span></li><li id="1e364f69dd1e33be3f6ad45cd6631ad6" style="text-align: justify"><span class="ne-text" style="color: #000000">标准化</span></li></ul><p id="aad2fc3d87a6be310206e723f318a3ca" class="ne-p"><strong><span class="ne-text" style="color: #1890FF">3、数据分析</span></strong></p><ul class="ne-ul"><li id="79ccec322c190df244b24f8bdfebc581" style="text-align: justify"><span class="ne-text" style="color: #000000">全表统计</span></li></ul><p id="270bdf03f768956699bca6a34f1860d1" class="ne-p"><span class="ne-text" style="color: #000000">隐语提供了类似于 pd.DataFrame.describe 来展示所有特征的基本统计信息。</span><span class="ne-text" style="color: #000000">在特征预处理的过程中，可以不断调用全表统计来关注预处理效果。</span></p><ul class="ne-ul"><li id="0f65ad30336a3a530497370b513f0404" style="text-align: justify"><span class="ne-text" style="color: #171A1D">Pearson 相关系数矩阵</span></li></ul><p id="62fddbbe38e49433292b79bc4a4ea65d" class="ne-p"><span class="ne-text" style="color: #000000">计算特征和特征之间，特征和标签之间的相关系数矩阵。</span></p><ul class="ne-ul"><li id="ffc5ed8297693684c31c3e0fcb964552" style="text-align: justify"><span class="ne-text" style="color: #000000">VIF指标计算</span></li></ul><p id="fbfa58ccd207af6687d4fb332c4633e2" class="ne-p"><span class="ne-text" style="color: #000000">隐语支持VIF的计算来进行多重共线性检验。</span></p><p id="23593281af1972e79f7f9ab73330503a" class="ne-p"><strong><span class="ne-text" style="color: #1890FF">4、模型训练及预测</span></strong></p><ul class="ne-ul"><li id="24db8d2ca7810186e56eeb4f1c3a4ac5" style="text-align: justify"><span class="ne-text" style="color: #000000">逻辑回归模型：</span><span class="ne-text" style="color: #000000">请参考相关的</span><span class="ne-text">API文档。</span></li><li id="1c06d0ed18941d77be14cf1ddcd6dfde" style="text-align: justify"><span class="ne-text" style="color: #000000">XGBoost模型：</span><span class="ne-text" style="color: #000000">请参考相关的</span><span class="ne-text">API文档。</span></li></ul><p id="54086212a966381f2b445012b01614d1" class="ne-p"><span class="ne-text">API文档地址：</span><a href="https://secretflow.readthedocs.io/zh_CN/latest/api/index.html" data-href="https://secretflow.readthedocs.io/zh_CN/latest/api/index.html" target="_blank" class="ne-link"><span class="ne-text" style="color: #0080FF">https://secretflow.readthedocs.io/zh_CN/latest/api/index.html</span></a></p><p id="b730001ff3134b89ad7dd85105da2628" class="ne-p"><strong><span class="ne-text" style="color: #1890FF">5、模型评估</span></strong></p><p id="2c9092639cd260f94a99a9830270d464" class="ne-p"><span class="ne-text" style="color: #000000">可利用测试数据集对模型效果进行评估，包括：</span></p><ul class="ne-ul"><li id="bb99e1158519f804889138765f19092b" style="text-align: justify"><span class="ne-text" style="color: #000000">二分类评估</span></li></ul><p id="611bbea11a2550095938c8590c92dc83" class="ne-p"><span class="ne-text" style="color: #000000">隐语中对二分类的评估有集成的支持：同时</span><span class="ne-text" style="color: #000000">计算 </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">AUC</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">KS</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">F1 Score</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">Lift</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">K-S</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">Gain</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">Precision</span><span class="ne-text" style="color: #000000">, </span><span class="ne-text" style="color: #000000; background-color: #EFF0F1">Recall</span><span class="ne-text" style="color: #000000"> 等统计数值， 并提供（基于prediction score的）等频和等距分箱的统计报告和总报告。</span></p><ul class="ne-ul"><li id="9e51065bfc7e87e19029a499fe814138" style="text-align: justify"><span class="ne-text" style="color: #000000">PVA</span></li></ul><p id="b66e5f6dc7b2bb6113e7c01c262ecdc6" class="ne-p"><span class="ne-text">预测和实际平均值比较。</span></p><ul class="ne-ul"><li id="b7a7e96a63ebacd4ecb960893edd9f1b" style="text-align: justify"><span class="ne-text" style="color: #000000">P-Value</span></li></ul><p id="78f47b6d1fdb413f258af520ab23e109" class="ne-p"><span class="ne-text" style="color: #000000">双方可通过p-value的值来判断参数是否显著，即该自变量是否可以有效预测因变量的变异, 从而判定对应的解释变量是否应包括在模型中。</span></p><ul class="ne-ul"><li id="234cebceaa0184873df5140872368eca" style="text-align: justify"><span class="ne-text" style="color: #000000">评分卡转换</span></li></ul><p id="7f83b15f283dcce94328bdfba1ce3ab8" class="ne-p"><span class="ne-text" style="color: #000000">评分卡设定的分值刻度可以通过将分值表示为比率对数的线性表达式来定义。</span></p><p id="4c286de874cb5fb953dfe9bc739348a7" class="ne-p" style="text-align: left"><span class="ne-text" style="color: #000000">代码地址：</span></p><p id="30754e7e0271a317ee3da19be1a8126f" class="ne-p" style="text-align: left"><span class="ne-text" style="color: #0080FF">https://git</span><span class="ne-text" style="color: #0080FF">hub.com/secretflow/secretflow/blob/main/docs/tutorial/risk_control_scenario.ipynb</span></p><p id="e76b305ab2a4f4bc9efa1821ca89e214" class="ne-p" style="text-align: left"><span class="ne-text" style="color: #0080FF"></span></p><p id="u5402f571" class="ne-p" style="text-align: center"><img src="https://cdn.nlark.com/yuque/0/2022/png/29690418/1669193954499-dcbde68d-9bc0-48b6-828a-17abe333d289.png" width="1080" id="ubf273b36" class="ne-image" style="color: rgb(34, 34, 34); font-size: 16px"></p><p id="u6f65f0fa" class="ne-p" style="text-align: justify"><span class="ne-text" style="color: rgb(34, 34, 34); font-size: 14px">同时，除隐语框架开放的代码，隐语开放平台已上线上述流程功能。</span><a href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456922410&amp;idx=1&amp;sn=a9dc915fb707901d08bda84b777dcc48&amp;chksm=873a51cdb04dd8db80342a29e4b6766efa05f7f90a6f0fa664f0c8021f5fbadb39fe691c70af&amp;scene=21#wechat_redirect" data-href="http://mp.weixin.qq.com/s?__biz=MzA5NTQ0MTI4OA==&amp;mid=2456922410&amp;idx=1&amp;sn=a9dc915fb707901d08bda84b777dcc48&amp;chksm=873a51cdb04dd8db80342a29e4b6766efa05f7f90a6f0fa664f0c8021f5fbadb39fe691c70af&amp;scene=21#wechat_redirect" target="_blank" class="ne-link"><span class="ne-text">欢迎申请试用：隐语开放平台，体验金融全链路流程操作。</span></a></p><h3 id="W03Th"><span class="ne-text">加入社区</span></h3><p id="2cf7062d7f14332a2409cdb2e30257d7" class="ne-p" style="text-align: left"><span class="ne-text">🔗</span><a href="https://www.secretflow.org.cn" data-href="https://www.secretflow.org.cn" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">官网</span></a><span class="ne-text">    🔗</span><a href="https://github.com/secretflow" data-href="https://github.com/secretflow" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">代码</span></a><span class="ne-text">    🔗</span><a href="https://secretflow.readthedocs.io" data-href="https://secretflow.readthedocs.io" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">文档</span></a><span class="ne-text">    🔗</span><a href="https://survey.alipay.com/apps/zhiliao/FdC-vTsPM" data-href="https://survey.alipay.com/apps/zhiliao/FdC-vTsPM" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">体验</span></a><span class="ne-text">    🔗</span><a href="https://secretflow.zhubai.love/" data-href="https://secretflow.zhubai.love/" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">订阅</span></a><span class="ne-text">    🔗</span><a href="https://space.bilibili.com/2073575923" data-href="https://space.bilibili.com/2073575923" target="_blank" class="ne-link"><span class="ne-text" style="text-decoration: underline">视频</span></a></p><p id="b5c2da9d3a976029301d8a0865f8070a" class="ne-p" style="text-align: left"><span class="ne-text">官方邮箱：</span><strong><span class="ne-text" style="color: #000000">secretflow-contact@service.alipay.com</span></strong></p><p id="aed7ac13195a020b075e3e317e5754d1" class="ne-p"><img src="https://cdn.nlark.com/yuque/0/2022/png/27064845/1660553616030-d22fc5d5-36d2-4a7b-99fc-2a9fd87e9ec6.png" width="1491" id="y3lno" class="ne-image"></p><p id="b58a8699c0901e0bf3fe478c4d901f5b" class="ne-p" style="text-align: left"><span class="ne-text" style="color: #0080FF"></span></p><p id="ed138e05f4e69b0992e21c96e4cdeb04" class="ne-p" style="text-align: left"><span class="ne-text" style="color: #0080FF"></span></p></div>